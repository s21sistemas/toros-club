import{t as x,j as r,r as y}from"./index-BBEn_SVL.js";import{u as d,x as i,a as p,I as A}from"./InputField-be6TBco1.js";import{B as v}from"./BaseTable-D3Icrcxb.js";import{B as h,a as j}from"./ButtonsModal-DTPgTePp.js";import{M as D}from"./ModalDelete-Cm4UsPMz.js";import{a as S}from"./schemas-BVPTICEC.js";import{C as q}from"./CancelButtonModal-C7JNYi4q.js";import"./categorias-Dc-bfLah.js";import"./dayjs.min-8lXlmZD7.js";import"./eye-C0bU4jNc.js";import"./chevron-right-AWaKUqHA.js";import"./players-Ctxd4Kou.js";import"./es-CF7lCWqw.js";import"./square-pen-BhYtd8da.js";const I=()=>{const t=d(e=>e.modalType),o=d(e=>e.formData),l=d(e=>e.closeModal),c=i(e=>e.loading),s=i(e=>e.articulos),a=i(e=>e.getDataArticulo),n=i(e=>e.addArticulo),u=i(e=>e.editArticulo),f=i(e=>e.deleteArticulo);return{articulos:s,loading:c,getDataArticulo:a,handleSubmit:e=>{e.preventDefault();const m=S.safeParse(o);if(!m.success){const b=m.error.flatten().fieldErrors,g=Object.values(b)[0][0];x.error(g);return}t==="add"?n(o):t==="edit"&&u(o),l()},handleDelete:e=>{f(e),l()}}},M={generalFields:[{required:!0,type:"text",label:"Nombre de artículo",name:"nombre"},{required:!0,type:"number",label:"Precio de compra",name:"precio_compra"},{required:!0,type:"number",label:"Precio de venta",name:"precio_venta"},{required:!0,type:"number",label:"Precio de reposición",name:"precio_reposicion"},{required:!0,type:"select",label:"¿El artículo es para equipar?",name:"articulo_equipar",opcSelect:[{label:"Selecciona una opción",value:""},{label:"SI",value:"SI"},{label:"NO",value:"NO"}]}]},P=()=>{const{view:t,formData:o,handleInputChange:l}=p();return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:M.generalFields.map(({type:c,label:s,name:a,required:n,opcSelect:u})=>r.jsx(A,{type:c,label:s,name:a,required:n,value:o[a]||"",onChange:l,disabled:t,opcSelect:u,classInput:"md:col-span-3"},a))}),t?r.jsx(q,{}):r.jsx(h,{})]})},_=[{key:"nombre",name:"Nombre del artículo"},{key:"precio_compra",name:"Precio de compra"},{key:"precio_venta",name:"Precio de venta"},{key:"precio_reposicion",name:"Precio de reposición"},{key:"articulo_equipar",name:"¿El artículo es para equipar?"}];function Q(){const{modalType:t,currentItem:o}=p(),{articulos:l,loading:c,getDataArticulo:s,handleSubmit:a,handleDelete:n}=I();return y.useEffect(()=>{(async()=>await s())()},[s]),r.jsxs("div",{className:"md:p-4 bg-gray-100",children:[r.jsx(v,{columns:_,data:l,title:"Artículos",loading:c}),(t==="add"||t==="edit"||t==="view")&&r.jsx(j,{handleSubmit:a,Inputs:r.jsx(P,{})}),t==="delete"&&o&&r.jsx(D,{handleDelete:n})]})}export{Q as default};
