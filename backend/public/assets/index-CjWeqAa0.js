const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UsersPage-akWlqJ5p.js","assets/ButtonsModal-C4PNvLzT.js","assets/InputField-C2bV7C3J.js","assets/categorias-DYCwzMem.js","assets/dayjs.min-DH9acFiI.js","assets/costos-porrista-9QLCd6eY.js","assets/eye-BbsgsaIk.js","assets/BaseTable-DxRxbJEJ.js","assets/chevron-right-CCqFvTGw.js","assets/players-FXc4Iomq.js","assets/es-Om7KOudh.js","assets/square-pen-BYxR8_4Y.js","assets/ModalDelete-DpY_EDEH.js","assets/useUserStore-QG04tUN-.js","assets/roles-BKNYmX0T.js","assets/schemas-BVPTICEC.js","assets/CancelButtonModal-BD6jH3B7.js","assets/AdminPage-D6AjPtaG.js","assets/useCheerleaderStore-CBBE_m0w.js","assets/useBankStore-C6DBwtaP.js","assets/usePlayerStore-BckgLlmE.js","assets/findIndex-pO0_-L1G.js","assets/calendar-A_TMcF9S.js","assets/index-Bh1Vj7TI.js","assets/JugadoresPage-Bgi1Yz9x.js","assets/sweetalert2.esm.all-B0Dix5B2.js","assets/uploadFile-BbNSwvBa.js","assets/useTemporadasStore-BdbVkyd2.js","assets/AlertaCard-CMccITvI.js","assets/SignatureInput-W-8Y7Lkn.js","assets/TemporadasPage-Dz0JeSL2.js","assets/CostosJugadorPage-BPa-f1Ar.js","assets/CostosPorristaPage-f9H2-6aZ.js","assets/CategoriasPage-BsA2SNlj.js","assets/useReports-DexWxfc4.js","assets/useProveedorStore-CovlzjRT.js","assets/PorristasPage-BvgEz85X.js","assets/PagosJugadoresPage-CitCfy5K.js","assets/usePaymentPlayerStore-pMws1P9d.js","assets/caja-CQ-B0I8H.js","assets/historial-DbYVCKzn.js","assets/useCalendarStore-CHQbyonr.js","assets/CardAbonos-D4ODg-i3.js","assets/PagosPorristasPage-BCwO0DyI.js","assets/RolesPage-Dekj87OC.js","assets/useModule-B2hRjx9m.js","assets/ModulosPage-BOwbs29X.js","assets/ProveedoresPage-C_vdUpYF.js","assets/CalendarioPagosPage-ChVEMfsD.js","assets/CalendarioPagosPage-qeKFb0yB.css","assets/EquipamientoPage-BZew74i9.js","assets/almacen-CwI6MNzI.js","assets/ArticulosPage-BDpCr992.js","assets/OrdenCompraPage-6GG9slyI.js","assets/AlmacenPage-CsuBImEl.js","assets/CuentasPagarPage-DQdH3O7o.js","assets/compras-DiEO0baL.js","assets/ReportesPage-BCNPFnc3.js","assets/GastosPage-BaOSMXto.js","assets/ComprasPage-yGnOtNAP.js","assets/PerfilPage-BZ2E7Ulh.js","assets/BancosPage-Dripu6f2.js","assets/CajaPage-BMtCPDfY.js","assets/HistorialPage-B8Ma-qO9.js","assets/AlertaPage-F1t0A-qg.js","assets/formCorreoOptions-ZH_SYiQz.js","assets/EnviarCorreoPage-jQHp-LBH.js","assets/LoginPage-Di57Kegk.js"])))=>i.map(i=>d[i]);
function nS(i,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var iV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var am={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function iS(){if(vv)return Kl;vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Kl.Fragment=e,Kl.jsx=t,Kl.jsxs=t,Kl}var Ev;function rS(){return Ev||(Ev=1,am.exports=iS()),am.exports}var G=rS(),om={exports:{}},$l={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function sS(){return Tv||(Tv=1,function(i){function e(te,ye){var de=te.length;te.push(ye);e:for(;0<de;){var De=de-1>>>1,N=te[De];if(0<o(N,ye))te[De]=ye,te[de]=N,de=De;else break e}}function t(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var ye=te[0],de=te.pop();if(de!==ye){te[0]=de;e:for(var De=0,N=te.length,Y=N>>>1;De<Y;){var ae=2*(De+1)-1,re=te[ae],oe=ae+1,Ae=te[oe];if(0>o(re,de))oe<N&&0>o(Ae,re)?(te[De]=Ae,te[oe]=de,De=oe):(te[De]=re,te[ae]=de,De=ae);else if(oe<N&&0>o(Ae,de))te[De]=Ae,te[oe]=de,De=oe;else break e}}return ye}function o(te,ye){var de=te.sortIndex-ye.sortIndex;return de!==0?de:te.id-ye.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,E=null,A=3,O=!1,M=!1,$=!1,L=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function W(te){for(var ye=t(g);ye!==null;){if(ye.callback===null)s(g);else if(ye.startTime<=te)s(g),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(g)}}function ce(te){if($=!1,W(te),!M)if(t(p)!==null)M=!0,dt();else{var ye=t(g);ye!==null&&$e(ce,ye.startTime-te)}}var ue=!1,ve=-1,k=5,R=-1;function S(){return!(i.unstable_now()-R<k)}function D(){if(ue){var te=i.unstable_now();R=te;var ye=!0;try{e:{M=!1,$&&($=!1,K(ve),ve=-1),O=!0;var de=A;try{t:{for(W(te),E=t(p);E!==null&&!(E.expirationTime>te&&S());){var De=E.callback;if(typeof De=="function"){E.callback=null,A=E.priorityLevel;var N=De(E.expirationTime<=te);if(te=i.unstable_now(),typeof N=="function"){E.callback=N,W(te),ye=!0;break t}E===t(p)&&s(p),W(te)}else s(p);E=t(p)}if(E!==null)ye=!0;else{var Y=t(g);Y!==null&&$e(ce,Y.startTime-te),ye=!1}}break e}finally{E=null,A=de,O=!1}ye=void 0}}finally{ye?x():ue=!1}}}var x;if(typeof ie=="function")x=function(){ie(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,C=U.port2;U.port1.onmessage=D,x=function(){C.postMessage(null)}}else x=function(){L(D,0)};function dt(){ue||(ue=!0,x())}function $e(te,ye){ve=L(function(){te(i.unstable_now())},ye)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){M||O||(M=!0,dt())},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(te){switch(A){case 1:case 2:case 3:var ye=3;break;default:ye=A}var de=A;A=ye;try{return te()}finally{A=de}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,ye){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var de=A;A=te;try{return ye()}finally{A=de}},i.unstable_scheduleCallback=function(te,ye,de){var De=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,te){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,te={id:T++,callback:ye,priorityLevel:te,startTime:de,expirationTime:N,sortIndex:-1},de>De?(te.sortIndex=de,e(g,te),t(p)===null&&te===t(g)&&($?(K(ve),ve=-1):$=!0,$e(ce,de-De))):(te.sortIndex=N,e(p,te),M||O||(M=!0,dt())),te},i.unstable_shouldYield=S,i.unstable_wrapCallback=function(te){var ye=A;return function(){var de=A;A=ye;try{return te.apply(this,arguments)}finally{A=de}}}}(um)),um}var bv;function aS(){return bv||(bv=1,lm.exports=sS()),lm.exports}var cm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function oS(){if(wv)return Oe;wv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,$={};function L(N,Y,ae){this.props=N,this.context=Y,this.refs=$,this.updater=ae||O}L.prototype.isReactComponent={},L.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=L.prototype;function ie(N,Y,ae){this.props=N,this.context=Y,this.refs=$,this.updater=ae||O}var W=ie.prototype=new K;W.constructor=ie,M(W,L.prototype),W.isPureReactComponent=!0;var ce=Array.isArray,ue={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function k(N,Y,ae,re,oe,Ae){return ae=Ae.ref,{$$typeof:i,type:N,key:Y,ref:ae!==void 0?ae:null,props:Ae}}function R(N,Y){return k(N.type,Y,void 0,void 0,void 0,N.props)}function S(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function D(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return Y[ae]})}var x=/\/+/g;function U(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):Y.toString(36)}function C(){}function dt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function $e(N,Y,ae,re,oe){var Ae=typeof N;(Ae==="undefined"||Ae==="boolean")&&(N=null);var me=!1;if(N===null)me=!0;else switch(Ae){case"bigint":case"string":case"number":me=!0;break;case"object":switch(N.$$typeof){case i:case e:me=!0;break;case T:return me=N._init,$e(me(N._payload),Y,ae,re,oe)}}if(me)return oe=oe(N),me=re===""?"."+U(N,0):re,ce(oe)?(ae="",me!=null&&(ae=me.replace(x,"$&/")+"/"),$e(oe,Y,ae,"",function(Je){return Je})):oe!=null&&(S(oe)&&(oe=R(oe,ae+(oe.key==null||N&&N.key===oe.key?"":(""+oe.key).replace(x,"$&/")+"/")+me)),Y.push(oe)),1;me=0;var it=re===""?".":re+":";if(ce(N))for(var Ne=0;Ne<N.length;Ne++)re=N[Ne],Ae=it+U(re,Ne),me+=$e(re,Y,ae,Ae,oe);else if(Ne=A(N),typeof Ne=="function")for(N=Ne.call(N),Ne=0;!(re=N.next()).done;)re=re.value,Ae=it+U(re,Ne++),me+=$e(re,Y,ae,Ae,oe);else if(Ae==="object"){if(typeof N.then=="function")return $e(dt(N),Y,ae,re,oe);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return me}function te(N,Y,ae){if(N==null)return N;var re=[],oe=0;return $e(N,re,"","",function(Ae){return Y.call(ae,Ae,oe++)}),re}function ye(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function De(){}return Oe.Children={map:te,forEach:function(N,Y,ae){te(N,function(){Y.apply(this,arguments)},ae)},count:function(N){var Y=0;return te(N,function(){Y++}),Y},toArray:function(N){return te(N,function(Y){return Y})||[]},only:function(N){if(!S(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Oe.Component=L,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=ie,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(N){return function(){return N.apply(null,arguments)}},Oe.cloneElement=function(N,Y,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var re=M({},N.props),oe=N.key,Ae=void 0;if(Y!=null)for(me in Y.ref!==void 0&&(Ae=void 0),Y.key!==void 0&&(oe=""+Y.key),Y)!ve.call(Y,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Y.ref===void 0||(re[me]=Y[me]);var me=arguments.length-2;if(me===1)re.children=ae;else if(1<me){for(var it=Array(me),Ne=0;Ne<me;Ne++)it[Ne]=arguments[Ne+2];re.children=it}return k(N.type,oe,void 0,void 0,Ae,re)},Oe.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Oe.createElement=function(N,Y,ae){var re,oe={},Ae=null;if(Y!=null)for(re in Y.key!==void 0&&(Ae=""+Y.key),Y)ve.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(oe[re]=Y[re]);var me=arguments.length-2;if(me===1)oe.children=ae;else if(1<me){for(var it=Array(me),Ne=0;Ne<me;Ne++)it[Ne]=arguments[Ne+2];oe.children=it}if(N&&N.defaultProps)for(re in me=N.defaultProps,me)oe[re]===void 0&&(oe[re]=me[re]);return k(N,Ae,void 0,void 0,null,oe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(N){return{$$typeof:m,render:N}},Oe.isValidElement=S,Oe.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:ye}},Oe.memo=function(N,Y){return{$$typeof:g,type:N,compare:Y===void 0?null:Y}},Oe.startTransition=function(N){var Y=ue.T,ae={};ue.T=ae;try{var re=N(),oe=ue.S;oe!==null&&oe(ae,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(De,de)}catch(Ae){de(Ae)}finally{ue.T=Y}},Oe.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Oe.use=function(N){return ue.H.use(N)},Oe.useActionState=function(N,Y,ae){return ue.H.useActionState(N,Y,ae)},Oe.useCallback=function(N,Y){return ue.H.useCallback(N,Y)},Oe.useContext=function(N){return ue.H.useContext(N)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(N,Y){return ue.H.useDeferredValue(N,Y)},Oe.useEffect=function(N,Y){return ue.H.useEffect(N,Y)},Oe.useId=function(){return ue.H.useId()},Oe.useImperativeHandle=function(N,Y,ae){return ue.H.useImperativeHandle(N,Y,ae)},Oe.useInsertionEffect=function(N,Y){return ue.H.useInsertionEffect(N,Y)},Oe.useLayoutEffect=function(N,Y){return ue.H.useLayoutEffect(N,Y)},Oe.useMemo=function(N,Y){return ue.H.useMemo(N,Y)},Oe.useOptimistic=function(N,Y){return ue.H.useOptimistic(N,Y)},Oe.useReducer=function(N,Y,ae){return ue.H.useReducer(N,Y,ae)},Oe.useRef=function(N){return ue.H.useRef(N)},Oe.useState=function(N){return ue.H.useState(N)},Oe.useSyncExternalStore=function(N,Y,ae){return ue.H.useSyncExternalStore(N,Y,ae)},Oe.useTransition=function(){return ue.H.useTransition()},Oe.version="19.0.0",Oe}var Av;function sp(){return Av||(Av=1,cm.exports=oS()),cm.exports}var hm={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function lS(){if(Sv)return dn;Sv=1;var i=sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},dn.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},dn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},dn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},dn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,E=m(T,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:O}):T==="script"&&s.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},dn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,E=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},dn.requestFormReset=function(p){s.d.r(p)},dn.unstable_batchedUpdates=function(p,g){return p(g)},dn.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},dn.useFormStatus=function(){return f.H.useHostTransitionStatus()},dn.version="19.0.0",dn}var Rv;function AE(){if(Rv)return hm.exports;Rv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hm.exports=lS(),hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function uS(){if(Iv)return $l;Iv=1;var i=aS(),e=sp(),t=AE();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),ce=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function ve(n){return n===null||typeof n!="object"?null:(n=ue&&n[ue]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case L:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Provider";case A:return(n._context.displayName||"Context")+".Consumer";case M:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return r=n.displayName||null,r!==null?r:R(n.type)||"Memo";case ie:r=n._payload,n=n._init;try{return R(n(r))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,x,U;function C(n){if(x===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);x=r&&r[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+n+U}var dt=!1;function $e(n,r){if(!n||dt)return"";dt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var q=Q}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Q){q=Q}n.call(ne.prototype)}}else{try{throw Error()}catch(Q){q=Q}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var I=v.split(`
`),P=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var X=`
`+I[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=h);break}}}finally{dt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?C(a):""}function te(n){switch(n.tag){case 26:case 27:case 5:return C(n.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return n=$e(n.type,!1),n;case 11:return n=$e(n.type.render,!1),n;case 1:return n=$e(n.type,!0),n;default:return""}}function ye(n){try{var r="";do r+=te(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function de(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function De(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function N(n){if(de(n)!==n)throw Error(s(188))}function Y(n){var r=n.alternate;if(!r){if(r=de(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),n;if(d===l)return N(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function ae(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=ae(n),r!==null)return r;n=n.sibling}return null}var re=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},me=[],it=-1;function Ne(n){return{current:n}}function Je(n){0>it||(n.current=me[it],me[it]=null,it--)}function Ue(n,r){it++,me[it]=n.current,n.current=r}var Zt=Ne(null),Fn=Ne(null),An=Ne(null),Gn=Ne(null);function Ri(n,r){switch(Ue(An,r),Ue(Fn,n),Ue(Zt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Q_(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=Q_(n),r=Y_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Je(Zt),Ue(Zt,r)}function Kn(){Je(Zt),Je(Fn),Je(An)}function di(n){n.memoizedState!==null&&Ue(Gn,n);var r=Zt.current,a=Y_(r,n.type);r!==a&&(Ue(Fn,n),Ue(Zt,a))}function er(n){Fn.current===n&&(Je(Zt),Je(Fn)),Gn.current===n&&(Je(Gn),jl._currentValue=Ae)}var ln=Object.prototype.hasOwnProperty,tr=i.unstable_scheduleCallback,zr=i.unstable_cancelCallback,un=i.unstable_shouldYield,$n=i.unstable_requestPaint,cn=i.unstable_now,xa=i.unstable_getCurrentPriorityLevel,ht=i.unstable_ImmediatePriority,It=i.unstable_UserBlockingPriority,Qn=i.unstable_NormalPriority,Br=i.unstable_LowPriority,Yn=i.unstable_IdlePriority,ka=i.log,Sn=i.unstable_setDisableYieldValue,Ii=null,Ft=null;function jr(n){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Ii,n,void 0,(n.current.flags&128)===128)}catch{}}function Nn(n){if(typeof ka=="function"&&Sn(n),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Ii,n)}catch{}}var Jt=Math.clz32?Math.clz32:Ma,nr=Math.log,xn=Math.LN2;function Ma(n){return n>>>=0,n===0?32:31-(nr(n)/xn|0)|0}var kn=128,mi=4194304;function Te(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Qe(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,h=n.suspendedLanes,d=n.pingedLanes,v=n.warmLanes;n=n.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~h,a!==0?l=Te(a):(d&=b,d!==0?l=Te(d):n||(v=b&~v,v!==0&&(l=Te(v))))):(b=a&~h,b!==0?l=Te(b):d!==0?l=Te(d):n||(v=a&~v,v!==0&&(l=Te(v)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,v=r&-r,h>=v||h===32&&(v&4194176)!==0)?r:l}function ut(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ct(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ci(){var n=kn;return kn<<=1,(kn&4194176)===0&&(kn=128),n}function rt(){var n=mi;return mi<<=1,(mi&62914560)===0&&(mi=4194304),n}function Pt(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function st(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function hn(n,r,a,l,h,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,P=n.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Jt(a),ne=1<<X;b[X]=0,I[X]=-1;var q=P[X];if(q!==null)for(P[X]=null,X=0;X<q.length;X++){var Q=q[X];Q!==null&&(Q.lane&=-536870913)}a&=~ne}l!==0&&Dt(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function Dt(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Jt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function pi(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Jt(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function Xn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ko(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:dv(n.type))}function Hr(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var Di=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Di,Lt="__reactProps$"+Di,ir="__reactContainer$"+Di,Bs="__reactEvents$"+Di,Va="__reactListeners$"+Di,Oi="__reactHandles$"+Di,$o="__reactResources$"+Di,qr="__reactMarker$"+Di;function js(n){delete n[Gt],delete n[Lt],delete n[Bs],delete n[Va],delete n[Oi]}function gi(n){var r=n[Gt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[ir]||a[Gt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Z_(n);n!==null;){if(a=n[Gt])return a;n=Z_(n)}return r}n=a,a=n.parentNode}return null}function rr(n){if(n=n[Gt]||n[ir]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Fr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Gr(n){var r=n[$o];return r||(r=n[$o]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(n){n[qr]=!0}var Qo=new Set,Pa={};function Mn(n,r){Rn(n,r),Rn(n+"Capture",r)}function Rn(n,r){for(Pa[n]=r,n=0;n<r.length;n++)Qo.add(r[n])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Xo={};function ku(n){return ln.call(Xo,n)?!0:ln.call(Yo,n)?!1:cf.test(n)?Xo[n]=!0:(Yo[n]=!0,!1)}function Kr(n,r,a){if(ku(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function $r(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Wn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function _n(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Mu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hf(n){var r=Mu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Hs(n){n._valueTracker||(n._valueTracker=hf(n))}function Wo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Mu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function La(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var sr=/[\n"\\]/g;function vt(n){return n.replace(sr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Qr(n,r,a,l,h,d,v,b){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+_n(r)):n.value!==""+_n(r)&&(n.value=""+_n(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Ua(n,v,_n(r)):a!=null?Ua(n,v,_n(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+_n(b):n.removeAttribute("name")}function qs(n,r,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+_n(a):"",r=r!=null?""+_n(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Ua(n,r,a){r==="number"&&La(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Fe(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+_n(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function Fs(n,r,a){if(r!=null&&(r=""+_n(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+_n(a):""}function Yr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=_n(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Zn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var ff=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||ff.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Vu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Zo(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Zo(n,d,r[d])}function Jo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(n){return mf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Jn=null;function za(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ar=null,or=null;function lr(n){var r=rr(n);if(r&&(n=r.stateNode)){var a=n[Lt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Qr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[Lt]||null;if(!h)throw Error(s(90));Qr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Wo(l)}break e;case"textarea":Fs(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Fe(n,!!a.multiple,r,!1)}}}var el=!1;function Pu(n,r,a){if(el)return n(r,a);el=!0;try{var l=n(r);return l}finally{if(el=!1,(ar!==null||or!==null)&&(Ic(),ar&&(r=ar,n=or,or=ar=null,lr(r),n)))for(r=0;r<n.length;r++)lr(n[r])}}function Gs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ei=!1;if(Vn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){ei=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{ei=!1}var xi=null,Xr=null,ur=null;function tl(){if(ur)return ur;var n,r=Xr,a=r.length,l,h="value"in xi?xi.value:xi.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return ur=h.slice(n,1<l?1-l:void 0)}function ki(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Mi(){return!0}function nl(){return!1}function Kt(n){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mi:nl,this.isPropagationStopped=nl,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),r}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Kt(Xe),$s=D({},Xe,{view:0,detail:0}),Lu=Kt($s),ja,Ha,Vi,Qs=D({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vi&&(Vi&&n.type==="mousemove"?(ja=n.screenX-Vi.screenX,Ha=n.screenY-Vi.screenY):Ha=ja=0,Vi=n),ja)},movementY:function(n){return"movementY"in n?n.movementY:Ha}}),ti=Kt(Qs),Uu=D({},Qs,{dataTransfer:0}),pf=Kt(Uu),Ys=D({},$s,{relatedTarget:0}),qa=Kt(Ys),il=D({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=Kt(il),zu=D({},Xe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ga=Kt(zu),gf=D({},Xe,{data:0}),rl=Kt(gf),Xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ju[n])?!!r[n]:!1}function Ws(){return sl}var Hu=D({},$s,{key:function(n){if(n.key){var r=Xs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ki(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(n){return n.type==="keypress"?ki(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ki(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ka=Kt(Hu),qu=D({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Kt(qu),cr=D({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),Fu=Kt(cr),Gu=D({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=Kt(Gu),$u=D({},Qs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$a=Kt($u),vn=D({},Xe,{newState:0,oldState:0}),Qu=Kt(vn),Yu=[9,13,27,32],Pi=Vn&&"CompositionEvent"in window,c=null;Vn&&"documentMode"in document&&(c=document.documentMode);var y=Vn&&"TextEvent"in window&&!c,_=Vn&&(!Pi||c&&8<c&&11>=c),w=" ",B=!1;function F(n,r){switch(n){case"keyup":return Yu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function Ut(n,r){switch(n){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(B=!0,w);case"textInput":return n=r.data,n===w&&B?null:n;default:return null}}function je(n,r){if(Be)return n==="compositionend"||!Pi&&F(n,r)?(n=tl(),ur=Xr=xi=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!$t[n.type]:r==="textarea"}function hr(n,r,a,l){ar?or?or.push(l):or=[l]:ar=l,r=xc(r,"onChange"),0<r.length&&(a=new Ba("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var en=null,Li=null;function ol(n){q_(n,0)}function Xu(n){var r=Fr(n);if(Wo(r))return n}function _g(n,r){if(n==="change")return r}var vg=!1;if(Vn){var yf;if(Vn){var _f="oninput"in document;if(!_f){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),_f=typeof Eg.oninput=="function"}yf=_f}else yf=!1;vg=yf&&(!document.documentMode||9<document.documentMode)}function Tg(){en&&(en.detachEvent("onpropertychange",bg),Li=en=null)}function bg(n){if(n.propertyName==="value"&&Xu(Li)){var r=[];hr(r,Li,n,za(n)),Pu(ol,r)}}function xw(n,r,a){n==="focusin"?(Tg(),en=r,Li=a,en.attachEvent("onpropertychange",bg)):n==="focusout"&&Tg()}function kw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Xu(Li)}function Mw(n,r){if(n==="click")return Xu(r)}function Vw(n,r){if(n==="input"||n==="change")return Xu(r)}function Pw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Pn=typeof Object.is=="function"?Object.is:Pw;function ll(n,r){if(Pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ln.call(r,h)||!Pn(n[h],r[h]))return!1}return!0}function wg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ag(n,r){var a=wg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wg(a)}}function Sg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Sg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Rg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=La(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=La(n.document)}return r}function vf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Lw(n,r){var a=Rg(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Sg(r.ownerDocument.documentElement,r)){if(l!==null&&vf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Ag(r,d);var v=Ag(r,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(n),a.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Uw=Vn&&"documentMode"in document&&11>=document.documentMode,Qa=null,Ef=null,ul=null,Tf=!1;function Ig(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||Qa==null||Qa!==La(l)||(l=Qa,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=xc(Ef,"onSelect"),0<l.length&&(r=new Ba("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Qa)))}function Zs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ya={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},bf={},Cg={};Vn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Js(n){if(bf[n])return bf[n];if(!Ya[n])return n;var r=Ya[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Cg)return bf[n]=r[a];return n}var Dg=Js("animationend"),Og=Js("animationiteration"),Ng=Js("animationstart"),zw=Js("transitionrun"),Bw=Js("transitionstart"),jw=Js("transitioncancel"),xg=Js("transitionend"),kg=new Map,Mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function yi(n,r){kg.set(n,r),Mn(r,[n])}var ni=[],Xa=0,wf=0;function Wu(){for(var n=Xa,r=wf=Xa=0;r<n;){var a=ni[r];ni[r++]=null;var l=ni[r];ni[r++]=null;var h=ni[r];ni[r++]=null;var d=ni[r];if(ni[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Vg(a,h,d)}}function Zu(n,r,a,l){ni[Xa++]=n,ni[Xa++]=r,ni[Xa++]=a,ni[Xa++]=l,wf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Af(n,r,a,l){return Zu(n,r,a,l),Ju(n)}function Wr(n,r){return Zu(n,null,null,r),Ju(n)}function Vg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;h&&r!==null&&n.tag===3&&(d=n.stateNode,h=31-Jt(a),d=d.hiddenUpdates,n=d[h],n===null?d[h]=[r]:n.push(r),r.lane=a|536870912)}function Ju(n){if(50<Ml)throw Ml=0,Od=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Wa={},Pg=new WeakMap;function ii(n,r){if(typeof n=="object"&&n!==null){var a=Pg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ye(r)},Pg.set(n,r),r)}return{value:n,source:r,stack:ye(r)}}var Za=[],Ja=0,ec=null,tc=0,ri=[],si=0,ea=null,fr=1,dr="";function ta(n,r){Za[Ja++]=tc,Za[Ja++]=ec,ec=n,tc=r}function Lg(n,r,a){ri[si++]=fr,ri[si++]=dr,ri[si++]=ea,ea=n;var l=fr;n=dr;var h=32-Jt(l)-1;l&=~(1<<h),a+=1;var d=32-Jt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,fr=1<<32-Jt(r)+h|a<<h|l,dr=d+n}else fr=1<<d|a<<h|l,dr=n}function Sf(n){n.return!==null&&(ta(n,1),Lg(n,1,0))}function Rf(n){for(;n===ec;)ec=Za[--Ja],Za[Ja]=null,tc=Za[--Ja],Za[Ja]=null;for(;n===ea;)ea=ri[--si],ri[si]=null,dr=ri[--si],ri[si]=null,fr=ri[--si],ri[si]=null}var En=null,tn=null,Ge=!1,_i=null,Ui=!1,If=Error(s(519));function na(n){var r=Error(s(418,""));throw fl(ii(r,n)),If}function Ug(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Gt]=n,r[Lt]=l,a){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(a=0;a<Pl.length;a++)ze(Pl[a],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),qs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Hs(r);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),Yr(r,l.value,l.defaultValue,l.children),Hs(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||$_(r.textContent,a)?(l.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),l.onScroll!=null&&ze("scroll",r),l.onScrollEnd!=null&&ze("scrollend",r),l.onClick!=null&&(r.onclick=kc),r=!0):r=!1,r||na(n)}function zg(n){for(En=n.return;En;)switch(En.tag){case 3:case 27:Ui=!0;return;case 5:case 13:Ui=!1;return;default:En=En.return}}function cl(n){if(n!==En)return!1;if(!Ge)return zg(n),Ge=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||$d(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&tn&&na(n),zg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){tn=Ei(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}tn=null}}else tn=En?Ei(n.stateNode.nextSibling):null;return!0}function hl(){tn=En=null,Ge=!1}function fl(n){_i===null?_i=[n]:_i.push(n)}var dl=Error(s(460)),Bg=Error(s(474)),Cf={then:function(){}};function jg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function nc(){}function Hg(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(nc,nc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===dl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(nc,nc);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===dl?Error(s(483)):n}throw ml=r,dl}}var ml=null;function qg(){if(ml===null)throw Error(s(459));var n=ml;return ml=null,n}var eo=null,pl=0;function ic(n){var r=pl;return pl+=1,eo===null&&(eo=[]),Hg(eo,n,r)}function gl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function rc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Fg(n){var r=n._init;return r(n._payload)}function Gg(n){function r(z,V){if(n){var j=z.deletions;j===null?(z.deletions=[V],z.flags|=16):j.push(V)}}function a(z,V){if(!n)return null;for(;V!==null;)r(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=us(z,V),z.index=0,z.sibling=null,z}function d(z,V,j){return z.index=j,n?(j=z.alternate,j!==null?(j=j.index,j<V?(z.flags|=33554434,V):j):(z.flags|=33554434,V)):(z.flags|=1048576,V)}function v(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function b(z,V,j,Z){return V===null||V.tag!==6?(V=bd(j,z.mode,Z),V.return=z,V):(V=h(V,j),V.return=z,V)}function I(z,V,j,Z){var pe=j.type;return pe===p?X(z,V,j.props.children,Z,j.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ie&&Fg(pe)===V.type)?(V=h(V,j.props),gl(V,j),V.return=z,V):(V=bc(j.type,j.key,j.props,null,z.mode,Z),gl(V,j),V.return=z,V)}function P(z,V,j,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=wd(j,z.mode,Z),V.return=z,V):(V=h(V,j.children||[]),V.return=z,V)}function X(z,V,j,Z,pe){return V===null||V.tag!==7?(V=fa(j,z.mode,Z,pe),V.return=z,V):(V=h(V,j),V.return=z,V)}function ne(z,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=bd(""+V,z.mode,j),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return j=bc(V.type,V.key,V.props,null,z.mode,j),gl(j,V),j.return=z,j;case m:return V=wd(V,z.mode,j),V.return=z,V;case ie:var Z=V._init;return V=Z(V._payload),ne(z,V,j)}if(re(V)||ve(V))return V=fa(V,z.mode,j,null),V.return=z,V;if(typeof V.then=="function")return ne(z,ic(V),j);if(V.$$typeof===O)return ne(z,vc(z,V),j);rc(z,V)}return null}function q(z,V,j,Z){var pe=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pe!==null?null:b(z,V,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case f:return j.key===pe?I(z,V,j,Z):null;case m:return j.key===pe?P(z,V,j,Z):null;case ie:return pe=j._init,j=pe(j._payload),q(z,V,j,Z)}if(re(j)||ve(j))return pe!==null?null:X(z,V,j,Z,null);if(typeof j.then=="function")return q(z,V,ic(j),Z);if(j.$$typeof===O)return q(z,V,vc(z,j),Z);rc(z,j)}return null}function Q(z,V,j,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(j)||null,b(V,z,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return z=z.get(Z.key===null?j:Z.key)||null,I(V,z,Z,pe);case m:return z=z.get(Z.key===null?j:Z.key)||null,P(V,z,Z,pe);case ie:var Me=Z._init;return Z=Me(Z._payload),Q(z,V,j,Z,pe)}if(re(Z)||ve(Z))return z=z.get(j)||null,X(V,z,Z,pe,null);if(typeof Z.then=="function")return Q(z,V,j,ic(Z),pe);if(Z.$$typeof===O)return Q(z,V,j,vc(V,Z),pe);rc(V,Z)}return null}function ge(z,V,j,Z){for(var pe=null,Me=null,_e=V,be=V=0,Xt=null;_e!==null&&be<j.length;be++){_e.index>be?(Xt=_e,_e=null):Xt=_e.sibling;var Ke=q(z,_e,j[be],Z);if(Ke===null){_e===null&&(_e=Xt);break}n&&_e&&Ke.alternate===null&&r(z,_e),V=d(Ke,V,be),Me===null?pe=Ke:Me.sibling=Ke,Me=Ke,_e=Xt}if(be===j.length)return a(z,_e),Ge&&ta(z,be),pe;if(_e===null){for(;be<j.length;be++)_e=ne(z,j[be],Z),_e!==null&&(V=d(_e,V,be),Me===null?pe=_e:Me.sibling=_e,Me=_e);return Ge&&ta(z,be),pe}for(_e=l(_e);be<j.length;be++)Xt=Q(_e,z,be,j[be],Z),Xt!==null&&(n&&Xt.alternate!==null&&_e.delete(Xt.key===null?be:Xt.key),V=d(Xt,V,be),Me===null?pe=Xt:Me.sibling=Xt,Me=Xt);return n&&_e.forEach(function(gs){return r(z,gs)}),Ge&&ta(z,be),pe}function Ie(z,V,j,Z){if(j==null)throw Error(s(151));for(var pe=null,Me=null,_e=V,be=V=0,Xt=null,Ke=j.next();_e!==null&&!Ke.done;be++,Ke=j.next()){_e.index>be?(Xt=_e,_e=null):Xt=_e.sibling;var gs=q(z,_e,Ke.value,Z);if(gs===null){_e===null&&(_e=Xt);break}n&&_e&&gs.alternate===null&&r(z,_e),V=d(gs,V,be),Me===null?pe=gs:Me.sibling=gs,Me=gs,_e=Xt}if(Ke.done)return a(z,_e),Ge&&ta(z,be),pe;if(_e===null){for(;!Ke.done;be++,Ke=j.next())Ke=ne(z,Ke.value,Z),Ke!==null&&(V=d(Ke,V,be),Me===null?pe=Ke:Me.sibling=Ke,Me=Ke);return Ge&&ta(z,be),pe}for(_e=l(_e);!Ke.done;be++,Ke=j.next())Ke=Q(_e,z,be,Ke.value,Z),Ke!==null&&(n&&Ke.alternate!==null&&_e.delete(Ke.key===null?be:Ke.key),V=d(Ke,V,be),Me===null?pe=Ke:Me.sibling=Ke,Me=Ke);return n&&_e.forEach(function(tS){return r(z,tS)}),Ge&&ta(z,be),pe}function bt(z,V,j,Z){if(typeof j=="object"&&j!==null&&j.type===p&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case f:e:{for(var pe=j.key;V!==null;){if(V.key===pe){if(pe=j.type,pe===p){if(V.tag===7){a(z,V.sibling),Z=h(V,j.props.children),Z.return=z,z=Z;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ie&&Fg(pe)===V.type){a(z,V.sibling),Z=h(V,j.props),gl(Z,j),Z.return=z,z=Z;break e}a(z,V);break}else r(z,V);V=V.sibling}j.type===p?(Z=fa(j.props.children,z.mode,Z,j.key),Z.return=z,z=Z):(Z=bc(j.type,j.key,j.props,null,z.mode,Z),gl(Z,j),Z.return=z,z=Z)}return v(z);case m:e:{for(pe=j.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(z,V.sibling),Z=h(V,j.children||[]),Z.return=z,z=Z;break e}else{a(z,V);break}else r(z,V);V=V.sibling}Z=wd(j,z.mode,Z),Z.return=z,z=Z}return v(z);case ie:return pe=j._init,j=pe(j._payload),bt(z,V,j,Z)}if(re(j))return ge(z,V,j,Z);if(ve(j)){if(pe=ve(j),typeof pe!="function")throw Error(s(150));return j=pe.call(j),Ie(z,V,j,Z)}if(typeof j.then=="function")return bt(z,V,ic(j),Z);if(j.$$typeof===O)return bt(z,V,vc(z,j),Z);rc(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(z,V.sibling),Z=h(V,j),Z.return=z,z=Z):(a(z,V),Z=bd(j,z.mode,Z),Z.return=z,z=Z),v(z)):a(z,V)}return function(z,V,j,Z){try{pl=0;var pe=bt(z,V,j,Z);return eo=null,pe}catch(_e){if(_e===dl)throw _e;var Me=ui(29,_e,null,z.mode);return Me.lanes=Z,Me.return=z,Me}finally{}}}var ia=Gg(!0),Kg=Gg(!1),to=Ne(null),sc=Ne(0);function $g(n,r){n=Ar,Ue(sc,n),Ue(to,r),Ar=n|r.baseLanes}function Df(){Ue(sc,Ar),Ue(to,to.current)}function Of(){Ar=sc.current,Je(to),Je(sc)}var ai=Ne(null),zi=null;function Zr(n){var r=n.alternate;Ue(Bt,Bt.current&1),Ue(ai,n),zi===null&&(r===null||to.current!==null||r.memoizedState!==null)&&(zi=n)}function Qg(n){if(n.tag===22){if(Ue(Bt,Bt.current),Ue(ai,n),zi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(zi=n)}}else Jr()}function Jr(){Ue(Bt,Bt.current),Ue(ai,ai.current)}function mr(n){Je(ai),zi===n&&(zi=null),Je(Bt)}var Bt=Ne(0);function ac(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Hw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},qw=i.unstable_scheduleCallback,Fw=i.unstable_NormalPriority,jt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new Hw,data:new Map,refCount:0}}function yl(n){n.refCount--,n.refCount===0&&qw(Fw,function(){n.controller.abort()})}var _l=null,xf=0,no=0,io=null;function Gw(n,r){if(_l===null){var a=_l=[];xf=0,no=Ud(),io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,r.then(Yg,Yg),r}function Yg(){if(--xf===0&&_l!==null){io!==null&&(io.status="fulfilled");var n=_l;_l=null,no=0,io=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Kw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Xg=S.S;S.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Gw(n,r),Xg!==null&&Xg(n,r)};var ra=Ne(null);function kf(){var n=ra.current;return n!==null?n:at.pooledCache}function oc(n,r){r===null?Ue(ra,ra.current):Ue(ra,r.pool)}function Wg(){var n=kf();return n===null?null:{parent:jt._currentValue,pool:n}}var es=0,xe=null,et=null,Ot=null,lc=!1,ro=!1,sa=!1,uc=0,vl=0,so=null,$w=0;function St(){throw Error(s(321))}function Mf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Pn(n[a],r[a]))return!1;return!0}function Vf(n,r,a,l,h,d){return es=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=n===null||n.memoizedState===null?aa:ts,sa=!1,d=a(l,h),sa=!1,ro&&(d=Jg(r,a,l,h)),Zg(n),d}function Zg(n){S.H=Bi;var r=et!==null&&et.next!==null;if(es=0,Ot=et=xe=null,lc=!1,vl=0,so=null,r)throw Error(s(300));n===null||Qt||(n=n.dependencies,n!==null&&_c(n)&&(Qt=!0))}function Jg(n,r,a,l){xe=n;var h=0;do{if(ro&&(so=null),vl=0,ro=!1,25<=h)throw Error(s(301));if(h+=1,Ot=et=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=oa,d=r(a,l)}while(ro);return d}function Qw(){var n=S.H,r=n.useState()[0];return r=typeof r.then=="function"?El(r):r,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(xe.flags|=1024),r}function Pf(){var n=uc!==0;return uc=0,n}function Lf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Uf(n){if(lc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}lc=!1}es=0,Ot=et=xe=null,ro=!1,vl=uc=0,so=null}function In(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?xe.memoizedState=Ot=n:Ot=Ot.next=n,Ot}function Nt(){if(et===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var r=Ot===null?xe.memoizedState:Ot.next;if(r!==null)Ot=r,et=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ot===null?xe.memoizedState=Ot=n:Ot=Ot.next=n}return Ot}var cc;cc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function El(n){var r=vl;return vl+=1,so===null&&(so=[]),n=Hg(so,n,r),r=xe,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?aa:ts),n}function hc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return El(n);if(n.$$typeof===O)return fn(n)}throw Error(s(438,String(n)))}function zf(n){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=cc(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=ce;return r.index++,a}function pr(n,r){return typeof r=="function"?r(n):r}function fc(n){var r=Nt();return Bf(r,et,n)}function Bf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var b=v=null,I=null,P=r,X=!1;do{var ne=P.lane&-536870913;if(ne!==P.lane?(He&ne)===ne:(es&ne)===ne){var q=P.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),ne===no&&(X=!0);else if((es&q)===q){P=P.next,q===no&&(X=!0);continue}else ne={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(b=I=ne,v=d):I=I.next=ne,xe.lanes|=q,cs|=q;ne=P.action,sa&&a(d,ne),d=P.hasEagerState?P.eagerState:a(d,ne)}else q={lane:ne,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(b=I=q,v=d):I=I.next=q,xe.lanes|=ne,cs|=ne;P=P.next}while(P!==null&&P!==r);if(I===null?v=d:I.next=b,!Pn(d,n.memoizedState)&&(Qt=!0,X&&(a=io,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function jf(n){var r=Nt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=n(d,v.action),v=v.next;while(v!==h);Pn(d,r.memoizedState)||(Qt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ey(n,r,a){var l=xe,h=Nt(),d=Ge;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Pn((et||h).memoizedState,a);if(v&&(h.memoizedState=a,Qt=!0),h=h.queue,Ff(iy.bind(null,l,h,n),[n]),h.getSnapshot!==r||v||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,ao(9,ny.bind(null,l,h,a,r),{destroy:void 0},null),at===null)throw Error(s(349));d||(es&60)!==0||ty(l,r,a)}return a}function ty(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=cc(),xe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function ny(n,r,a,l){r.value=a,r.getSnapshot=l,ry(r)&&sy(n)}function iy(n,r,a){return a(function(){ry(r)&&sy(n)})}function ry(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Pn(n,a)}catch{return!0}}function sy(n){var r=Wr(n,2);r!==null&&Tn(r,n,2)}function Hf(n){var r=In();if(typeof n=="function"){var a=n;if(n=a(),sa){Nn(!0);try{a()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:n},r}function ay(n,r,a,l){return n.baseState=a,Bf(n,et,typeof l=="function"?l:pr)}function Yw(n,r,a,l,h){if(pc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,oy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function oy(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=S.T,v={};S.T=v;try{var b=a(h,l),I=S.S;I!==null&&I(v,b),ly(n,r,b)}catch(P){qf(n,r,P)}finally{S.T=d}}else try{d=a(h,l),ly(n,r,d)}catch(P){qf(n,r,P)}}function ly(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){uy(n,r,l)},function(l){return qf(n,r,l)}):uy(n,r,a)}function uy(n,r,a){r.status="fulfilled",r.value=a,cy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,oy(n,a)))}function qf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,cy(r),r=r.next;while(r!==l)}n.action=null}function cy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function hy(n,r){return r}function fy(n,r){if(Ge){var a=at.formState;if(a!==null){e:{var l=xe;if(Ge){if(tn){t:{for(var h=tn,d=Ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ei(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tn=Ei(h.nextSibling),l=h.data==="F!";break e}}na(l)}l=!1}l&&(r=a[0])}}return a=In(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:r},a.queue=l,a=Oy.bind(null,xe,l),l.dispatch=a,l=Hf(!1),d=Yf.bind(null,xe,!1,l.queue),l=In(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=Yw.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function dy(n){var r=Nt();return my(r,et,n)}function my(n,r,a){r=Bf(n,r,hy)[0],n=fc(pr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?El(r):r;var l=Nt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,ao(9,Xw.bind(null,h,a),{destroy:void 0},null)),[r,d,n]}function Xw(n,r){n.action=r}function py(n){var r=Nt(),a=et;if(a!==null)return my(r,a,n);Nt(),r=r.memoizedState,a=Nt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function ao(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=xe.updateQueue,r===null&&(r=cc(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function gy(){return Nt().memoizedState}function dc(n,r,a,l){var h=In();xe.flags|=n,h.memoizedState=ao(1|r,a,{destroy:void 0},l===void 0?null:l)}function mc(n,r,a,l){var h=Nt();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Mf(l,et.memoizedState.deps)?h.memoizedState=ao(r,a,d,l):(xe.flags|=n,h.memoizedState=ao(1|r,a,d,l))}function yy(n,r){dc(8390656,8,n,r)}function Ff(n,r){mc(2048,8,n,r)}function _y(n,r){return mc(4,2,n,r)}function vy(n,r){return mc(4,4,n,r)}function Ey(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ty(n,r,a){a=a!=null?a.concat([n]):null,mc(4,4,Ey.bind(null,r,n),a)}function Gf(){}function by(n,r){var a=Nt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Mf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function wy(n,r){var a=Nt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Mf(r,l[1]))return l[0];if(l=n(),sa){Nn(!0);try{n()}finally{Nn(!1)}}return a.memoizedState=[l,r],l}function Kf(n,r,a){return a===void 0||(es&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=S_(),xe.lanes|=n,cs|=n,a)}function Ay(n,r,a,l){return Pn(a,r)?a:to.current!==null?(n=Kf(n,a,l),Pn(n,r)||(Qt=!0),n):(es&42)===0?(Qt=!0,n.memoizedState=a):(n=S_(),xe.lanes|=n,cs|=n,r)}function Sy(n,r,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=S.T,b={};S.T=b,Yf(n,!1,r,a);try{var I=h(),P=S.S;if(P!==null&&P(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=Kw(I,l);Tl(n,r,X,Bn(n))}else Tl(n,r,l,Bn(n))}catch(ne){Tl(n,r,{then:function(){},status:"rejected",reason:ne},Bn())}finally{oe.p=d,S.T=v}}function Ww(){}function $f(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=Ry(n).queue;Sy(n,h,r,Ae,a===null?Ww:function(){return Iy(n),a(l)})}function Ry(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:Ae},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Iy(n){var r=Ry(n).next.queue;Tl(n,r,{},Bn())}function Qf(){return fn(jl)}function Cy(){return Nt().memoizedState}function Dy(){return Nt().memoizedState}function Zw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Bn();n=rs(a);var l=ss(r,n,a);l!==null&&(Tn(l,r,a),Al(l,r,a)),r={cache:Nf()},n.payload=r;return}r=r.return}}function Jw(n,r,a){var l=Bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pc(n)?Ny(r,a):(a=Af(n,r,a,l),a!==null&&(Tn(a,n,l),xy(a,r,l)))}function Oy(n,r,a){var l=Bn();Tl(n,r,a,l)}function Tl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(n))Ny(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,Pn(b,v))return Zu(n,r,h,0),at===null&&Wu(),!1}catch{}finally{}if(a=Af(n,r,h,l),a!==null)return Tn(a,n,l),xy(a,r,l),!0}return!1}function Yf(n,r,a,l){if(l={lane:2,revertLane:Ud(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(n)){if(r)throw Error(s(479))}else r=Af(n,a,l,2),r!==null&&Tn(r,n,2)}function pc(n){var r=n.alternate;return n===xe||r!==null&&r===xe}function Ny(n,r){ro=lc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function xy(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,pi(n,a)}}var Bi={readContext:fn,use:hc,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St};Bi.useCacheRefresh=St,Bi.useMemoCache=St,Bi.useHostTransitionStatus=St,Bi.useFormState=St,Bi.useActionState=St,Bi.useOptimistic=St;var aa={readContext:fn,use:hc,useCallback:function(n,r){return In().memoizedState=[n,r===void 0?null:r],n},useContext:fn,useEffect:yy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,dc(4194308,4,Ey.bind(null,r,n),a)},useLayoutEffect:function(n,r){return dc(4194308,4,n,r)},useInsertionEffect:function(n,r){dc(4,2,n,r)},useMemo:function(n,r){var a=In();r=r===void 0?null:r;var l=n();if(sa){Nn(!0);try{n()}finally{Nn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=In();if(a!==void 0){var h=a(r);if(sa){Nn(!0);try{a(r)}finally{Nn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=Jw.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var r=In();return n={current:n},r.memoizedState=n},useState:function(n){n=Hf(n);var r=n.queue,a=Oy.bind(null,xe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Gf,useDeferredValue:function(n,r){var a=In();return Kf(a,n,r)},useTransition:function(){var n=Hf(!1);return n=Sy.bind(null,xe,n.queue,!0,!1),In().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=xe,h=In();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),at===null)throw Error(s(349));(He&60)!==0||ty(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,yy(iy.bind(null,l,d,n),[n]),l.flags|=2048,ao(9,ny.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var n=In(),r=at.identifierPrefix;if(Ge){var a=dr,l=fr;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=uc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=$w++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return In().memoizedState=Zw.bind(null,xe)}};aa.useMemoCache=zf,aa.useHostTransitionStatus=Qf,aa.useFormState=fy,aa.useActionState=fy,aa.useOptimistic=function(n){var r=In();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Yf.bind(null,xe,!0,a),a.dispatch=r,[n,r]};var ts={readContext:fn,use:hc,useCallback:by,useContext:fn,useEffect:Ff,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:wy,useReducer:fc,useRef:gy,useState:function(){return fc(pr)},useDebugValue:Gf,useDeferredValue:function(n,r){var a=Nt();return Ay(a,et.memoizedState,n,r)},useTransition:function(){var n=fc(pr)[0],r=Nt().memoizedState;return[typeof n=="boolean"?n:El(n),r]},useSyncExternalStore:ey,useId:Cy};ts.useCacheRefresh=Dy,ts.useMemoCache=zf,ts.useHostTransitionStatus=Qf,ts.useFormState=dy,ts.useActionState=dy,ts.useOptimistic=function(n,r){var a=Nt();return ay(a,et,n,r)};var oa={readContext:fn,use:hc,useCallback:by,useContext:fn,useEffect:Ff,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:wy,useReducer:jf,useRef:gy,useState:function(){return jf(pr)},useDebugValue:Gf,useDeferredValue:function(n,r){var a=Nt();return et===null?Kf(a,n,r):Ay(a,et.memoizedState,n,r)},useTransition:function(){var n=jf(pr)[0],r=Nt().memoizedState;return[typeof n=="boolean"?n:El(n),r]},useSyncExternalStore:ey,useId:Cy};oa.useCacheRefresh=Dy,oa.useMemoCache=zf,oa.useHostTransitionStatus=Qf,oa.useFormState=py,oa.useActionState=py,oa.useOptimistic=function(n,r){var a=Nt();return et!==null?ay(a,et,n,r):(a.baseState=n,[n,a.queue.dispatch])};function Xf(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:D({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Wf={isMounted:function(n){return(n=n._reactInternals)?de(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Bn(),h=rs(l);h.payload=r,a!=null&&(h.callback=a),r=ss(n,h,l),r!==null&&(Tn(r,n,l),Al(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Bn(),h=rs(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=ss(n,h,l),r!==null&&(Tn(r,n,l),Al(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Bn(),l=rs(a);l.tag=2,r!=null&&(l.callback=r),r=ss(n,l,a),r!==null&&(Tn(r,n,a),Al(r,n,a))}};function ky(n,r,a,l,h,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!ll(a,l)||!ll(h,d):!0}function My(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Wf.enqueueReplaceState(r,r.state,null)}function la(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=D({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var gc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Vy(n){gc(n)}function Py(n){console.error(n)}function Ly(n){gc(n)}function yc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(n,r,a){return a=rs(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(n,r)},a}function zy(n){return n=rs(n),n.tag=3,n}function By(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){Uy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Uy(r,a,l),typeof h!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function eA(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&wl(r,a,h,!0),a=ai.current,a!==null){switch(a.tag){case 13:return zi===null?kd():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Cf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Vd(n,l,h)),!1;case 22:return a.flags|=65536,l===Cf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Vd(n,l,h)),!1}throw Error(s(435,a.tag))}return Vd(n,l,h),kd(),!1}if(Ge)return r=ai.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==If&&(n=Error(s(422),{cause:l}),fl(ii(n,a)))):(l!==If&&(r=Error(s(423),{cause:l}),fl(ii(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=ii(l,a),h=Zf(n.stateNode,l,h),dd(n,h),Tt!==4&&(Tt=2)),!1;var d=Error(s(520),{cause:l});if(d=ii(d,a),xl===null?xl=[d]:xl.push(d),Tt!==4&&(Tt=2),r===null)return!0;l=ii(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Zf(a.stateNode,l,n),dd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hs===null||!hs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=zy(h),By(h,n,a,l),dd(a,h),!1}a=a.return}while(a!==null);return!1}var jy=Error(s(461)),Qt=!1;function nn(n,r,a,l){r.child=n===null?Kg(r,null,a,l):ia(r,n.child,a,l)}function Hy(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return ca(r),l=Vf(n,r,a,v,d,h),b=Pf(),n!==null&&!Qt?(Lf(n,r,h),gr(n,r,h)):(Ge&&b&&Sf(r),r.flags|=1,nn(n,r,l,h),r.child)}function qy(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!Td(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Fy(n,r,d,l,h)):(n=bc(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!od(n,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(v,l)&&n.ref===r.ref)return gr(n,r,h)}return r.flags|=1,n=us(d,l),n.ref=r.ref,n.return=r,r.child=n}function Fy(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(ll(d,l)&&n.ref===r.ref)if(Qt=!1,r.pendingProps=l=d,od(n,h))(n.flags&131072)!==0&&(Qt=!0);else return r.lanes=n.lanes,gr(n,r,h)}return Jf(n,r,a,l,h)}function Gy(n,r,a){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,v=n!==null?n.memoizedState:null;if(bl(n,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ky(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&oc(r,v!==null?v.cachePool:null),v!==null?$g(r,v):Df(),Qg(r);else return r.lanes=r.childLanes=536870912,Ky(n,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(oc(r,v.cachePool),$g(r,v),Jr(),r.memoizedState=null):(n!==null&&oc(r,null),Df(),Jr());return nn(n,r,h,a),r.child}function Ky(n,r,a,l){var h=kf();return h=h===null?null:{parent:jt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&oc(r,null),Df(),Qg(r),n!==null&&wl(n,r,l,!0),null}function bl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Jf(n,r,a,l,h){return ca(r),a=Vf(n,r,a,l,void 0,h),l=Pf(),n!==null&&!Qt?(Lf(n,r,h),gr(n,r,h)):(Ge&&l&&Sf(r),r.flags|=1,nn(n,r,a,h),r.child)}function $y(n,r,a,l,h,d){return ca(r),r.updateQueue=null,a=Jg(r,l,a,h),Zg(n),l=Pf(),n!==null&&!Qt?(Lf(n,r,d),gr(n,r,d)):(Ge&&l&&Sf(r),r.flags|=1,nn(n,r,a,d),r.child)}function Qy(n,r,a,l,h){if(ca(r),r.stateNode===null){var d=Wa,v=a.contextType;typeof v=="object"&&v!==null&&(d=fn(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},hd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?fn(v):Wa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Xf(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Wf.enqueueReplaceState(d,d.state,null),Rl(r,l,d,h),Sl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,I=la(a,b);d.props=I;var P=d.context,X=a.contextType;v=Wa,typeof X=="object"&&X!==null&&(v=fn(X));var ne=a.getDerivedStateFromProps;X=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||P!==v)&&My(r,d,l,v),is=!1;var q=r.memoizedState;d.state=q,Rl(r,l,d,h),Sl(),P=r.memoizedState,b||q!==P||is?(typeof ne=="function"&&(Xf(r,a,ne,l),P=r.memoizedState),(I=is||ky(r,a,I,l,q,P,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=P),d.props=l,d.state=P,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,fd(n,r),v=r.memoizedProps,X=la(a,v),d.props=X,ne=r.pendingProps,q=d.context,P=a.contextType,I=Wa,typeof P=="object"&&P!==null&&(I=fn(P)),b=a.getDerivedStateFromProps,(P=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||q!==I)&&My(r,d,l,I),is=!1,q=r.memoizedState,d.state=q,Rl(r,l,d,h),Sl();var Q=r.memoizedState;v!==ne||q!==Q||is||n!==null&&n.dependencies!==null&&_c(n.dependencies)?(typeof b=="function"&&(Xf(r,a,b,l),Q=r.memoizedState),(X=is||ky(r,a,X,l,q,Q,I)||n!==null&&n.dependencies!==null&&_c(n.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,bl(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=ia(r,n.child,null,h),r.child=ia(r,null,a,h)):nn(n,r,a,h),r.memoizedState=d.state,n=r.child):n=gr(n,r,h),n}function Yy(n,r,a,l){return hl(),r.flags|=256,nn(n,r,a,l),r.child}var ed={dehydrated:null,treeContext:null,retryLane:0};function td(n){return{baseLanes:n,cachePool:Wg()}}function nd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=ci),n}function Xy(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Bt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(h?Zr(r):Jr(),Ge){var b=tn,I;if(I=b){e:{for(I=b,b=Ui;I.nodeType!==8;){if(!b){b=null;break e}if(I=Ei(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:ea!==null?{id:fr,overflow:dr}:null,retryLane:536870912},I=ui(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,En=r,tn=null,I=!0):I=!1}I||na(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?r.lanes=16:r.lanes=536870912,null;mr(r)}return b=l.children,l=l.fallback,h?(Jr(),h=r.mode,b=rd({mode:"hidden",children:b},h),l=fa(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=td(a),h.childLanes=nd(n,v,a),r.memoizedState=ed,l):(Zr(r),id(r,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)r.flags&256?(Zr(r),r.flags&=-257,r=sd(n,r,a)):r.memoizedState!==null?(Jr(),r.child=n.child,r.flags|=128,r=null):(Jr(),h=l.fallback,b=r.mode,l=rd({mode:"visible",children:l.children},b),h=fa(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ia(r,n.child,null,a),l=r.child,l.memoizedState=td(a),l.childLanes=nd(n,v,a),r.memoizedState=ed,r=h);else if(Zr(r),b.data==="$!"){if(v=b.nextSibling&&b.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,fl({value:l,source:null,stack:null}),r=sd(n,r,a)}else if(Qt||wl(n,r,a,!1),v=(a&n.childLanes)!==0,Qt||v){if(v=at,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Wr(n,l),Tn(v,n,l),jy}b.data==="$?"||kd(),r=sd(n,r,a)}else b.data==="$?"?(r.flags|=128,r.child=n.child,r=pA.bind(null,n),b._reactRetry=r,r=null):(n=I.treeContext,tn=Ei(b.nextSibling),En=r,Ge=!0,_i=null,Ui=!1,n!==null&&(ri[si++]=fr,ri[si++]=dr,ri[si++]=ea,fr=n.id,dr=n.overflow,ea=r),r=id(r,l.children),r.flags|=4096);return r}return h?(Jr(),h=l.fallback,b=r.mode,I=n.child,P=I.sibling,l=us(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,P!==null?h=us(P,h):(h=fa(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=n.child.memoizedState,b===null?b=td(a):(I=b.cachePool,I!==null?(P=jt._currentValue,I=I.parent!==P?{parent:P,pool:P}:I):I=Wg(),b={baseLanes:b.baseLanes|a,cachePool:I}),h.memoizedState=b,h.childLanes=nd(n,v,a),r.memoizedState=ed,l):(Zr(r),a=n.child,n=a.sibling,a=us(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function id(n,r){return r=rd({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function rd(n,r){return b_(n,r,0,null)}function sd(n,r,a){return ia(r,n.child,null,a),n=id(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Wy(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),ud(n.return,r,a)}function ad(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Zy(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(nn(n,r,l.children,a),l=Bt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wy(n,a,r);else if(n.tag===19)Wy(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Ue(Bt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&ac(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ad(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&ac(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}ad(r,!0,a,null,d);break;case"together":ad(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),cs|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(wl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=us(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=us(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function od(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&_c(n)))}function tA(n,r,a){switch(r.tag){case 3:Ri(r,r.stateNode.containerInfo),ns(r,jt,n.memoizedState.cache),hl();break;case 27:case 5:di(r);break;case 4:Ri(r,r.stateNode.containerInfo);break;case 10:ns(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Zr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Xy(n,r,a):(Zr(r),n=gr(n,r,a),n!==null?n.sibling:null);Zr(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(wl(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Zy(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ue(Bt,Bt.current),l)break;return null;case 22:case 23:return r.lanes=0,Gy(n,r,a);case 24:ns(r,jt,n.memoizedState.cache)}return gr(n,r,a)}function Jy(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Qt=!0;else{if(!od(n,a)&&(r.flags&128)===0)return Qt=!1,tA(n,r,a);Qt=(n.flags&131072)!==0}else Qt=!1,Ge&&(r.flags&1048576)!==0&&Lg(r,tc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Td(l)?(n=la(l,n),r.tag=1,r=Qy(null,r,l,n,a)):(r.tag=0,r=Jf(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===M){r.tag=11,r=Hy(null,r,l,n,a);break e}else if(h===K){r.tag=14,r=qy(null,r,l,n,a);break e}}throw r=R(l)||l,Error(s(306,r,""))}}return r;case 0:return Jf(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=la(l,r.pendingProps),Qy(n,r,l,h,a);case 3:e:{if(Ri(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,fd(n,r),Rl(r,d,null,a);var v=r.memoizedState;if(d=v.cache,ns(r,jt,d),d!==h.cache&&cd(r,[jt],a,!0),Sl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Yy(n,r,d,a);break e}else if(d!==l){l=ii(Error(s(424)),r),fl(l),r=Yy(n,r,d,a);break e}else for(tn=Ei(r.stateNode.containerInfo.firstChild),En=r,Ge=!0,_i=null,Ui=!0,a=Kg(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hl(),d===l){r=gr(n,r,a);break e}nn(n,r,d,a)}r=r.child}return r;case 26:return bl(n,r),n===null?(a=nv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,n=r.pendingProps,l=Mc(An.current).createElement(a),l[Gt]=r,l[Lt]=n,rn(l,a,n),mt(l),r.stateNode=l):r.memoizedState=nv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return di(r),n===null&&Ge&&(l=r.stateNode=J_(r.type,r.pendingProps,An.current),En=r,Ui=!0,tn=Ei(l.firstChild)),l=r.pendingProps.children,n!==null||Ge?nn(n,r,l,a):r.child=ia(r,null,l,a),bl(n,r),r.child;case 5:return n===null&&Ge&&((h=l=tn)&&(l=NA(l,r.type,r.pendingProps,Ui),l!==null?(r.stateNode=l,En=r,tn=Ei(l.firstChild),Ui=!1,h=!0):h=!1),h||na(r)),di(r),h=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,$d(h,d)?l=null:v!==null&&$d(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Vf(n,r,Qw,null,null,a),jl._currentValue=h),bl(n,r),nn(n,r,l,a),r.child;case 6:return n===null&&Ge&&((n=a=tn)&&(a=xA(a,r.pendingProps,Ui),a!==null?(r.stateNode=a,En=r,tn=null,n=!0):n=!1),n||na(r)),null;case 13:return Xy(n,r,a);case 4:return Ri(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ia(r,null,l,a):nn(n,r,l,a),r.child;case 11:return Hy(n,r,r.type,r.pendingProps,a);case 7:return nn(n,r,r.pendingProps,a),r.child;case 8:return nn(n,r,r.pendingProps.children,a),r.child;case 12:return nn(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ns(r,r.type,l.value),nn(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ca(r),h=fn(h),l=l(h),r.flags|=1,nn(n,r,l,a),r.child;case 14:return qy(n,r,r.type,r.pendingProps,a);case 15:return Fy(n,r,r.type,r.pendingProps,a);case 19:return Zy(n,r,a);case 22:return Gy(n,r,a);case 24:return ca(r),l=fn(jt),n===null?(h=kf(),h===null&&(h=at,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},hd(r),ns(r,jt,h)):((n.lanes&a)!==0&&(fd(n,r),Rl(r,null,null,a),Sl()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ns(r,jt,l)):(l=d.cache,ns(r,jt,l),l!==h.cache&&cd(r,[jt],a,!0))),nn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var ld=Ne(null),ua=null,yr=null;function ns(n,r,a){Ue(ld,r._currentValue),r._currentValue=a}function _r(n){n._currentValue=ld.current,Je(ld)}function ud(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function cd(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var I=0;I<r.length;I++)if(b.context===r[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),ud(d.return,a,n),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ud(v,a,n),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function wl(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;Pn(h.pendingProps.value,v.value)||(n!==null?n.push(b):n=[b])}}else if(h===Gn.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(jl):n=[jl])}h=h.return}n!==null&&cd(r,n,a,l),r.flags|=262144}function _c(n){for(n=n.firstContext;n!==null;){if(!Pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ca(n){ua=n,yr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function fn(n){return e_(ua,n)}function vc(n,r){return ua===null&&ca(n),e_(n,r)}function e_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},yr===null){if(n===null)throw Error(s(308));yr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else yr=yr.next=r;return a}var is=!1;function hd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function rs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ss(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(gt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Ju(n),Vg(n,null,a),r}return Zu(n,l,r,a),Ju(n)}function Al(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,pi(n,a)}}function dd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var md=!1;function Sl(){if(md){var n=io;if(n!==null)throw n}}function Rl(n,r,a,l){md=!1;var h=n.updateQueue;is=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,P=I.next;I.next=null,v===null?d=P:v.next=P,v=I;var X=n.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==v&&(b===null?X.firstBaseUpdate=P:b.next=P,X.lastBaseUpdate=I))}if(d!==null){var ne=h.baseState;v=0,X=P=I=null,b=d;do{var q=b.lane&-536870913,Q=q!==b.lane;if(Q?(He&q)===q:(l&q)===q){q!==0&&q===no&&(md=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ge=n,Ie=b;q=r;var bt=a;switch(Ie.tag){case 1:if(ge=Ie.payload,typeof ge=="function"){ne=ge.call(bt,ne,q);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ie.payload,q=typeof ge=="function"?ge.call(bt,ne,q):ge,q==null)break e;ne=D({},ne,q);break e;case 2:is=!0}}q=b.callback,q!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(P=X=Q,I=ne):X=X.next=Q,v|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(I=ne),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),cs|=v,n.lanes=v,n.memoizedState=ne}}function t_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function n_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)t_(a[n],r)}function Il(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){nt(r,r.return,b)}}function as(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=r;var I=a;try{b()}catch(P){nt(h,I,P)}}}l=l.next}while(l!==d)}}catch(P){nt(r,r.return,P)}}function i_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{n_(r,a)}catch(l){nt(n,n.return,l)}}}function r_(n,r,a){a.props=la(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,r,l)}}function ha(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?n.refCleanup=a(h):a.current=h}}catch(d){nt(n,r,d)}}function Ln(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(n,r,h)}else a.current=null}function s_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(n,n.return,h)}}function a_(n,r,a){try{var l=n.stateNode;RA(l,n.type,a,r),l[Lt]=r}catch(h){nt(n,n.return,h)}}function o_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function pd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||o_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=kc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(gd(n,r,a),n=n.sibling;n!==null;)gd(n,r,a),n=n.sibling}function Ec(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ec(n,r,a),n=n.sibling;n!==null;)Ec(n,r,a),n=n.sibling}var vr=!1,Et=!1,yd=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Yt=null,u_=!1;function nA(n,r){if(n=n.containerInfo,Gd=Bc,n=Rg(n),vf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,I=-1,P=0,X=0,ne=n,q=null;t:for(;;){for(var Q;ne!==a||h!==0&&ne.nodeType!==3||(b=v+h),ne!==d||l!==0&&ne.nodeType!==3||(I=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)q=ne,ne=Q;for(;;){if(ne===n)break t;if(q===a&&++P===h&&(b=v),q===d&&++X===l&&(I=v),(Q=ne.nextSibling)!==null)break;ne=q,q=ne.parentNode}ne=Q}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:n,selectionRange:a},Bc=!1,Yt=r;Yt!==null;)if(r=Yt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Yt=n;else for(;Yt!==null;){switch(r=Yt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ge=la(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(ge,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ie){nt(a,a.return,Ie)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Xd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Xd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Yt=n;break}Yt=r.return}return ge=u_,u_=!1,ge}function c_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(n,a),l&4&&Il(5,a);break;case 1:if(Tr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(b){nt(a,a.return,b)}else{var h=la(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(b){nt(a,a.return,b)}}l&64&&i_(a),l&512&&ha(a,a.return);break;case 3:if(Tr(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{n_(l,n)}catch(b){nt(a,a.return,b)}}break;case 26:Tr(n,a),l&512&&ha(a,a.return);break;case 27:case 5:Tr(n,a),r===null&&l&4&&s_(a),l&512&&ha(a,a.return);break;case 12:Tr(n,a);break;case 13:Tr(n,a),l&4&&d_(n,a);break;case 22:if(h=a.memoizedState!==null||vr,!h){r=r!==null&&r.memoizedState!==null||Et;var d=vr,v=Et;vr=h,(Et=r)&&!v?os(n,a,(a.subtreeFlags&8772)!==0):Tr(n,a),vr=d,Et=v}l&512&&(a.memoizedProps.mode==="manual"?ha(a,a.return):Ln(a,a.return));break;default:Tr(n,a)}}function h_(n){var r=n.alternate;r!==null&&(n.alternate=null,h_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&js(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,Un=!1;function Er(n,r,a){for(a=a.child;a!==null;)f_(n,r,a),a=a.sibling}function f_(n,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Ii,a)}catch{}switch(a.tag){case 26:Et||Ln(a,r),Er(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||Ln(a,r);var l=xt,h=Un;for(xt=a.stateNode,Er(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);js(a),xt=l,Un=h;break;case 5:Et||Ln(a,r);case 6:h=xt;var d=Un;if(xt=null,Er(n,r,a),xt=h,Un=d,xt!==null)if(Un)try{n=xt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(v){nt(a,r,v)}else try{xt.removeChild(a.stateNode)}catch(v){nt(a,r,v)}break;case 18:xt!==null&&(Un?(r=xt,a=a.stateNode,r.nodeType===8?Yd(r.parentNode,a):r.nodeType===1&&Yd(r,a),Gl(r)):Yd(xt,a.stateNode));break;case 4:l=xt,h=Un,xt=a.stateNode.containerInfo,Un=!0,Er(n,r,a),xt=l,Un=h;break;case 0:case 11:case 14:case 15:Et||as(2,a,r),Et||as(4,a,r),Er(n,r,a);break;case 1:Et||(Ln(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&r_(a,r,l)),Er(n,r,a);break;case 21:Er(n,r,a);break;case 22:Et||Ln(a,r),Et=(l=Et)||a.memoizedState!==null,Er(n,r,a),Et=l;break;default:Er(n,r,a)}}function d_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gl(n)}catch(a){nt(r,r.return,a)}}function iA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new l_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new l_),r;default:throw Error(s(435,n.tag))}}function _d(n,r){var a=iA(n);r.forEach(function(l){var h=gA.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function oi(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:case 5:xt=b.stateNode,Un=!1;break e;case 3:xt=b.stateNode.containerInfo,Un=!0;break e;case 4:xt=b.stateNode.containerInfo,Un=!0;break e}b=b.return}if(xt===null)throw Error(s(160));f_(d,v,h),xt=null,Un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)m_(r,n),r=r.sibling}var vi=null;function m_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:oi(r,n),li(n),l&4&&(as(3,n,n.return),Il(3,n),as(5,n,n.return));break;case 1:oi(r,n),li(n),l&512&&(Et||a===null||Ln(a,a.return)),l&64&&vr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=vi;if(oi(r,n),li(n),l&512&&(Et||a===null||Ln(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[qr]||d[Gt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),rn(d,l,a),d[Gt]=n,mt(d),l=d;break e;case"link":var v=sv("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),rn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=sv("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),rn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Gt]=n,mt(d),l=d}n.stateNode=l}else av(h,n.type,n.stateNode);else n.stateNode=rv(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?av(h,n.type,n.stateNode):rv(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&a_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){h=n.stateNode,d=n.memoizedProps;try{for(var I=h.firstChild;I;){var P=I.nextSibling,X=I.nodeName;I[qr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=P}for(var ne=n.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);rn(h,ne,d),h[Gt]=n,h[Lt]=d}catch(ge){nt(n,n.return,ge)}}case 5:if(oi(r,n),li(n),l&512&&(Et||a===null||Ln(a,a.return)),n.flags&32){h=n.stateNode;try{Zn(h,"")}catch(ge){nt(n,n.return,ge)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,a_(n,h,a!==null?a.memoizedProps:h)),l&1024&&(yd=!0);break;case 6:if(oi(r,n),li(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(ge){nt(n,n.return,ge)}}break;case 3:if(Lc=null,h=vi,vi=Vc(r.containerInfo),oi(r,n),vi=h,li(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Gl(r.containerInfo)}catch(ge){nt(n,n.return,ge)}yd&&(yd=!1,p_(n));break;case 4:l=vi,vi=Vc(n.stateNode.containerInfo),oi(r,n),li(n),vi=l;break;case 12:oi(r,n),li(n);break;case 13:oi(r,n),li(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Id=cn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,_d(n,l)));break;case 22:if(l&512&&(Et||a===null||Ln(a,a.return)),I=n.memoizedState!==null,P=a!==null&&a.memoizedState!==null,X=vr,ne=Et,vr=X||I,Et=ne||P,oi(r,n),Et=ne,vr=X,li(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=vr||Et,a===null||P||r||oo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){P=a=r;try{if(h=P.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=P.stateNode,b=P.memoizedProps.style;var Q=b!=null&&b.hasOwnProperty("display")?b.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ge){nt(P,P.return,ge)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=I?"":P.memoizedProps}catch(ge){nt(P,P.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_d(n,a))));break;case 19:oi(r,n),li(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,_d(n,l)));break;case 21:break;default:oi(r,n),li(n)}}function li(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(o_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=pd(n);Ec(n,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(Zn(v,""),l.flags&=-33);var b=pd(n);Ec(n,b,v);break;case 3:case 4:var I=l.stateNode.containerInfo,P=pd(n);gd(n,P,I);break;default:throw Error(s(161))}}}catch(X){nt(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function p_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;p_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Tr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)c_(n,r.alternate,r),r=r.sibling}function oo(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:as(4,r,r.return),oo(r);break;case 1:Ln(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&r_(r,r.return,a),oo(r);break;case 26:case 27:case 5:Ln(r,r.return),oo(r);break;case 22:Ln(r,r.return),r.memoizedState===null&&oo(r);break;default:oo(r)}n=n.sibling}}function os(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:os(h,d,a),Il(4,d);break;case 1:if(os(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){nt(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)t_(I[h],b)}catch(P){nt(l,l.return,P)}}a&&v&64&&i_(d),ha(d,d.return);break;case 26:case 27:case 5:os(h,d,a),a&&l===null&&v&4&&s_(d),ha(d,d.return);break;case 12:os(h,d,a);break;case 13:os(h,d,a),a&&v&4&&d_(h,d);break;case 22:d.memoizedState===null&&os(h,d,a),ha(d,d.return);break;default:os(h,d,a)}r=r.sibling}}function vd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&yl(a))}function Ed(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yl(n))}function ls(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g_(n,r,a,l),r=r.sibling}function g_(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ls(n,r,a,l),h&2048&&Il(9,r);break;case 3:ls(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yl(n)));break;case 12:if(h&2048){ls(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){nt(r,r.return,I)}}else ls(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?ls(n,r,a,l):Cl(n,r):d._visibility&4?ls(n,r,a,l):(d._visibility|=4,lo(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&vd(r.alternate,r);break;case 24:ls(n,r,a,l),h&2048&&Ed(r.alternate,r);break;default:ls(n,r,a,l)}}function lo(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,b=a,I=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:lo(d,v,b,I,h),Il(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&4?lo(d,v,b,I,h):Cl(d,v):(X._visibility|=4,lo(d,v,b,I,h)),h&&P&2048&&vd(v.alternate,v);break;case 24:lo(d,v,b,I,h),h&&P&2048&&Ed(v.alternate,v);break;default:lo(d,v,b,I,h)}r=r.sibling}}function Cl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:Cl(a,l),h&2048&&vd(l.alternate,l);break;case 24:Cl(a,l),h&2048&&Ed(l.alternate,l);break;default:Cl(a,l)}r=r.sibling}}var Dl=8192;function uo(n){if(n.subtreeFlags&Dl)for(n=n.child;n!==null;)y_(n),n=n.sibling}function y_(n){switch(n.tag){case 26:uo(n),n.flags&Dl&&n.memoizedState!==null&&GA(vi,n.memoizedState,n.memoizedProps);break;case 5:uo(n);break;case 3:case 4:var r=vi;vi=Vc(n.stateNode.containerInfo),uo(n),vi=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Dl,Dl=16777216,uo(n),Dl=r):uo(n));break;default:uo(n)}}function __(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ol(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Yt=l,E_(l,n)}__(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)v_(n),n=n.sibling}function v_(n){switch(n.tag){case 0:case 11:case 15:Ol(n),n.flags&2048&&as(9,n,n.return);break;case 3:Ol(n);break;case 12:Ol(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Tc(n)):Ol(n);break;default:Ol(n)}}function Tc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Yt=l,E_(l,n)}__(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:as(8,r,r.return),Tc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Tc(r));break;default:Tc(r)}n=n.sibling}}function E_(n,r){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:as(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=n;Yt!==null;){l=Yt;var h=l.sibling,d=l.return;if(h_(l),l===a){Yt=null;break e}if(h!==null){h.return=d,Yt=h;break e}Yt=d}}}function rA(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(n,r,a,l){return new rA(n,r,a,l)}function Td(n){return n=n.prototype,!(!n||!n.isReactComponent)}function us(n,r){var a=n.alternate;return a===null?(a=ui(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function T_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function bc(n,r,a,l,h,d){var v=0;if(l=n,typeof n=="function")Td(n)&&(v=1);else if(typeof n=="string")v=qA(n,a,Zt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return fa(a.children,h,d,r);case g:v=8,h|=24;break;case T:return n=ui(12,a,r,h|2),n.elementType=T,n.lanes=d,n;case $:return n=ui(13,a,r,h),n.elementType=$,n.lanes=d,n;case L:return n=ui(19,a,r,h),n.elementType=L,n.lanes=d,n;case W:return b_(a,h,d,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case O:v=10;break e;case A:v=9;break e;case M:v=11;break e;case K:v=14;break e;case ie:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=ui(v,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function fa(n,r,a,l){return n=ui(7,n,l,r),n.lanes=a,n}function b_(n,r,a,l){n=ui(22,n,l,r),n.elementType=W,n.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Wr(d,2);v!==null&&(h._pendingVisibility|=2,Tn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Wr(d,2);v!==null&&(h._pendingVisibility&=-3,Tn(v,d,2))}}};return n.stateNode=h,n}function bd(n,r,a){return n=ui(6,n,null,r),n.lanes=a,n}function wd(n,r,a){return r=ui(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function br(n){n.flags|=4}function w_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ov(r)){if(r=ai.current,r!==null&&((He&4194176)===He?zi!==null:(He&62914560)!==He&&(He&536870912)===0||r!==zi))throw ml=Cf,Bg;n.flags|=8192}}function wc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?rt():536870912,n.lanes|=r,ho|=r)}function Nl(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function pt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function sA(n,r,a){var l=r.pendingProps;switch(Rf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),_r(jt),Kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(cl(r)?br(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_i!==null&&(Nd(_i),_i=null))),pt(r),null;case 26:return a=r.memoizedState,n===null?(br(r),a!==null?(pt(r),w_(r,a)):(pt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(br(r),pt(r),w_(r,a)):(pt(r),r.flags&=-16777217):(n.memoizedProps!==l&&br(r),pt(r),r.flags&=-16777217),null;case 27:er(r),a=An.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&br(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return pt(r),null}n=Zt.current,cl(r)?Ug(r):(n=J_(h,l,a),r.stateNode=n,br(r))}return pt(r),null;case 5:if(er(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&br(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return pt(r),null}if(n=Zt.current,cl(r))Ug(r);else{switch(h=Mc(An.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Gt]=r,n[Lt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(rn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&br(r)}}return pt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&br(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=An.current,cl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=En,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Gt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||$_(n.nodeValue,a)),n||na(r)}else n=Mc(n).createTextNode(l),n[Gt]=r,r.stateNode=n}return pt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=cl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Gt]=r}else hl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),h=!1}else _i!==null&&(Nd(_i),_i=null),h=!0;if(!h)return r.flags&256?(mr(r),r):(mr(r),null)}if(mr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),wc(r,r.updateQueue),pt(r),null;case 4:return Kn(),n===null&&Hd(r.stateNode.containerInfo),pt(r),null;case 10:return _r(r.type),pt(r),null;case 19:if(Je(Bt),h=r.memoizedState,h===null)return pt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Nl(h,!1);else{if(Tt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=ac(n),d!==null){for(r.flags|=128,Nl(h,!1),n=d.updateQueue,r.updateQueue=n,wc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)T_(a,n),a=a.sibling;return Ue(Bt,Bt.current&1|2),r.child}n=n.sibling}h.tail!==null&&cn()>Ac&&(r.flags|=128,l=!0,Nl(h,!1),r.lanes=4194304)}else{if(!l)if(n=ac(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,wc(r,n),Nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ge)return pt(r),null}else 2*cn()-h.renderingStartTime>Ac&&a!==536870912&&(r.flags|=128,l=!0,Nl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=cn(),r.sibling=null,n=Bt.current,Ue(Bt,l?n&1|2:n&1),r):(pt(r),null);case 22:case 23:return mr(r),Of(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),a=r.updateQueue,a!==null&&wc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&Je(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),_r(jt),pt(r),null;case 25:return null}throw Error(s(156,r.tag))}function aA(n,r){switch(Rf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return _r(jt),Kn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return er(r),null;case 13:if(mr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));hl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Je(Bt),null;case 4:return Kn(),null;case 10:return _r(r.type),null;case 22:case 23:return mr(r),Of(),n!==null&&Je(ra),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return _r(jt),null;case 25:return null;default:return null}}function A_(n,r){switch(Rf(r),r.tag){case 3:_r(jt),Kn();break;case 26:case 27:case 5:er(r);break;case 4:Kn();break;case 13:mr(r);break;case 19:Je(Bt);break;case 10:_r(r.type);break;case 22:case 23:mr(r),Of(),n!==null&&Je(ra);break;case 24:_r(jt)}}var oA={getCacheForType:function(n){var r=fn(jt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},lA=typeof WeakMap=="function"?WeakMap:Map,gt=0,at=null,Ve=null,He=0,ot=0,zn=null,wr=!1,co=!1,Ad=!1,Ar=0,Tt=0,cs=0,da=0,Sd=0,ci=0,ho=0,xl=null,ji=null,Rd=!1,Id=0,Ac=1/0,Sc=null,hs=null,Rc=!1,ma=null,kl=0,Cd=0,Dd=null,Ml=0,Od=null;function Bn(){if((gt&2)!==0&&He!==0)return He&-He;if(S.T!==null){var n=no;return n!==0?n:Ud()}return Ko()}function S_(){ci===0&&(ci=(He&536870912)===0||Ge?Ci():536870912);var n=ai.current;return n!==null&&(n.flags|=32),ci}function Tn(n,r,a){(n===at&&ot===2||n.cancelPendingCommit!==null)&&(fo(n,0),Sr(n,He,ci,!1)),st(n,a),((gt&2)===0||n!==at)&&(n===at&&((gt&2)===0&&(da|=a),Tt===4&&Sr(n,He,ci,!1)),Hi(n))}function R_(n,r,a){if((gt&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||ut(n,r),h=l?hA(n,r):Md(n,r,!0),d=l;do{if(h===0){co&&!l&&Sr(n,r,0,!1);break}else if(h===6)Sr(n,r,0,!wr);else{if(a=n.current.alternate,d&&!uA(a)){h=Md(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=n;h=xl;var I=b.current.memoizedState.isDehydrated;if(I&&(fo(b,v).flags|=256),v=Md(b,v,!1),v!==2){if(Ad&&!I){b.errorRecoveryDisabledLanes|=d,da|=d,h=4;break e}d=ji,ji=h,d!==null&&Nd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){fo(n,0),Sr(n,r,0,!0);break}e:{switch(l=n,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Sr(l,r,ci,!wr);break e}break;case 2:ji=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=Id+300-cn(),10<d)){if(Sr(l,r,ci,!wr),Qe(l,0)!==0)break e;l.timeoutHandle=X_(I_.bind(null,l,a,ji,Sc,Rd,r,ci,da,ho,wr,2,-0,0),d);break e}I_(l,a,ji,Sc,Rd,r,ci,da,ho,wr,0,-0,0)}}break}while(!0);Hi(n)}function Nd(n){ji===null?ji=n:ji.push.apply(ji,n)}function I_(n,r,a,l,h,d,v,b,I,P,X,ne,q){var Q=r.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:FA},y_(r),r=KA(),r!==null)){n.cancelPendingCommit=r(M_.bind(null,n,a,l,h,v,b,I,1,ne,q)),Sr(n,d,v,!P);return}M_(n,a,l,h,v,b,I,X,ne,q)}function uA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Pn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Sr(n,r,a,l){r&=~Sd,r&=~da,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-Jt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Dt(n,a,r)}function Ic(){return(gt&6)===0?(Vl(0),!1):!0}function xd(){if(Ve!==null){if(ot===0)var n=Ve.return;else n=Ve,yr=ua=null,Uf(n),eo=null,pl=0,n=Ve;for(;n!==null;)A_(n.alternate,n),n=n.return;Ve=null}}function fo(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,CA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),xd(),at=n,Ve=a=us(n.current,null),He=r,ot=0,zn=null,wr=!1,co=ut(n,r),Ad=!1,ho=ci=Sd=da=cs=Tt=0,ji=xl=null,Rd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-Jt(l),d=1<<h;r|=n[h],l&=~d}return Ar=r,Wu(),a}function C_(n,r){xe=null,S.H=Bi,r===dl?(r=qg(),ot=3):r===Bg?(r=qg(),ot=4):ot=r===jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,Ve===null&&(Tt=1,yc(n,ii(r,n.current)))}function D_(){var n=S.H;return S.H=Bi,n===null?Bi:n}function O_(){var n=S.A;return S.A=oA,n}function kd(){Tt=4,wr||(He&4194176)!==He&&ai.current!==null||(co=!0),(cs&134217727)===0&&(da&134217727)===0||at===null||Sr(at,He,ci,!1)}function Md(n,r,a){var l=gt;gt|=2;var h=D_(),d=O_();(at!==n||He!==r)&&(Sc=null,fo(n,r)),r=!1;var v=Tt;e:do try{if(ot!==0&&Ve!==null){var b=Ve,I=zn;switch(ot){case 8:xd(),v=6;break e;case 3:case 2:case 6:ai.current===null&&(r=!0);var P=ot;if(ot=0,zn=null,mo(n,b,I,P),a&&co){v=0;break e}break;default:P=ot,ot=0,zn=null,mo(n,b,I,P)}}cA(),v=Tt;break}catch(X){C_(n,X)}while(!0);return r&&n.shellSuspendCounter++,yr=ua=null,gt=l,S.H=h,S.A=d,Ve===null&&(at=null,He=0,Wu()),v}function cA(){for(;Ve!==null;)N_(Ve)}function hA(n,r){var a=gt;gt|=2;var l=D_(),h=O_();at!==n||He!==r?(Sc=null,Ac=cn()+500,fo(n,r)):co=ut(n,r);e:do try{if(ot!==0&&Ve!==null){r=Ve;var d=zn;t:switch(ot){case 1:ot=0,zn=null,mo(n,r,d,1);break;case 2:if(jg(d)){ot=0,zn=null,x_(r);break}r=function(){ot===2&&at===n&&(ot=7),Hi(n)},d.then(r,r);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:jg(d)?(ot=0,zn=null,x_(r)):(ot=0,zn=null,mo(n,r,d,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var b=Ve;if(!v||ov(v)){ot=0,zn=null;var I=b.sibling;if(I!==null)Ve=I;else{var P=b.return;P!==null?(Ve=P,Cc(P)):Ve=null}break t}}ot=0,zn=null,mo(n,r,d,5);break;case 6:ot=0,zn=null,mo(n,r,d,6);break;case 8:xd(),Tt=6;break e;default:throw Error(s(462))}}fA();break}catch(X){C_(n,X)}while(!0);return yr=ua=null,S.H=l,S.A=h,gt=a,Ve!==null?0:(at=null,He=0,Wu(),Tt)}function fA(){for(;Ve!==null&&!un();)N_(Ve)}function N_(n){var r=Jy(n.alternate,n,Ar);n.memoizedProps=n.pendingProps,r===null?Cc(n):Ve=r}function x_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=$y(a,r,r.pendingProps,r.type,void 0,He);break;case 11:r=$y(a,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:Uf(r);default:A_(a,r),r=Ve=T_(r,Ar),r=Jy(a,r,Ar)}n.memoizedProps=n.pendingProps,r===null?Cc(n):Ve=r}function mo(n,r,a,l){yr=ua=null,Uf(r),eo=null,pl=0;var h=r.return;try{if(eA(n,h,r,a,He)){Tt=1,yc(n,ii(a,n.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;Tt=1,yc(n,ii(a,n.current)),Ve=null;return}r.flags&32768?(Ge||l===1?n=!0:co||(He&536870912)!==0?n=!1:(wr=n=!0,(l===2||l===3||l===6)&&(l=ai.current,l!==null&&l.tag===13&&(l.flags|=16384))),k_(r,n)):Cc(r)}function Cc(n){var r=n;do{if((r.flags&32768)!==0){k_(r,wr);return}n=r.return;var a=sA(r.alternate,r,Ar);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);Tt===0&&(Tt=5)}function k_(n,r){do{var a=aA(n.alternate,n);if(a!==null){a.flags&=32767,Ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=a}while(n!==null);Tt=6,Ve=null}function M_(n,r,a,l,h,d,v,b,I,P){var X=S.T,ne=oe.p;try{oe.p=2,S.T=null,dA(n,r,a,l,ne,h,d,v,b,I,P)}finally{S.T=X,oe.p=ne}}function dA(n,r,a,l,h,d,v,b){do po();while(ma!==null);if((gt&6)!==0)throw Error(s(327));var I=n.finishedWork;if(l=n.finishedLanes,I===null)return null;if(n.finishedWork=null,n.finishedLanes=0,I===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var P=I.lanes|I.childLanes;if(P|=wf,hn(n,l,P,d,v,b),n===at&&(Ve=at=null,He=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Rc||(Rc=!0,Cd=P,Dd=a,yA(Qn,function(){return po(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=oe.p,oe.p=2,v=gt,gt|=4,nA(n,I),m_(I,n),Lw(Kd,n.containerInfo),Bc=!!Gd,Kd=Gd=null,n.current=I,c_(n,I.alternate,I),$n(),gt=v,oe.p=d,S.T=a):n.current=I,Rc?(Rc=!1,ma=n,kl=l):V_(n,P),P=n.pendingLanes,P===0&&(hs=null),jr(I.stateNode),Hi(n),r!==null)for(h=n.onRecoverableError,I=0;I<r.length;I++)P=r[I],h(P.value,{componentStack:P.stack});return(kl&3)!==0&&po(),P=n.pendingLanes,(l&4194218)!==0&&(P&42)!==0?n===Od?Ml++:(Ml=0,Od=n):Ml=0,Vl(0),null}function V_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,yl(r)))}function po(){if(ma!==null){var n=ma,r=Cd;Cd=0;var a=Xn(kl),l=S.T,h=oe.p;try{if(oe.p=32>a?32:a,S.T=null,ma===null)var d=!1;else{a=Dd,Dd=null;var v=ma,b=kl;if(ma=null,kl=0,(gt&6)!==0)throw Error(s(331));var I=gt;if(gt|=4,v_(v.current),g_(v,v.current,b,a),gt=I,Vl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Ii,v)}catch{}d=!0}return d}finally{oe.p=h,S.T=l,V_(n,r)}}return!1}function P_(n,r,a){r=ii(a,r),r=Zf(n.stateNode,r,2),n=ss(n,r,2),n!==null&&(st(n,2),Hi(n))}function nt(n,r,a){if(n.tag===3)P_(n,n,a);else for(;r!==null;){if(r.tag===3){P_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hs===null||!hs.has(l))){n=ii(a,n),a=zy(2),l=ss(r,a,2),l!==null&&(By(a,l,r,n),st(l,2),Hi(l));break}}r=r.return}}function Vd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new lA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Ad=!0,h.add(a),n=mA.bind(null,n,r,a),r.then(n,n))}function mA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,at===n&&(He&a)===a&&(Tt===4||Tt===3&&(He&62914560)===He&&300>cn()-Id?(gt&2)===0&&fo(n,0):Sd|=a,ho===He&&(ho=0)),Hi(n)}function L_(n,r){r===0&&(r=rt()),n=Wr(n,r),n!==null&&(st(n,r),Hi(n))}function pA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),L_(n,a)}function gA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),L_(n,a)}function yA(n,r){return tr(n,r)}var Dc=null,go=null,Pd=!1,Oc=!1,Ld=!1,pa=0;function Hi(n){n!==go&&n.next===null&&(go===null?Dc=go=n:go=go.next=n),Oc=!0,Pd||(Pd=!0,vA(_A))}function Vl(n,r){if(!Ld&&Oc){Ld=!0;do for(var a=!1,l=Dc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Jt(42|n)+1)-1,d&=h&~(v&~b),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,B_(l,d))}else d=He,d=Qe(l,l===at?d:0),(d&3)===0||ut(l,d)||(a=!0,B_(l,d));l=l.next}while(a);Ld=!1}}function _A(){Oc=Pd=!1;var n=0;pa!==0&&(IA()&&(n=pa),pa=0);for(var r=cn(),a=null,l=Dc;l!==null;){var h=l.next,d=U_(l,r);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(go=a)):(a=l,(n!==0||(d&3)!==0)&&(Oc=!0)),l=h}Vl(n)}function U_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-Jt(d),b=1<<v,I=h[v];I===-1?((b&a)===0||(b&l)!==0)&&(h[v]=Ct(b,r)):I<=r&&(n.expiredLanes|=b),d&=~b}if(r=at,a=He,a=Qe(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&ot===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&zr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ut(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&zr(l),Xn(a)){case 2:case 8:a=It;break;case 32:a=Qn;break;case 268435456:a=Yn;break;default:a=Qn}return l=z_.bind(null,n),a=tr(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&zr(l),n.callbackPriority=2,n.callbackNode=null,2}function z_(n,r){var a=n.callbackNode;if(po()&&n.callbackNode!==a)return null;var l=He;return l=Qe(n,n===at?l:0),l===0?null:(R_(n,l,r),U_(n,cn()),n.callbackNode!=null&&n.callbackNode===a?z_.bind(null,n):null)}function B_(n,r){if(po())return null;R_(n,r,!0)}function vA(n){DA(function(){(gt&6)!==0?tr(ht,n):n()})}function Ud(){return pa===0&&(pa=Ci()),pa}function j_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ni(""+n)}function H_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function EA(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=j_((h[Lt]||null).action),v=l.submitter;v&&(r=(r=v[Lt]||null)?j_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var b=new Ba("action","action",null,l,h);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pa!==0){var I=v?H_(h,v):new FormData(h);$f(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=v?H_(h,v):new FormData(h),$f(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var zd=0;zd<Mg.length;zd++){var Bd=Mg[zd],TA=Bd.toLowerCase(),bA=Bd[0].toUpperCase()+Bd.slice(1);yi(TA,"on"+bA)}yi(Dg,"onAnimationEnd"),yi(Og,"onAnimationIteration"),yi(Ng,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(zw,"onTransitionRun"),yi(Bw,"onTransitionStart"),yi(jw,"onTransitionCancel"),yi(xg,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function q_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],I=b.instance,P=b.currentTarget;if(b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=P;try{d(h)}catch(X){gc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(b=l[v],I=b.instance,P=b.currentTarget,b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=P;try{d(h)}catch(X){gc(X)}h.currentTarget=null,d=I}}}}function ze(n,r){var a=r[Bs];a===void 0&&(a=r[Bs]=new Set);var l=n+"__bubble";a.has(l)||(F_(r,n,2,!1),a.add(l))}function jd(n,r,a){var l=0;r&&(l|=4),F_(a,n,l,r)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Hd(n){if(!n[Nc]){n[Nc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(wA.has(a)||jd(a,!1,n),jd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Nc]||(r[Nc]=!0,jd("selectionchange",!1,r))}}function F_(n,r,a,l){switch(dv(r)){case 2:var h=YA;break;case 8:h=XA;break;default:h=tm}a=h.bind(null,r,a,n),h=void 0,!ei||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function qd(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;v=v.return}for(;b!==null;){if(v=gi(b),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Pu(function(){var P=d,X=za(a),ne=[];e:{var q=kg.get(n);if(q!==void 0){var Q=Ba,ge=n;switch(n){case"keypress":if(ki(a)===0)break e;case"keydown":case"keyup":Q=Ka;break;case"focusin":ge="focus",Q=qa;break;case"focusout":ge="blur",Q=qa;break;case"beforeblur":case"afterblur":Q=qa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ti;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Fu;break;case Dg:case Og:case Ng:Q=Fa;break;case xg:Q=Ku;break;case"scroll":case"scrollend":Q=Lu;break;case"wheel":Q=$a;break;case"copy":case"cut":case"paste":Q=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=al;break;case"toggle":case"beforetoggle":Q=Qu}var Ie=(r&4)!==0,bt=!Ie&&(n==="scroll"||n==="scrollend"),z=Ie?q!==null?q+"Capture":null:q;Ie=[];for(var V=P,j;V!==null;){var Z=V;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||z===null||(Z=Gs(V,z),Z!=null&&Ie.push(Ll(V,Z,j))),bt)break;V=V.return}0<Ie.length&&(q=new Q(q,ge,null,a,X),ne.push({event:q,listeners:Ie}))}}if((r&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",q&&a!==Jn&&(ge=a.relatedTarget||a.fromElement)&&(gi(ge)||ge[ir]))break e;if((Q||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(ge=a.relatedTarget||a.toElement,Q=P,ge=ge?gi(ge):null,ge!==null&&(bt=de(ge),Ie=ge.tag,ge!==bt||Ie!==5&&Ie!==27&&Ie!==6)&&(ge=null)):(Q=null,ge=P),Q!==ge)){if(Ie=ti,Z="onMouseLeave",z="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=al,Z="onPointerLeave",z="onPointerEnter",V="pointer"),bt=Q==null?q:Fr(Q),j=ge==null?q:Fr(ge),q=new Ie(Z,V+"leave",Q,a,X),q.target=bt,q.relatedTarget=j,Z=null,gi(X)===P&&(Ie=new Ie(z,V+"enter",ge,a,X),Ie.target=j,Ie.relatedTarget=bt,Z=Ie),bt=Z,Q&&ge)t:{for(Ie=Q,z=ge,V=0,j=Ie;j;j=yo(j))V++;for(j=0,Z=z;Z;Z=yo(Z))j++;for(;0<V-j;)Ie=yo(Ie),V--;for(;0<j-V;)z=yo(z),j--;for(;V--;){if(Ie===z||z!==null&&Ie===z.alternate)break t;Ie=yo(Ie),z=yo(z)}Ie=null}else Ie=null;Q!==null&&G_(ne,q,Q,Ie,!1),ge!==null&&bt!==null&&G_(ne,bt,ge,Ie,!0)}}e:{if(q=P?Fr(P):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var pe=_g;else if(zt(q))if(vg)pe=Vw;else{pe=kw;var Me=xw}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&Jo(P.elementType)&&(pe=_g):pe=Mw;if(pe&&(pe=pe(n,P))){hr(ne,pe,a,X);break e}Me&&Me(n,q,P),n==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&Ua(q,"number",q.value)}switch(Me=P?Fr(P):window,n){case"focusin":(zt(Me)||Me.contentEditable==="true")&&(Qa=Me,Ef=P,ul=null);break;case"focusout":ul=Ef=Qa=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Ig(ne,a,X);break;case"selectionchange":if(Uw)break;case"keydown":case"keyup":Ig(ne,a,X)}var _e;if(Pi)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Be?F(n,a)&&(be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(_&&a.locale!=="ko"&&(Be||be!=="onCompositionStart"?be==="onCompositionEnd"&&Be&&(_e=tl()):(xi=X,Xr="value"in xi?xi.value:xi.textContent,Be=!0)),Me=xc(P,be),0<Me.length&&(be=new rl(be,n,null,a,X),ne.push({event:be,listeners:Me}),_e?be.data=_e:(_e=se(a),_e!==null&&(be.data=_e)))),(_e=y?Ut(n,a):je(n,a))&&(be=xc(P,"onBeforeInput"),0<be.length&&(Me=new rl("onBeforeInput","beforeinput",null,a,X),ne.push({event:Me,listeners:be}),Me.data=_e)),EA(ne,n,P,a,X)}q_(ne,r)})}function Ll(n,r,a){return{instance:n,listener:r,currentTarget:a}}function xc(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gs(n,a),h!=null&&l.unshift(Ll(n,h,d)),h=Gs(n,r),h!=null&&l.push(Ll(n,h,d))),n=n.return}return l}function yo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function G_(n,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var b=a,I=b.alternate,P=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||P===null||(I=P,h?(P=Gs(a,d),P!=null&&v.unshift(Ll(a,P,I))):h||(P=Gs(a,d),P!=null&&v.push(Ll(a,P,I)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var AA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function K_(n){return(typeof n=="string"?n:""+n).replace(AA,`
`).replace(SA,"")}function $_(n,r){return r=K_(r),K_(n)===r}function kc(){}function tt(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Zn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Zn(n,""+l);break;case"className":$r(n,"class",l);break;case"tabIndex":$r(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$r(n,a,l);break;case"style":Vu(n,l,d);break;case"data":if(r!=="object"){$r(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ni(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&tt(n,r,"name",h.name,h,null),tt(n,r,"formEncType",h.formEncType,h,null),tt(n,r,"formMethod",h.formMethod,h,null),tt(n,r,"formTarget",h.formTarget,h,null)):(tt(n,r,"encType",h.encType,h,null),tt(n,r,"method",h.method,h,null),tt(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ni(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=kc);break;case"onScroll":l!=null&&ze("scroll",n);break;case"onScrollEnd":l!=null&&ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ni(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ze("beforetoggle",n),ze("toggle",n),Kr(n,"popover",l);break;case"xlinkActuate":Wn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Wn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Wn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Wn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Wn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Wn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Wn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Wn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Wn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Kr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=df.get(a)||a,Kr(n,a,l))}}function Fd(n,r,a,l,h,d){switch(a){case"style":Vu(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Zn(n,l):(typeof l=="number"||typeof l=="bigint")&&Zn(n,""+l);break;case"onScroll":l!=null&&ze("scroll",n);break;case"onScrollEnd":l!=null&&ze("scrollend",n);break;case"onClick":l!=null&&(n.onclick=kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Kr(n,a,l)}}}function rn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",n),ze("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(n,r,d,v,a,null)}}h&&tt(n,r,"srcSet",a.srcSet,a,null),l&&tt(n,r,"src",a.src,a,null);return;case"input":ze("invalid",n);var b=d=v=h=null,I=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":P=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:tt(n,r,l,X,a,null)}}qs(n,d,b,I,P,v,h,!1),Hs(n);return;case"select":ze("invalid",n),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:tt(n,r,h,b,a,null)}r=d,a=v,n.multiple=!!l,r!=null?Fe(n,!!l,r,!1):a!=null&&Fe(n,!!l,a,!0);return;case"textarea":ze("invalid",n),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:tt(n,r,v,b,a,null)}Yr(n,l,h,d),Hs(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(n,r,I,l,a,null)}return;case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":ze("load",n);break;case"video":case"audio":for(l=0;l<Pl.length;l++)ze(Pl[l],n);break;case"image":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"embed":case"source":case"link":ze("error",n),ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(n,r,P,l,a,null)}return;default:if(Jo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Fd(n,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&tt(n,r,b,l,a,null))}function RA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,I=null,P=null,X=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ne;default:l.hasOwnProperty(Q)||tt(n,r,Q,null,l,ne)}}for(var q in l){var Q=l[q];if(ne=a[q],l.hasOwnProperty(q)&&(Q!=null||ne!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":P=Q;break;case"defaultChecked":X=Q;break;case"value":v=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ne&&tt(n,r,q,Q,l,ne)}}Qr(n,v,b,I,P,X,d,h);return;case"select":Q=v=b=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||tt(n,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==I&&tt(n,r,h,d,l,I)}r=b,a=v,l=Q,q!=null?Fe(n,!!a,q,!1):!!l!=!!a&&(r!=null?Fe(n,!!a,r,!0):Fe(n,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:tt(n,r,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(n,r,v,h,l,d)}Fs(n,q,Q);return;case"option":for(var ge in a)if(q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":n.selected=!1;break;default:tt(n,r,ge,null,l,q)}for(I in l)if(q=l[I],Q=a[I],l.hasOwnProperty(I)&&q!==Q&&(q!=null||Q!=null))switch(I){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:tt(n,r,I,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in a)q=a[Ie],a.hasOwnProperty(Ie)&&q!=null&&!l.hasOwnProperty(Ie)&&tt(n,r,Ie,null,l,q);for(P in l)if(q=l[P],Q=a[P],l.hasOwnProperty(P)&&q!==Q&&(q!=null||Q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:tt(n,r,P,q,l,Q)}return;default:if(Jo(r)){for(var bt in a)q=a[bt],a.hasOwnProperty(bt)&&q!==void 0&&!l.hasOwnProperty(bt)&&Fd(n,r,bt,void 0,l,q);for(X in l)q=l[X],Q=a[X],!l.hasOwnProperty(X)||q===Q||q===void 0&&Q===void 0||Fd(n,r,X,q,l,Q);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&tt(n,r,z,null,l,q);for(ne in l)q=l[ne],Q=a[ne],!l.hasOwnProperty(ne)||q===Q||q==null&&Q==null||tt(n,r,ne,q,l,Q)}var Gd=null,Kd=null;function Mc(n){return n.nodeType===9?n:n.ownerDocument}function Q_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function $d(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qd=null;function IA(){var n=window.event;return n&&n.type==="popstate"?n===Qd?!1:(Qd=n,!0):(Qd=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,CA=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(n){return W_.resolve(null).then(n).catch(OA)}:X_;function OA(n){setTimeout(function(){throw n})}function Yd(n,r){var a=r,l=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){n.removeChild(h),Gl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Gl(r)}function Xd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),js(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function NA(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[qr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Ei(n.nextSibling),n===null)break}return null}function xA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Ei(n.nextSibling),n===null))return null;return n}function Ei(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function Z_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function J_(n,r,a){switch(r=Mc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var hi=new Map,ev=new Set;function Vc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Rr=oe.d;oe.d={f:kA,r:MA,D:VA,C:PA,L:LA,m:UA,X:BA,S:zA,M:jA};function kA(){var n=Rr.f(),r=Ic();return n||r}function MA(n){var r=rr(n);r!==null&&r.tag===5&&r.type==="form"?Iy(r):Rr.r(n)}var _o=typeof document>"u"?null:document;function tv(n,r,a){var l=_o;if(l&&typeof r=="string"&&r){var h=vt(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ev.has(h)||(ev.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),rn(r,"link",n),mt(r),l.head.appendChild(r)))}}function VA(n){Rr.D(n),tv("dns-prefetch",n,null)}function PA(n,r){Rr.C(n,r),tv("preconnect",n,r)}function LA(n,r,a){Rr.L(n,r,a);var l=_o;if(l&&n&&r){var h='link[rel="preload"][as="'+vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(n)+'"]';var d=h;switch(r){case"style":d=vo(n);break;case"script":d=Eo(n)}hi.has(d)||(n=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),hi.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(Ul(d))||r==="script"&&l.querySelector(zl(d))||(r=l.createElement("link"),rn(r,"link",n),mt(r),l.head.appendChild(r)))}}function UA(n,r){Rr.m(n,r);var a=_o;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Eo(n)}if(!hi.has(d)&&(n=D({rel:"modulepreload",href:n},r),hi.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(d)))return}l=a.createElement("link"),rn(l,"link",n),mt(l),a.head.appendChild(l)}}}function zA(n,r,a){Rr.S(n,r,a);var l=_o;if(l&&n){var h=Gr(l).hoistableStyles,d=vo(n);r=r||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Ul(d)))b.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":r},a),(a=hi.get(d))&&Wd(n,a);var I=v=l.createElement("link");mt(I),rn(I,"link",n),I._p=new Promise(function(P,X){I.onload=P,I.onerror=X}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Pc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function BA(n,r){Rr.X(n,r);var a=_o;if(a&&n){var l=Gr(a).hoistableScripts,h=Eo(n),d=l.get(h);d||(d=a.querySelector(zl(h)),d||(n=D({src:n,async:!0},r),(r=hi.get(h))&&Zd(n,r),d=a.createElement("script"),mt(d),rn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function jA(n,r){Rr.M(n,r);var a=_o;if(a&&n){var l=Gr(a).hoistableScripts,h=Eo(n),d=l.get(h);d||(d=a.querySelector(zl(h)),d||(n=D({src:n,async:!0,type:"module"},r),(r=hi.get(h))&&Zd(n,r),d=a.createElement("script"),mt(d),rn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function nv(n,r,a,l){var h=(h=An.current)?Vc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=vo(a.href),a=Gr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=vo(a.href);var d=Gr(h).hoistableStyles,v=d.get(n);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=h.querySelector(Ul(n)))&&!d._p&&(v.instance=d,v.state.loading=5),hi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(n,a),d||HA(h,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(a),a=Gr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function vo(n){return'href="'+vt(n)+'"'}function Ul(n){return'link[rel="stylesheet"]['+n+"]"}function iv(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function HA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),rn(r,"link",a),mt(r),n.head.appendChild(r))}function Eo(n){return'[src="'+vt(n)+'"]'}function zl(n){return"script[async]"+n}function rv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return r.instance=l,mt(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),mt(l),rn(l,"style",h),Pc(l,a.precedence,n),r.instance=l;case"stylesheet":h=vo(a.href);var d=n.querySelector(Ul(h));if(d)return r.state.loading|=4,r.instance=d,mt(d),d;l=iv(a),(h=hi.get(h))&&Wd(l,h),d=(n.ownerDocument||n).createElement("link"),mt(d);var v=d;return v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),rn(d,"link",l),r.state.loading|=4,Pc(d,a.precedence,n),r.instance=d;case"script":return d=Eo(a.src),(h=n.querySelector(zl(d)))?(r.instance=h,mt(h),h):(l=a,(h=hi.get(d))&&(l=D({},a),Zd(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),mt(h),rn(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Pc(l,a.precedence,n));return r.instance}function Pc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Wd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Zd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Lc=null;function sv(n,r,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[qr]||d[Gt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function av(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function qA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ov(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Bl=null;function FA(){}function GA(n,r,a){if(Bl===null)throw Error(s(475));var l=Bl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=vo(a.href),d=n.querySelector(Ul(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Uc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,mt(d);return}d=n.ownerDocument||n,a=iv(a),(h=hi.get(h))&&Wd(a,h),d=d.createElement("link"),mt(d);var v=d;v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),rn(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Uc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function KA(){if(Bl===null)throw Error(s(475));var n=Bl;return n.stylesheets&&n.count===0&&Jd(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Jd(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Uc(){if(this.count--,this.count===0){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var zc=null;function Jd(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,zc=new Map,r.forEach($A,n),zc=null,Uc.call(n))}function $A(n,r){if(!(r.state.loading&4)){var a=zc.get(n);if(a)var l=a.get(null);else{a=new Map,zc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var jl={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function QA(n,r,a,l,h,d,v,b){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function lv(n,r,a,l,h,d,v,b,I,P,X,ne){return n=new QA(n,r,a,v,b,I,P,ne),r=1,d===!0&&(r|=24),d=ui(3,null,null,r),n.current=d,d.stateNode=n,r=Nf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},hd(d),n}function uv(n){return n?(n=Wa,n):Wa}function cv(n,r,a,l,h,d){h=uv(h),l.context===null?l.context=h:l.pendingContext=h,l=rs(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ss(n,l,r),a!==null&&(Tn(a,n,r),Al(a,n,r))}function hv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function em(n,r){hv(n,r),(n=n.alternate)&&hv(n,r)}function fv(n){if(n.tag===13){var r=Wr(n,67108864);r!==null&&Tn(r,n,67108864),em(n,67108864)}}var Bc=!0;function YA(n,r,a,l){var h=S.T;S.T=null;var d=oe.p;try{oe.p=2,tm(n,r,a,l)}finally{oe.p=d,S.T=h}}function XA(n,r,a,l){var h=S.T;S.T=null;var d=oe.p;try{oe.p=8,tm(n,r,a,l)}finally{oe.p=d,S.T=h}}function tm(n,r,a,l){if(Bc){var h=nm(l);if(h===null)qd(n,r,l,jc,a),mv(n,l);else if(ZA(h,n,r,a,l))l.stopPropagation();else if(mv(n,l),r&4&&-1<WA.indexOf(n)){for(;h!==null;){var d=rr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Te(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var I=1<<31-Jt(v);b.entanglements[1]|=I,v&=~I}Hi(d),(gt&6)===0&&(Ac=cn()+500,Vl(0))}}break;case 13:b=Wr(d,2),b!==null&&Tn(b,d,2),Ic(),em(d,2)}if(d=nm(l),d===null&&qd(n,r,l,jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qd(n,r,l,null,a)}}function nm(n){return n=za(n),im(n)}var jc=null;function im(n){if(jc=null,n=gi(n),n!==null){var r=de(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=De(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return jc=n,null}function dv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xa()){case ht:return 2;case It:return 8;case Qn:case Br:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var rm=!1,fs=null,ds=null,ms=null,Hl=new Map,ql=new Map,ps=[],WA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(n,r){switch(n){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Hl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(r.pointerId)}}function Fl(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=rr(r),r!==null&&fv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function ZA(n,r,a,l,h){switch(r){case"focusin":return fs=Fl(fs,n,r,a,l,h),!0;case"dragenter":return ds=Fl(ds,n,r,a,l,h),!0;case"mouseover":return ms=Fl(ms,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Hl.set(d,Fl(Hl.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ql.set(d,Fl(ql.get(d)||null,n,r,a,l,h)),!0}return!1}function pv(n){var r=gi(n.target);if(r!==null){var a=de(r);if(a!==null){if(r=a.tag,r===13){if(r=De(a),r!==null){n.blockedOn=r,Hr(n.priority,function(){if(a.tag===13){var l=Bn(),h=Wr(a,l);h!==null&&Tn(h,a,l),em(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=nm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Jn=l,a.target.dispatchEvent(l),Jn=null}else return r=rr(a),r!==null&&fv(r),n.blockedOn=a,!1;r.shift()}return!0}function gv(n,r,a){Hc(n)&&a.delete(r)}function JA(){rm=!1,fs!==null&&Hc(fs)&&(fs=null),ds!==null&&Hc(ds)&&(ds=null),ms!==null&&Hc(ms)&&(ms=null),Hl.forEach(gv),ql.forEach(gv)}function qc(n,r){n.blockedOn===r&&(n.blockedOn=null,rm||(rm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,JA)))}var Fc=null;function yv(n){Fc!==n&&(Fc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Fc===n&&(Fc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(im(l||a)===null)continue;break}var d=rr(a);d!==null&&(n.splice(r,3),r-=3,$f(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Gl(n){function r(I){return qc(I,n)}fs!==null&&qc(fs,n),ds!==null&&qc(ds,n),ms!==null&&qc(ms,n),Hl.forEach(r),ql.forEach(r);for(var a=0;a<ps.length;a++){var l=ps[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)pv(a),a.blockedOn===null&&ps.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Lt]||null;if(typeof d=="function")v||yv(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Lt]||null)b=v.formAction;else if(im(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),yv(a)}}}function sm(n){this._internalRoot=n}Gc.prototype.render=sm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Bn();cv(a,l,n,r,null,null)},Gc.prototype.unmount=sm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&po(),cv(n.current,2,null,n,null,null),Ic(),r[ir]=null}};function Gc(n){this._internalRoot=n}Gc.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ko();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ps.length&&r!==0&&r<ps[a].priority;a++);ps.splice(a,0,n),a===0&&pv(n)}};var _v=e.version;if(_v!=="19.0.0")throw Error(s(527,_v,"19.0.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=Y(r),n=n!==null?ae(n):null,n=n===null?null:n.stateNode,n};var eS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:gi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Ii=Kc.inject(eS),Ft=Kc}catch{}}return $l.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=Vy,d=Py,v=Ly,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=lv(n,1,!1,null,null,a,l,h,d,v,b,null),n[ir]=r.current,Hd(n.nodeType===8?n.parentNode:n),new sm(r)},$l.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=Vy,v=Py,b=Ly,I=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),r=lv(n,1,!0,r,a??null,l,h,d,v,b,I,P),r.context=uv(null),a=r.current,l=Bn(),h=rs(l),h.callback=null,ss(a,h,l),r.current.lanes=l,st(r,l),Hi(r),n[ir]=r.current,Hd(n),new Gc(r)},$l.version="19.0.0",$l}var Cv;function cS(){if(Cv)return om.exports;Cv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),om.exports=uS(),om.exports}var hS=cS();const fS="modulepreload",dS=function(i){return"/"+i},Dv={},Ze=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=Promise.allSettled(t.map(p=>{if(p=dS(p),p in Dv)return;Dv[p]=!0;const g=p.endsWith(".css"),T=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${T}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":fS,g||(E.as="script"),E.crossOrigin="",E.href=p,m&&E.setAttribute("nonce",m),document.head.appendChild(E),g)return new Promise((A,O)=>{E.addEventListener("load",A),E.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};var H=sp();const le=wE(H),rV=nS({__proto__:null,default:le},[H]);var mS=AE();const pS=wE(mS);function gS(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))}const yS=i=>{switch(i){case"success":return ES;case"info":return bS;case"warning":return TS;case"error":return wS;default:return null}},_S=Array(12).fill(0),vS=({visible:i,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":i},le.createElement("div",{className:"sonner-spinner"},_S.map((t,s)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),ES=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),TS=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bS=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wS=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),AS=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SS=()=>{const[i,e]=le.useState(document.hidden);return le.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),i};let Im=1;class RS{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...o}=e,u=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Im++,f=this.toasts.find(p=>p.id===u),m=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),f?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...e,id:u,title:s}),{...p,...e,id:u,dismissible:m,title:s}):p):this.addToast({title:s,...o,dismissible:m,id:u}),u},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let u=s!==void 0,f;const m=o.then(async g=>{if(f=["resolve",g],le.isValidElement(g))u=!1,this.create({id:s,type:"default",message:g});else if(CS(g)&&!g.ok){u=!1;const E=typeof t.error=="function"?await t.error(`HTTP error! status: ${g.status}`):t.error,A=typeof t.description=="function"?await t.description(`HTTP error! status: ${g.status}`):t.description,O=typeof E=="object"?E:{message:E};this.create({id:s,type:"error",description:A,...O})}else if(g instanceof Error){u=!1;const E=typeof t.error=="function"?await t.error(g):t.error,A=typeof t.description=="function"?await t.description(g):t.description,O=typeof E=="object"?E:{message:E};this.create({id:s,type:"error",description:A,...O})}else if(t.success!==void 0){u=!1;const E=typeof t.success=="function"?await t.success(g):t.success,A=typeof t.description=="function"?await t.description(g):t.description,O=typeof E=="object"?E:{message:E};this.create({id:s,type:"success",description:A,...O})}}).catch(async g=>{if(f=["reject",g],t.error!==void 0){u=!1;const T=typeof t.error=="function"?await t.error(g):t.error,E=typeof t.description=="function"?await t.description(g):t.description,A=typeof T=="object"?T:{message:T};this.create({id:s,type:"error",description:E,...A})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),p=()=>new Promise((g,T)=>m.then(()=>f[0]==="reject"?T(f[1]):g(f[1])).catch(T));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(e,t)=>{const s=(t==null?void 0:t.id)||Im++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Cn=new RS,IS=(i,e)=>{const t=(e==null?void 0:e.id)||Im++;return Cn.addToast({title:i,...e,id:t}),t},CS=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",DS=IS,OS=()=>Cn.toasts,NS=()=>Cn.getActiveToasts(),$c=Object.assign(DS,{success:Cn.success,info:Cn.info,warning:Cn.warning,error:Cn.error,custom:Cn.custom,message:Cn.message,promise:Cn.promise,dismiss:Cn.dismiss,loading:Cn.loading},{getHistory:OS,getToasts:NS});gS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qc(i){return i.label!==void 0}const xS=3,kS="24px",MS="16px",Ov=4e3,VS=356,PS=14,LS=45,US=200;function qi(...i){return i.filter(Boolean).join(" ")}function zS(i){const[e,t]=i.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}const BS=i=>{var e,t,s,o,u,f,m,p,g;const{invert:T,toast:E,unstyled:A,interacting:O,setHeights:M,visibleToasts:$,heights:L,index:K,toasts:ie,expanded:W,removeToast:ce,defaultRichColors:ue,closeButton:ve,style:k,cancelButtonStyle:R,actionButtonStyle:S,className:D="",descriptionClassName:x="",duration:U,position:C,gap:dt,expandByDefault:$e,classNames:te,icons:ye,closeButtonAriaLabel:de="Close toast"}=i,[De,N]=le.useState(null),[Y,ae]=le.useState(null),[re,oe]=le.useState(!1),[Ae,me]=le.useState(!1),[it,Ne]=le.useState(!1),[Je,Ue]=le.useState(!1),[Zt,Fn]=le.useState(!1),[An,Gn]=le.useState(0),[Ri,Kn]=le.useState(0),di=le.useRef(E.duration||U||Ov),er=le.useRef(null),ln=le.useRef(null),tr=K===0,zr=K+1<=$,un=E.type,$n=E.dismissible!==!1,cn=E.className||"",xa=E.descriptionClassName||"",ht=le.useMemo(()=>L.findIndex(Te=>Te.toastId===E.id)||0,[L,E.id]),It=le.useMemo(()=>{var Te;return(Te=E.closeButton)!=null?Te:ve},[E.closeButton,ve]),Qn=le.useMemo(()=>E.duration||U||Ov,[E.duration,U]),Br=le.useRef(0),Yn=le.useRef(0),ka=le.useRef(0),Sn=le.useRef(null),[Ii,Ft]=C.split("-"),jr=le.useMemo(()=>L.reduce((Te,Qe,ut)=>ut>=ht?Te:Te+Qe.height,0),[L,ht]),Nn=SS(),Jt=E.invert||T,nr=un==="loading";Yn.current=le.useMemo(()=>ht*dt+jr,[ht,jr]),le.useEffect(()=>{di.current=Qn},[Qn]),le.useEffect(()=>{oe(!0)},[]),le.useEffect(()=>{const Te=ln.current;if(Te){const Qe=Te.getBoundingClientRect().height;return Kn(Qe),M(ut=>[{toastId:E.id,height:Qe,position:E.position},...ut]),()=>M(ut=>ut.filter(Ct=>Ct.toastId!==E.id))}},[M,E.id]),le.useLayoutEffect(()=>{if(!re)return;const Te=ln.current,Qe=Te.style.height;Te.style.height="auto";const ut=Te.getBoundingClientRect().height;Te.style.height=Qe,Kn(ut),M(Ct=>Ct.find(rt=>rt.toastId===E.id)?Ct.map(rt=>rt.toastId===E.id?{...rt,height:ut}:rt):[{toastId:E.id,height:ut,position:E.position},...Ct])},[re,E.title,E.description,M,E.id]);const xn=le.useCallback(()=>{me(!0),Gn(Yn.current),M(Te=>Te.filter(Qe=>Qe.toastId!==E.id)),setTimeout(()=>{ce(E)},US)},[E,ce,M,Yn]);le.useEffect(()=>{if(E.promise&&un==="loading"||E.duration===1/0||E.type==="loading")return;let Te;return W||O||Nn?(()=>{if(ka.current<Br.current){const Ct=new Date().getTime()-Br.current;di.current=di.current-Ct}ka.current=new Date().getTime()})():(()=>{di.current!==1/0&&(Br.current=new Date().getTime(),Te=setTimeout(()=>{E.onAutoClose==null||E.onAutoClose.call(E,E),xn()},di.current))})(),()=>clearTimeout(Te)},[W,O,E,un,Nn,xn]),le.useEffect(()=>{E.delete&&xn()},[xn,E.delete]);function Ma(){var Te;if(ye!=null&&ye.loading){var Qe;return le.createElement("div",{className:qi(te==null?void 0:te.loader,E==null||(Qe=E.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":un==="loading"},ye.loading)}return le.createElement(vS,{className:qi(te==null?void 0:te.loader,E==null||(Te=E.classNames)==null?void 0:Te.loader),visible:un==="loading"})}var kn,mi;return le.createElement("li",{tabIndex:0,ref:ln,className:qi(D,cn,te==null?void 0:te.toast,E==null||(e=E.classNames)==null?void 0:e.toast,te==null?void 0:te.default,te==null?void 0:te[un],E==null||(t=E.classNames)==null?void 0:t[un]),"data-sonner-toast":"","data-rich-colors":(kn=E.richColors)!=null?kn:ue,"data-styled":!(E.jsx||E.unstyled||A),"data-mounted":re,"data-promise":!!E.promise,"data-swiped":Zt,"data-removed":Ae,"data-visible":zr,"data-y-position":Ii,"data-x-position":Ft,"data-index":K,"data-front":tr,"data-swiping":it,"data-dismissible":$n,"data-type":un,"data-invert":Jt,"data-swipe-out":Je,"data-swipe-direction":Y,"data-expanded":!!(W||$e&&re),style:{"--index":K,"--toasts-before":K,"--z-index":ie.length-K,"--offset":`${Ae?An:Yn.current}px`,"--initial-height":$e?"auto":`${Ri}px`,...k,...E.style},onDragEnd:()=>{Ne(!1),N(null),Sn.current=null},onPointerDown:Te=>{nr||!$n||(er.current=new Date,Gn(Yn.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(Ne(!0),Sn.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,Qe,ut;if(Je||!$n)return;Sn.current=null;const Ct=Number(((Te=ln.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ci=Number(((Qe=ln.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rt=new Date().getTime()-((ut=er.current)==null?void 0:ut.getTime()),Pt=De==="x"?Ct:Ci,st=Math.abs(Pt)/rt;if(Math.abs(Pt)>=LS||st>.11){Gn(Yn.current),E.onDismiss==null||E.onDismiss.call(E,E),ae(De==="x"?Ct>0?"right":"left":Ci>0?"down":"up"),xn(),Ue(!0);return}else{var hn,Dt;(hn=ln.current)==null||hn.style.setProperty("--swipe-amount-x","0px"),(Dt=ln.current)==null||Dt.style.setProperty("--swipe-amount-y","0px")}Fn(!1),Ne(!1),N(null)},onPointerMove:Te=>{var Qe,ut,Ct;if(!Sn.current||!$n||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;const rt=Te.clientY-Sn.current.y,Pt=Te.clientX-Sn.current.x;var st;const hn=(st=i.swipeDirections)!=null?st:zS(C);!De&&(Math.abs(Pt)>1||Math.abs(rt)>1)&&N(Math.abs(Pt)>Math.abs(rt)?"x":"y");let Dt={x:0,y:0};const pi=Xn=>1/(1.5+Math.abs(Xn)/20);if(De==="y"){if(hn.includes("top")||hn.includes("bottom"))if(hn.includes("top")&&rt<0||hn.includes("bottom")&&rt>0)Dt.y=rt;else{const Xn=rt*pi(rt);Dt.y=Math.abs(Xn)<Math.abs(rt)?Xn:rt}}else if(De==="x"&&(hn.includes("left")||hn.includes("right")))if(hn.includes("left")&&Pt<0||hn.includes("right")&&Pt>0)Dt.x=Pt;else{const Xn=Pt*pi(Pt);Dt.x=Math.abs(Xn)<Math.abs(Pt)?Xn:Pt}(Math.abs(Dt.x)>0||Math.abs(Dt.y)>0)&&Fn(!0),(ut=ln.current)==null||ut.style.setProperty("--swipe-amount-x",`${Dt.x}px`),(Ct=ln.current)==null||Ct.style.setProperty("--swipe-amount-y",`${Dt.y}px`)}},It&&!E.jsx&&un!=="loading"?le.createElement("button",{"aria-label":de,"data-disabled":nr,"data-close-button":!0,onClick:nr||!$n?()=>{}:()=>{xn(),E.onDismiss==null||E.onDismiss.call(E,E)},className:qi(te==null?void 0:te.closeButton,E==null||(s=E.classNames)==null?void 0:s.closeButton)},(mi=ye==null?void 0:ye.close)!=null?mi:AS):null,un||E.icon||E.promise?le.createElement("div",{"data-icon":"",className:qi(te==null?void 0:te.icon,E==null||(o=E.classNames)==null?void 0:o.icon)},E.promise||E.type==="loading"&&!E.icon?E.icon||Ma():null,E.type!=="loading"?E.icon||(ye==null?void 0:ye[un])||yS(un):null):null,le.createElement("div",{"data-content":"",className:qi(te==null?void 0:te.content,E==null||(u=E.classNames)==null?void 0:u.content)},le.createElement("div",{"data-title":"",className:qi(te==null?void 0:te.title,E==null||(f=E.classNames)==null?void 0:f.title)},E.jsx?E.jsx:typeof E.title=="function"?E.title():E.title),E.description?le.createElement("div",{"data-description":"",className:qi(x,xa,te==null?void 0:te.description,E==null||(m=E.classNames)==null?void 0:m.description)},typeof E.description=="function"?E.description():E.description):null),le.isValidElement(E.cancel)?E.cancel:E.cancel&&Qc(E.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:E.cancelButtonStyle||R,onClick:Te=>{Qc(E.cancel)&&$n&&(E.cancel.onClick==null||E.cancel.onClick.call(E.cancel,Te),xn())},className:qi(te==null?void 0:te.cancelButton,E==null||(p=E.classNames)==null?void 0:p.cancelButton)},E.cancel.label):null,le.isValidElement(E.action)?E.action:E.action&&Qc(E.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:E.actionButtonStyle||S,onClick:Te=>{Qc(E.action)&&(E.action.onClick==null||E.action.onClick.call(E.action,Te),!Te.defaultPrevented&&xn())},className:qi(te==null?void 0:te.actionButton,E==null||(g=E.classNames)==null?void 0:g.actionButton)},E.action.label):null)};function Nv(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function jS(i,e){const t={};return[i,e].forEach((s,o)=>{const u=o===1,f=u?"--mobile-offset":"--offset",m=u?MS:kS;function p(g){["top","right","bottom","left"].forEach(T=>{t[`${f}-${T}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?t[`${f}-${g}`]=m:t[`${f}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(m)}),t}const HS=le.forwardRef(function(e,t){const{invert:s,position:o="bottom-right",hotkey:u=["altKey","KeyT"],expand:f,closeButton:m,className:p,offset:g,mobileOffset:T,theme:E="light",richColors:A,duration:O,style:M,visibleToasts:$=xS,toastOptions:L,dir:K=Nv(),gap:ie=PS,icons:W,containerAriaLabel:ce="Notifications"}=e,[ue,ve]=le.useState([]),k=le.useMemo(()=>Array.from(new Set([o].concat(ue.filter(Y=>Y.position).map(Y=>Y.position)))),[ue,o]),[R,S]=le.useState([]),[D,x]=le.useState(!1),[U,C]=le.useState(!1),[dt,$e]=le.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=le.useRef(null),ye=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=le.useRef(null),De=le.useRef(!1),N=le.useCallback(Y=>{ve(ae=>{var re;return(re=ae.find(oe=>oe.id===Y.id))!=null&&re.delete||Cn.dismiss(Y.id),ae.filter(({id:oe})=>oe!==Y.id)})},[]);return le.useEffect(()=>Cn.subscribe(Y=>{if(Y.dismiss){const ae=ue.map(re=>re.id===Y.id?{...re,delete:!0}:re);requestAnimationFrame(()=>{ve(ae)});return}setTimeout(()=>{pS.flushSync(()=>{ve(ae=>{const re=ae.findIndex(oe=>oe.id===Y.id);return re!==-1?[...ae.slice(0,re),{...ae[re],...Y},...ae.slice(re+1)]:[Y,...ae]})})})}),[ue]),le.useEffect(()=>{if(E!=="system"){$e(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$e("dark"):$e("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:ae})=>{$e(ae?"dark":"light")})}catch{Y.addListener(({matches:re})=>{try{$e(re?"dark":"light")}catch(oe){console.error(oe)}})}},[E]),le.useEffect(()=>{ue.length<=1&&x(!1)},[ue]),le.useEffect(()=>{const Y=ae=>{var re;if(u.every(me=>ae[me]||ae.code===me)){var Ae;x(!0),(Ae=te.current)==null||Ae.focus()}ae.code==="Escape"&&(document.activeElement===te.current||(re=te.current)!=null&&re.contains(document.activeElement))&&x(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[u]),le.useEffect(()=>{if(te.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,De.current=!1)}},[te.current]),le.createElement("section",{ref:t,"aria-label":`${ce} ${ye}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Y,ae)=>{var re;const[oe,Ae]=Y.split("-");return ue.length?le.createElement("ol",{key:Y,dir:K==="auto"?Nv():K,tabIndex:-1,ref:te,className:p,"data-sonner-toaster":!0,"data-sonner-theme":dt,"data-y-position":oe,"data-lifted":D&&ue.length>1&&!f,"data-x-position":Ae,style:{"--front-toast-height":`${((re=R[0])==null?void 0:re.height)||0}px`,"--width":`${VS}px`,"--gap":`${ie}px`,...M,...jS(g,T)},onBlur:me=>{De.current&&!me.currentTarget.contains(me.relatedTarget)&&(De.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||De.current||(De.current=!0,de.current=me.relatedTarget)},onMouseEnter:()=>x(!0),onMouseMove:()=>x(!0),onMouseLeave:()=>{U||x(!1)},onDragEnd:()=>x(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||C(!0)},onPointerUp:()=>C(!1)},ue.filter(me=>!me.position&&ae===0||me.position===Y).map((me,it)=>{var Ne,Je;return le.createElement(BS,{key:me.id,icons:W,index:it,toast:me,defaultRichColors:A,duration:(Ne=L==null?void 0:L.duration)!=null?Ne:O,className:L==null?void 0:L.className,descriptionClassName:L==null?void 0:L.descriptionClassName,invert:s,visibleToasts:$,closeButton:(Je=L==null?void 0:L.closeButton)!=null?Je:m,interacting:U,position:Y,style:L==null?void 0:L.style,unstyled:L==null?void 0:L.unstyled,classNames:L==null?void 0:L.classNames,cancelButtonStyle:L==null?void 0:L.cancelButtonStyle,actionButtonStyle:L==null?void 0:L.actionButtonStyle,closeButtonAriaLabel:L==null?void 0:L.closeButtonAriaLabel,removeToast:N,toasts:ue.filter(Ue=>Ue.position==me.position),heights:R.filter(Ue=>Ue.position==me.position),setHeights:S,expandByDefault:f,gap:ie,expanded:D,swipeDirections:e.swipeDirections})})):null}))});var Ql={},xv;function qS(){if(xv)return Ql;xv=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.parse=f,Ql.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,O){const M=new u,$=A.length;if($<2)return M;const L=(O==null?void 0:O.decode)||T;let K=0;do{const ie=A.indexOf("=",K);if(ie===-1)break;const W=A.indexOf(";",K),ce=W===-1?$:W;if(ie>ce){K=A.lastIndexOf(";",ie-1)+1;continue}const ue=m(A,K,ie),ve=p(A,ie,ue),k=A.slice(ue,ve);if(M[k]===void 0){let R=m(A,ie+1,ce),S=p(A,ce,R);const D=L(A.slice(R,S));M[k]=D}K=ce+1}while(K<$);return M}function m(A,O,M){do{const $=A.charCodeAt(O);if($!==32&&$!==9)return O}while(++O<M);return M}function p(A,O,M){for(;O>M;){const $=A.charCodeAt(--O);if($!==32&&$!==9)return O+1}return M}function g(A,O,M){const $=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const L=$(O);if(!e.test(L))throw new TypeError(`argument val is invalid: ${O}`);let K=A+"="+L;if(!M)return K;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);K+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);K+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);K+="; Path="+M.path}if(M.expires){if(!E(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);K+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(K+="; HttpOnly"),M.secure&&(K+="; Secure"),M.partitioned&&(K+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return K}function T(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function E(A){return o.call(A)==="[object Date]"}return Ql}qS();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kv="popstate";function FS(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Cm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:uu(o)}return KS(e,t,null,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GS(){return Math.random().toString(36).substring(2,10)}function Mv(i,e){return{usr:i.state,key:i.key,idx:e}}function Cm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Uo(e):e,state:t,key:e&&e.key||s||GS()}}function uu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Uo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function KS(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function E(){m="POP";let L=T(),K=L==null?null:L-g;g=L,p&&p({action:m,location:$.location,delta:K})}function A(L,K){m="PUSH";let ie=Cm($.location,L,K);g=T()+1;let W=Mv(ie,g),ce=$.createHref(ie);try{f.pushState(W,"",ce)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ce)}u&&p&&p({action:m,location:$.location,delta:1})}function O(L,K){m="REPLACE";let ie=Cm($.location,L,K);g=T();let W=Mv(ie,g),ce=$.createHref(ie);f.replaceState(W,"",ce),u&&p&&p({action:m,location:$.location,delta:0})}function M(L){let K=o.location.origin!=="null"?o.location.origin:o.location.href,ie=typeof L=="string"?L:uu(L);return ie=ie.replace(/ $/,"%20"),ft(K,`No window.location.(origin|href) available to create URL for href: ${ie}`),new URL(ie,K)}let $={get action(){return m},get location(){return i(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(kv,E),p=L,()=>{o.removeEventListener(kv,E),p=null}},createHref(L){return e(o,L)},createURL:M,encodeLocation(L){let K=M(L);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:A,replace:O,go(L){return f.go(L)}};return $}function SE(i,e,t="/"){return $S(i,e,t,!1)}function $S(i,e,t,s){let o=typeof e=="string"?Uo(e):e,u=kr(o.pathname||"/",t);if(u==null)return null;let f=RE(i);QS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=sR(u);m=iR(f[p],g,s)}return m}function RE(i,e=[],t=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ft(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Or([s,p.relativePath]),T=t.concat(p);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),RE(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:tR(g,u.index),routesMeta:T})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of IE(u.path))o(u,f,p)}),e}function IE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=IE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function QS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:nR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var YS=/^:[\w-]+$/,XS=3,WS=2,ZS=1,JS=10,eR=-2,Vv=i=>i==="*";function tR(i,e){let t=i.split("/"),s=t.length;return t.some(Vv)&&(s+=eR),e&&(s+=WS),t.filter(o=>!Vv(o)).reduce((o,u)=>o+(YS.test(u)?XS:u===""?ZS:JS),s)}function nR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function iR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",E=gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),A=p.route;if(!E&&g&&t&&!s[s.length-1].route.index&&(E=gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:Or([u,E.pathname]),pathnameBase:uR(Or([u,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(u=Or([u,E.pathnameBase]))}return f}function gh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=rR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:E},A)=>{if(T==="*"){let M=m[A]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const O=m[A];return E&&!O?g[T]=void 0:g[T]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function rR(i,e=!1,t=!0){bi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function sR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function kr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function aR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Uo(i):i;return{pathname:t?t.startsWith("/")?t:oR(t,e):e,search:cR(s),hash:hR(o)}}function oR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function fm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ap(i){let e=lR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function op(i,e,t,s=!1){let o;typeof i=="string"?o=Uo(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),fm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),fm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),fm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let E=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}m=E>=0?e[E]:"/"}let p=aR(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var Or=i=>i.join("/").replace(/\/\/+/g,"/"),uR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),cR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,hR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function fR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var CE=["POST","PUT","PATCH","DELETE"];new Set(CE);var dR=["GET",...CE];new Set(dR);var zo=H.createContext(null);zo.displayName="DataRouter";var Lh=H.createContext(null);Lh.displayName="DataRouterState";var DE=H.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var mR=H.createContext(new Map);mR.displayName="Fetchers";var pR=H.createContext(null);pR.displayName="Await";var Si=H.createContext(null);Si.displayName="Navigation";var vu=H.createContext(null);vu.displayName="Location";var Zi=H.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var lp=H.createContext(null);lp.displayName="RouteError";function gR(i,{relative:e}={}){ft(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(Si),{hash:o,pathname:u,search:f}=Eu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Or([t,u])),s.createHref({pathname:m,search:f,hash:o})}function Bo(){return H.useContext(vu)!=null}function Ur(){return ft(Bo(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(vu).location}var OE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NE(i){H.useContext(Si).static||H.useLayoutEffect(i)}function xE(){let{isDataRoute:i}=H.useContext(Zi);return i?DR():yR()}function yR(){ft(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(zo),{basename:e,navigator:t}=H.useContext(Si),{matches:s}=H.useContext(Zi),{pathname:o}=Ur(),u=JSON.stringify(ap(s)),f=H.useRef(!1);return NE(()=>{f.current=!0}),H.useCallback((p,g={})=>{if(bi(f.current,OE),!f.current)return;if(typeof p=="number"){t.go(p);return}let T=op(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Or([e,T.pathname])),(g.replace?t.replace:t.push)(T,g.state,g)},[e,t,u,o,i])}H.createContext(null);function Eu(i,{relative:e}={}){let{matches:t}=H.useContext(Zi),{pathname:s}=Ur(),o=JSON.stringify(ap(t));return H.useMemo(()=>op(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function _R(i,e){return kE(i,e)}function kE(i,e,t,s){var ie;ft(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(Si),{matches:f}=H.useContext(Zi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",E=m&&m.route;{let W=E&&E.path||"";ME(g,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=Ur(),O;if(e){let W=typeof e=="string"?Uo(e):e;ft(T==="/"||((ie=W.pathname)==null?void 0:ie.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),O=W}else O=A;let M=O.pathname||"/",$=M;if(T!=="/"){let W=T.replace(/^\//,"").split("/");$="/"+M.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=!u&&t&&t.matches&&t.matches.length>0?t.matches:SE(i,{pathname:$});bi(E||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),bi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=wR(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Or([T,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:Or([T,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),f,t,s);return e&&K?H.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},K):K}function vR(){let i=CR(),e=fR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,f)}var ER=H.createElement(vR,null),TR=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(Zi.Provider,{value:this.props.routeContext},H.createElement(lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bR({routeContext:i,match:e,children:t}){let s=H.useContext(zo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Zi.Provider,{value:i},t)}function wR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:E}=t,A=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let E,A=!1,O=null,M=null;t&&(E=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||ER,f&&(m<0&&T===0?(ME("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,M=null):m===T&&(A=!0,M=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,T+1)),L=()=>{let K;return E?K=O:A?K=M:g.route.Component?K=H.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,H.createElement(bR,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:K})};return t&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?H.createElement(TR,{location:t.location,revalidation:t.revalidation,component:O,error:E,children:L(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):L()},null)}function up(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AR(i){let e=H.useContext(zo);return ft(e,up(i)),e}function SR(i){let e=H.useContext(Lh);return ft(e,up(i)),e}function RR(i){let e=H.useContext(Zi);return ft(e,up(i)),e}function cp(i){let e=RR(i),t=e.matches[e.matches.length-1];return ft(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function IR(){return cp("useRouteId")}function CR(){var s;let i=H.useContext(lp),e=SR("useRouteError"),t=cp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function DR(){let{router:i}=AR("useNavigate"),e=cp("useNavigate"),t=H.useRef(!1);return NE(()=>{t.current=!0}),H.useCallback(async(o,u={})=>{bi(t.current,OE),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Pv={};function ME(i,e,t){!e&&!Pv[i]&&(Pv[i]=!0,bi(!1,t))}H.memo(OR);function OR({routes:i,future:e,state:t}){return kE(i,void 0,t,e)}function VE({to:i,replace:e,state:t,relative:s}){ft(Bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Si);bi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(Zi),{pathname:f}=Ur(),m=xE(),p=op(i,ap(u),f,s==="path"),g=JSON.stringify(p);return H.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Ye(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ft(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=Uo(t));let{pathname:p="/",search:g="",hash:T="",state:E=null,key:A="default"}=t,O=H.useMemo(()=>{let M=kr(p,f);return M==null?null:{location:{pathname:M,search:g,hash:T,state:E,key:A},navigationType:s}},[f,p,g,T,E,A,s]);return bi(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:H.createElement(Si.Provider,{value:m},H.createElement(vu.Provider,{children:e,value:O}))}function Lv({children:i,location:e}){return _R(Dm(i),e)}function Dm(i,e=[]){let t=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Dm(s.props.children,u));return}ft(s.type===Ye,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Dm(s.props.children,u)),t.push(f)}),t}var rh="get",sh="application/x-www-form-urlencoded";function Uh(i){return i!=null&&typeof i.tagName=="string"}function xR(i){return Uh(i)&&i.tagName.toLowerCase()==="button"}function kR(i){return Uh(i)&&i.tagName.toLowerCase()==="form"}function MR(i){return Uh(i)&&i.tagName.toLowerCase()==="input"}function VR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function PR(i,e){return i.button===0&&(!e||e==="_self")&&!VR(i)}var Yc=null;function LR(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var UR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(i){return i!=null&&!UR.has(i)?(bi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):i}function zR(i,e){let t,s,o,u,f;if(kR(i)){let m=i.getAttribute("action");s=m?kr(m,e):null,t=i.getAttribute("method")||rh,o=dm(i.getAttribute("enctype"))||sh,u=new FormData(i)}else if(xR(i)||MR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?kr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||rh,o=dm(i.getAttribute("formenctype"))||dm(m.getAttribute("enctype"))||sh,u=new FormData(m,i),!LR()){let{name:g,type:T,value:E}=i;if(T==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,E)}}else{if(Uh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rh,s=null,o=sh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}function hp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function BR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function HR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await BR(u,t);return f.links?f.links():[]}return[]}));return KR(s.flat(1).filter(jR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Uv(i,e,t,s,o,u){let f=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var T;return t[g].pathname!==p.pathname||((T=t[g].route.path)==null?void 0:T.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var E;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function qR(i,e,{includeHydrateFallback:t}={}){return FR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function FR(i){return[...new Set(i)]}function GR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function KR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(GR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function $R(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&kr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function PE(){let i=H.useContext(zo);return hp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function QR(){let i=H.useContext(Lh);return hp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var fp=H.createContext(void 0);fp.displayName="FrameworkContext";function LE(){let i=H.useContext(fp);return hp(i,"You must render this element inside a <HydratedRouter> element"),i}function YR(i,e){let t=H.useContext(fp),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:E}=e,A=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=K=>{K.forEach(ie=>{f(ie.isIntersecting)})},L=new IntersectionObserver($,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[i]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},M=()=>{o(!1),f(!1)};return t?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Yl(m,O),onBlur:Yl(p,M),onMouseEnter:Yl(g,O),onMouseLeave:Yl(T,M),onTouchStart:Yl(E,O)}]:[!1,A,{}]}function Yl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function XR({page:i,...e}){let{router:t}=PE(),s=H.useMemo(()=>SE(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?H.createElement(ZR,{page:i,matches:s,...e}):null}function WR(i){let{manifest:e,routeModules:t}=LE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return HR(i,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,t]),s}function ZR({page:i,matches:e,...t}){let s=Ur(),{manifest:o,routeModules:u}=LE(),{basename:f}=PE(),{loaderData:m,matches:p}=QR(),g=H.useMemo(()=>Uv(i,e,p,o,s,"data"),[i,e,p,o,s]),T=H.useMemo(()=>Uv(i,e,p,o,s,"assets"),[i,e,p,o,s]),E=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let M=new Set,$=!1;if(e.forEach(K=>{var W;let ie=o.routes[K.route.id];!ie||!ie.hasLoader||(!g.some(ce=>ce.route.id===K.route.id)&&K.route.id in m&&((W=u[K.route.id])!=null&&W.shouldRevalidate)||ie.hasClientLoader?$=!0:M.add(K.route.id))}),M.size===0)return[];let L=$R(i,f);return $&&M.size>0&&L.searchParams.set("_routes",e.filter(K=>M.has(K.route.id)).map(K=>K.route.id).join(",")),[L.pathname+L.search]},[f,m,s,o,g,e,i,u]),A=H.useMemo(()=>qR(T,o),[T,o]),O=WR(T);return H.createElement(H.Fragment,null,E.map(M=>H.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),A.map(M=>H.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),O.map(({key:M,link:$})=>H.createElement("link",{key:M,...$})))}function JR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var UE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UE&&(window.__reactRouterVersion="7.4.0")}catch{}function e1({basename:i,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=FS({window:t,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(NR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ro=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:E,...A},O){let{basename:M}=H.useContext(Si),$=typeof g=="string"&&zE.test(g),L,K=!1;if(typeof g=="string"&&$&&(L=g,UE))try{let S=new URL(window.location.href),D=g.startsWith("//")?new URL(S.protocol+g):new URL(g),x=kr(D.pathname,M);D.origin===S.origin&&x!=null?g=x+D.search+D.hash:K=!0}catch{bi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=gR(g,{relative:o}),[W,ce,ue]=YR(s,A),ve=r1(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:E});function k(S){e&&e(S),S.defaultPrevented||ve(S)}let R=H.createElement("a",{...A,...ue,href:L||ie,onClick:K||u?e:k,ref:JR(O,ce),target:p,"data-discover":!$&&t==="render"?"true":void 0});return W&&!$?H.createElement(H.Fragment,null,R,H.createElement(XR,{page:ie})):R});Ro.displayName="Link";var t1=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let E=Eu(f,{relative:g.relative}),A=Ur(),O=H.useContext(Lh),{navigator:M,basename:$}=H.useContext(Si),L=O!=null&&u1(E)&&m===!0,K=M.encodeLocation?M.encodeLocation(E).pathname:E.pathname,ie=A.pathname,W=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),W=W?W.toLowerCase():null,K=K.toLowerCase()),W&&$&&(W=kr(W,$)||W);const ce=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ue=ie===K||!o&&ie.startsWith(K)&&ie.charAt(ce)==="/",ve=W!=null&&(W===K||!o&&W.startsWith(K)&&W.charAt(K.length)==="/"),k={isActive:ue,isPending:ve,isTransitioning:L},R=ue?e:void 0,S;typeof s=="function"?S=s(k):S=[s,ue?"active":null,ve?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(k):u;return H.createElement(Ro,{...g,"aria-current":R,className:S,ref:T,style:D,to:f,viewTransition:m},typeof p=="function"?p(k):p)});t1.displayName="NavLink";var n1=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=rh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:E,...A},O)=>{let M=o1(),$=l1(m,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&zE.test(m),ie=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let ce=W.nativeEvent.submitter,ue=(ce==null?void 0:ce.getAttribute("formmethod"))||f;M(ce||W.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:E})};return H.createElement("form",{ref:O,method:L,action:$,onSubmit:s?p:ie,...A,"data-discover":!K&&i==="render"?"true":void 0})});n1.displayName="Form";function i1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BE(i){let e=H.useContext(zo);return ft(e,i1(i)),e}function r1(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=xE(),p=Ur(),g=Eu(i,{relative:u});return H.useCallback(T=>{if(PR(T,e)){T.preventDefault();let E=t!==void 0?t:uu(p)===uu(g);m(i,{replace:E,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,t,s,e,i,o,u,f])}var s1=0,a1=()=>`__${String(++s1)}__`;function o1(){let{router:i}=BE("useSubmit"),{basename:e}=H.useContext(Si),t=IR();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=zR(s,e);if(o.navigate===!1){let T=o.fetcherKey||a1();await i.fetch(T,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function l1(i,{relative:e}={}){let{basename:t}=H.useContext(Si),s=H.useContext(Zi);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Eu(i||".",{relative:e})},f=Ur();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Or([t,u.pathname])),uu(u)}function u1(i,e={}){let t=H.useContext(DE);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=BE("useViewTransitionState"),o=Eu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=kr(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=kr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return gh(o.pathname,f)!=null||gh(o.pathname,u)!=null}new TextEncoder;/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jE=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=H.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>H.createElement("svg",{ref:p,...h1,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:jE("lucide",o),...m},[...f.map(([g,T])=>H.createElement(g,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=(i,e)=>{const t=H.forwardRef(({className:s,...o},u)=>H.createElement(f1,{ref:u,iconNode:e,className:jE(`lucide-${c1(i)}`,s),...o}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M22 18H6a2 2 0 0 1-2-2V7a2 2 0 0 0-2-2",key:"4irg2o"}],["path",{d:"M17 14V4a2 2 0 0 0-2-2h-1a2 2 0 0 0-2 2v10",key:"14fcyx"}],["rect",{width:"13",height:"8",x:"8",y:"6",rx:"1",key:"o6oiis"}],["circle",{cx:"18",cy:"20",r:"2",key:"t9985n"}],["circle",{cx:"9",cy:"20",r:"2",key:"e5v82j"}]],m1=Vt("BaggageClaim",d1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],g1=Vt("BookMarked",p1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M4 9V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"vvzvr1"}],["path",{d:"M8 8v1",key:"xcqmfk"}],["path",{d:"M12 8v1",key:"1rj8u4"}],["path",{d:"M16 8v1",key:"1q12zr"}],["rect",{width:"20",height:"12",x:"2",y:"9",rx:"2",key:"igpb89"}],["circle",{cx:"8",cy:"15",r:"2",key:"fa4a8s"}],["circle",{cx:"16",cy:"15",r:"2",key:"14c3ya"}]],_1=Vt("BoomBox",y1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],E1=Vt("ChartColumn",v1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],HE=Vt("ChevronDown",T1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qE=Vt("ChevronUp",b1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],A1=Vt("ClipboardList",w1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],R1=Vt("CreditCard",S1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]],C1=Vt("Dot",I1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],O1=Vt("IdCard",D1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],x1=Vt("Landmark",N1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],M1=Vt("LogOut",k1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],P1=Vt("Mail",V1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],U1=Vt("Menu",L1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"j91f56"}],["path",{d:"M20 12v2",key:"w8o0tu"}],["path",{d:"M20 18v2a2 2 0 0 1-2 2h-1",key:"1c9ggx"}],["path",{d:"M13 22h-2",key:"191ugt"}],["path",{d:"M7 22H6a2 2 0 0 1-2-2v-2",key:"1rt9px"}],["path",{d:"M4 14v-2",key:"1v0sqh"}],["path",{d:"M4 8V6a2 2 0 0 1 2-2h2",key:"1mwabg"}],["path",{d:"M8 10h6",key:"3oa6kw"}],["path",{d:"M8 14h8",key:"1fgep2"}],["path",{d:"M8 18h5",key:"17enja"}]],B1=Vt("NotepadTextDashed",z1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],H1=Vt("Shirt",j1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],F1=Vt("User",q1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],K1=Vt("Users",G1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],Q1=Vt("Warehouse",$1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X1=Vt("X",Y1),W1="/assets/logo-DbCcPG7U.png",Z1=[{path:"/",label:"Dashboard",Icon:E1},{path:"/jugadores",label:"Jugadores",Icon:K1},{path:"/porristas",label:"Porristas",Icon:_1},{path:"/proveedores",label:"Proveedores",Icon:m1},{path:"/bancos",label:"Bancos",Icon:x1},{path:"/utileria",label:"Utilería",Icon:H1},{label:"Gestión deportiva",Icon:B1,children:[{path:"/temporadas",label:"Temporadas"},{path:"/categorias",label:"Categorías"},{path:"/costos-jugador",label:"Costos jugador"},{path:"/costos-porrista",label:"Costos porrista"}]},{label:"Gestión de pagos",Icon:R1,children:[{path:"/pagos-jugadores",label:"Jugadores"},{path:"/pagos-porristas",label:"Porristas"},{path:"/calendario-pagos",label:"Calendario"},{path:"/caja",label:"Caja"},{path:"/historial",label:"Historial"}]},{label:"Inventario",Icon:Q1,children:[{path:"/almacen",label:"Almacén"},{path:"/articulos",label:"Artículos"},{path:"/gastos",label:"Gastos"}]},{label:"Compras",Icon:A1,children:[{path:"/compras",label:"Compras"},{path:"/orden-compras",label:"Orden de compras"},{path:"/cuentas-pagar",label:"Cuentas a pagar"}]},{label:"Correos",Icon:P1,children:[{path:"/correos",label:"Correos enviados"},{path:"/enviar-correo",label:"Enviar correo"}]},{label:"Configuración",Icon:O1,children:[{path:"/usuarios",label:"Usuarios"},{path:"/modulos",label:"Módulos"},{path:"/roles",label:"Accesos"}]},{path:"/reportes",label:"Reportes",Icon:g1}],zv=i=>{let e;const t=new Set,s=(g,T)=>{const E=typeof g=="function"?g(e):g;if(!Object.is(E,e)){const A=e;e=T??(typeof E!="object"||E===null)?E:Object.assign({},e,E),t.forEach(O=>O(e,A))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(t.add(g),()=>t.delete(g))},p=e=i(s,o,m);return m},J1=i=>i?zv(i):zv,eI=i=>i;function tI(i,e=eI){const t=le.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return le.useDebugValue(t),t}const Bv=i=>{const e=J1(i),t=s=>tI(e,s);return Object.assign(t,e),t},nI=i=>i?Bv(i):Bv,iI=()=>{};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},rI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],f=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],f=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,E=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(A=64)),s.push(t[T],t[E],t[A],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(FE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):rI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const E=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new sI;const A=u<<2|m>>4;if(s.push(A),g!==64){const O=m<<4&240|g>>2;if(s.push(O),E!==64){const M=g<<6&192|E;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class sI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aI=function(i){const e=FE(i);return GE.encodeByteArray(e,!0)},yh=function(i){return aI(i).replace(/\./g,"")},KE=function(i){try{return GE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=()=>oI().__FIREBASE_DEFAULTS__,uI=()=>{if(typeof process>"u"||typeof jv>"u")return;const i=jv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},cI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&KE(i[1]);return e&&JSON.parse(e)},zh=()=>{try{return iI()||lI()||uI()||cI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},$E=i=>{var e,t;return(t=(e=zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},QE=i=>{const e=$E(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},YE=()=>{var i;return(i=zh())===null||i===void 0?void 0:i.config},XE=i=>{var e;return(e=zh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[yh(JSON.stringify(t)),yh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function dI(){var i;const e=(i=zh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function gI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yI(){const i=yn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _I(){return!dI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vI(){try{return typeof indexedDB=="object"}catch{return!1}}function EI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="FirebaseError";class Ji extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=TI,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?bI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ji(o,m,s)}}function bI(i,e){return i.replace(wI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wI=/\{\$([^}]+)}/g;function AI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ea(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Hv(u)&&Hv(f)){if(!Ea(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Hv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function SI(i,e){const t=new RI(i,e);return t.subscribe.bind(t)}class RI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");II(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=mm),o.error===void 0&&(o.error=mm),o.complete===void 0&&(o.complete=mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function II(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(i){return i&&i._delegate?i._delegate:i}class Cs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new hI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OI(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DI(i){return i===ga?void 0:i}function OI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const xI={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},kI=Pe.INFO,MI={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},VI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=MI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=kI,this._logHandler=VI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const PI=(i,e)=>e.some(t=>i instanceof t);let qv,Fv;function LI(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UI(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZE=new WeakMap,Om=new WeakMap,JE=new WeakMap,pm=new WeakMap,mp=new WeakMap;function zI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{t(As(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&ZE.set(t,i)}).catch(()=>{}),mp.set(e,i),e}function BI(i){if(Om.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Om.set(i,e)}let Nm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Om.get(i);if(e==="objectStoreNames")return i.objectStoreNames||JE.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return As(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function jI(i){Nm=i(Nm)}function HI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(gm(this),e,...t);return JE.set(s,e.sort?e.sort():[e]),As(s)}:UI().includes(i)?function(...e){return i.apply(gm(this),e),As(ZE.get(this))}:function(...e){return As(i.apply(gm(this),e))}}function qI(i){return typeof i=="function"?HI(i):(i instanceof IDBTransaction&&BI(i),PI(i,LI())?new Proxy(i,Nm):i)}function As(i){if(i instanceof IDBRequest)return zI(i);if(pm.has(i))return pm.get(i);const e=qI(i);return e!==i&&(pm.set(i,e),mp.set(e,i)),e}const gm=i=>mp.get(i);function FI(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=As(f);return s&&f.addEventListener("upgradeneeded",p=>{s(As(f.result),p.oldVersion,p.newVersion,As(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const GI=["get","getKey","getAll","getAllKeys","count"],KI=["put","add","delete","clear"],ym=new Map;function Gv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=KI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GI.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return ym.set(e,u),u}jI(i=>({...i,get:(e,t,s)=>Gv(e,t)||i.get(e,t,s),has:(e,t)=>!!Gv(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function QI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",Kv="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new dp("@firebase/app"),YI="@firebase/app-compat",XI="@firebase/analytics-compat",WI="@firebase/analytics",ZI="@firebase/app-check-compat",JI="@firebase/app-check",eC="@firebase/auth",tC="@firebase/auth-compat",nC="@firebase/database",iC="@firebase/data-connect",rC="@firebase/database-compat",sC="@firebase/functions",aC="@firebase/functions-compat",oC="@firebase/installations",lC="@firebase/installations-compat",uC="@firebase/messaging",cC="@firebase/messaging-compat",hC="@firebase/performance",fC="@firebase/performance-compat",dC="@firebase/remote-config",mC="@firebase/remote-config-compat",pC="@firebase/storage",gC="@firebase/storage-compat",yC="@firebase/firestore",_C="@firebase/vertexai",vC="@firebase/firestore-compat",EC="firebase",TC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",bC={[xm]:"fire-core",[YI]:"fire-core-compat",[WI]:"fire-analytics",[XI]:"fire-analytics-compat",[JI]:"fire-app-check",[ZI]:"fire-app-check-compat",[eC]:"fire-auth",[tC]:"fire-auth-compat",[nC]:"fire-rtdb",[iC]:"fire-data-connect",[rC]:"fire-rtdb-compat",[sC]:"fire-fn",[aC]:"fire-fn-compat",[oC]:"fire-iid",[lC]:"fire-iid-compat",[uC]:"fire-fcm",[cC]:"fire-fcm-compat",[hC]:"fire-perf",[fC]:"fire-perf-compat",[dC]:"fire-rc",[mC]:"fire-rc-compat",[pC]:"fire-gcs",[gC]:"fire-gcs-compat",[yC]:"fire-fst",[vC]:"fire-fst-compat",[_C]:"fire-vertex","fire-js":"fire-js",[EC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,wC=new Map,Mm=new Map;function $v(i,e){try{i.container.addComponent(e)}catch(t){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ta(i){const e=i.name;if(Mm.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,i);for(const t of _h.values())$v(t,i);for(const t of wC.values())$v(t,i);return!0}function Bh(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function jn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new Tu("app","Firebase",AC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=TC;function eT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:km,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(t||(t=YE()),!t)throw Ss.create("no-options");const u=_h.get(o);if(u){if(Ea(t,u.options)&&Ea(s,u.config))return u;throw Ss.create("duplicate-app",{appName:o})}const f=new NI(o);for(const p of Mm.values())f.addComponent(p);const m=new SC(t,s,f);return _h.set(o,m),m}function pp(i=km){const e=_h.get(i);if(!e&&i===km&&YE())return eT();if(!e)throw Ss.create("no-app",{appName:i});return e}function Ki(i,e,t){var s;let o=(s=bC[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(m.join(" "));return}Ta(new Cs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebase-heartbeat-database",IC=1,cu="firebase-heartbeat-store";let _m=null;function tT(){return _m||(_m=FI(RC,IC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(cu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Ss.create("idb-open",{originalErrorMessage:i.message})})),_m}async function CC(i){try{const t=(await tT()).transaction(cu),s=await t.objectStore(cu).get(nT(i));return await t.done,s}catch(e){if(e instanceof Ji)Mr.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(t.message)}}}async function Qv(i,e){try{const s=(await tT()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,nT(i)),await s.done}catch(t){if(t instanceof Ji)Mr.warn(t.message);else{const s=Ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mr.warn(s.message)}}}function nT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=1024,OC=30;class NC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Yv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>OC){const f=MC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Yv(),{heartbeatsToSend:s,unsentEntries:o}=xC(this._heartbeatsCache.heartbeats),u=yh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Mr.warn(t),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function xC(i,e=DC){const t=[];let s=i.slice();for(const o of i){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Xv(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Xv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vI()?EI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Xv(i){return yh(JSON.stringify({version:2,heartbeats:i})).length}function MC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(i){Ta(new Cs("platform-logger",e=>new $I(e),"PRIVATE")),Ta(new Cs("heartbeat",e=>new NC(e),"PRIVATE")),Ki(xm,Kv,i),Ki(xm,Kv,"esm2017"),Ki("fire-js","")}VC("");function gp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PC=iT,rT=new Tu("auth","Firebase",iT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new dp("@firebase/auth");function LC(i,...e){vh.logLevel<=Pe.WARN&&vh.warn(`Auth (${Ia}): ${i}`,...e)}function ah(i,...e){vh.logLevel<=Pe.ERROR&&vh.error(`Auth (${Ia}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(i,...e){throw yp(i,...e)}function $i(i,...e){return yp(i,...e)}function sT(i,e,t){const s=Object.assign(Object.assign({},PC()),{[e]:t});return new Tu("auth","Firebase",s).create(e,{appName:i.name})}function Nr(i){return sT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return rT.create(i,...e)}function we(i,e,...t){if(!i)throw yp(e,...t)}function Ir(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ah(e),new Error(e)}function Vr(i,e){i||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function UC(){return Wv()==="http:"||Wv()==="https:"}function Wv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UC()||pI()||"connection"in navigator)?navigator.onLine:!0}function BC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vr(t>e,"Short delay should be less than long delay!"),this.isMobile=fI()||gI()}get(){return zC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(i,e){Vr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new wu(3e4,6e4);function Ps(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ls(i,e,t,s,o={}){return oT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=bu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return mI()||(g.referrerPolicy="no-referrer"),aT.fetch()(lT(i,i.config.apiHost,t,m),g)})}async function oT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},jC),e);try{const o=new FC(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(i,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw sT(i,T,g);wi(i,T)}}catch(o){if(o instanceof Ji)throw o;wi(i,"network-request-failed",{message:String(o)})}}async function Au(i,e,t,s,o={}){const u=await Ls(i,e,t,s,o);return"mfaPendingCredential"in u&&wi(i,"multi-factor-auth-required",{_serverResponse:u}),u}function lT(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?_p(i.config,o):`${i.config.apiScheme}://${o}`}function qC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s($i(this.auth,"network-request-failed")),HC.get())})}}function Xc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=$i(i,e,s);return o.customData._tokenResponse=t,o}function Zv(i){return i!==void 0&&i.enterprise!==void 0}class GC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KC(i,e){return Ls(i,"GET","/v2/recaptchaConfig",Ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(i,e){return Ls(i,"POST","/v1/accounts:delete",e)}async function uT(i,e){return Ls(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QC(i,e=!1){const t=yt(i),s=await t.getIdToken(e),o=vp(s);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:iu(vm(o.auth_time)),issuedAtTime:iu(vm(o.iat)),expirationTime:iu(vm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function vm(i){return Number(i)*1e3}function vp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=KE(t);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Jv(i){const e=vp(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ji&&YC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function YC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await hu(i,uT(t,{idToken:s}));we(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?cT(u.providerUserInfo):[],m=ZC(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Pm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,E)}async function WC(i){const e=yt(i);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function cT(i){return i.map(e=>{var{providerId:t}=e,s=gp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(i,e){const t=await oT(i,{},async()=>{const s=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=lT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",aT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function e2(i,e){return Ls(i,"POST","/v2/accounts:revokeToken",Ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Jv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await JC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new Io;return s&&(we(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Cr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Pm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await hu(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QC(this,e)}reload(){return WC(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await hu(this,$C(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,g,T;const E=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,O=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=t.photoURL)!==null&&f!==void 0?f:void 0,$=(m=t.tenantId)!==null&&m!==void 0?m:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ie=(T=t.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:W,emailVerified:ce,isAnonymous:ue,providerData:ve,stsTokenManager:k}=t;we(W&&k,e,"internal-error");const R=Io.fromJSON(this.name,k);we(typeof W=="string",e,"internal-error"),ys(E,e.name),ys(A,e.name),we(typeof ce=="boolean",e,"internal-error"),we(typeof ue=="boolean",e,"internal-error"),ys(O,e.name),ys(M,e.name),ys($,e.name),ys(L,e.name),ys(K,e.name),ys(ie,e.name);const S=new Cr({uid:W,auth:e,email:A,emailVerified:ce,displayName:E,isAnonymous:ue,photoURL:M,phoneNumber:O,tenantId:$,stsTokenManager:R,createdAt:K,lastLoginAt:ie});return ve&&Array.isArray(ve)&&(S.providerData=ve.map(D=>Object.assign({},D))),L&&(S._redirectEventId=L),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new Io;o.updateFromServerResponse(t);const u=new Cr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Io;m.updateFromIdToken(s);const p=new Cr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new Map;function Dr(i){Vr(i instanceof Function,"Expected a class definition");let e=e0.get(i);return e?(Vr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,e0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hT.type="NONE";const t0=hT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(i,e,t){return`firebase:${i}:${e}:${t}`}class Co{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Co(Dr(t0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Dr(t0);const f=oh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const T=await g._get(f);if(T){const E=Cr._fromJSON(e,T);g!==u&&(m=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Co(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yT(e))return"Blackberry";if(_T(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||mT(e))&&!e.includes("edge/"))return"Chrome";if(gT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function fT(i=yn()){return/firefox\//i.test(i)}function dT(i=yn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mT(i=yn()){return/crios\//i.test(i)}function pT(i=yn()){return/iemobile/i.test(i)}function gT(i=yn()){return/android/i.test(i)}function yT(i=yn()){return/blackberry/i.test(i)}function _T(i=yn()){return/webos/i.test(i)}function Ep(i=yn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function t2(i=yn()){var e;return Ep(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n2(){return yI()&&document.documentMode===10}function vT(i=yn()){return Ep(i)||gT(i)||_T(i)||yT(i)||/windows phone/i.test(i)||pT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(i,e=[]){let t;switch(i){case"Browser":t=n0(yn());break;case"Worker":t=`${n0(yn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ia}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(i,e={}){return Ls(i,"GET","/v2/passwordPolicy",Ps(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=6;class a2{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:s2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i0(this),this.idTokenSubscription=new i0(this),this.beforeStateQueue=new i2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Dr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uT(this,{idToken:e}),s=await Cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Nr(this));const t=e?yt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r2(this),t=new a2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await e2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Dr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&LC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ca(i){return yt(i)}class i0{constructor(e){this.auth=e,this.observer=null,this.addObserver=SI(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l2(i){jh=i}function TT(i){return jh.loadJS(i)}function u2(){return jh.recaptchaEnterpriseScript}function c2(){return jh.gapiScript}function h2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class f2{constructor(){this.enterprise=new d2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class d2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const m2="recaptcha-enterprise",bT="NO_RECAPTCHA";class p2{constructor(e){this.type=m2,this.auth=Ca(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{KC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new GC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Zv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(bT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&Zv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=u2();p.length!==0&&(p+=m),TT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function r0(i,e,t,s=!1,o=!1){const u=new p2(i);let f;if(o)f=bT;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Lm(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await r0(i,e,t,t==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await r0(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(i,e){const t=Bh(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Ea(u,e??{}))return o;wi(o,"already-initialized")}return t.initialize({options:e})}function y2(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Dr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function _2(i,e,t){const s=Ca(i);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=wT(e),{host:f,port:m}=v2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(Ea(g,s.config.emulator)&&Ea(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,E2()}function wT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function v2(i){const e=wT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:s0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:s0(f)}}}function s0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function E2(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function T2(i,e){return Ls(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(i,e){return Au(i,"POST","/v1/accounts:signInWithPassword",Ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(i,e){return Au(i,"POST","/v1/accounts:signInWithEmailLink",Ps(i,e))}async function A2(i,e){return Au(i,"POST","/v1/accounts:signInWithEmailLink",Ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Tp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new fu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new fu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,t,"signInWithPassword",b2);case"emailLink":return w2(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,s,"signUpPassword",T2);case"emailLink":return A2(e,{idToken:t,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(i,e){return Au(i,"POST","/v1/accounts:signInWithIdp",Ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="http://localhost";class ba extends Tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=gp(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ba(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Do(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:S2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I2(i){const e=Wl(Zl(i)).link,t=e?Wl(Zl(e)).deep_link_id:null,s=Wl(Zl(i)).deep_link_id;return(s?Wl(Zl(s)).link:null)||s||t||e||i}class bp{constructor(e){var t,s,o,u,f,m;const p=Wl(Zl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,E=R2((o=p.mode)!==null&&o!==void 0?o:null);we(g&&T&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=I2(e);try{return new bp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,t){return fu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=bp.parseLink(t);return we(s,"argument-error"),fu._fromEmailAndCode(e,s.code,s.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends AT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Su{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return vs.credential(t,s)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Su{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Su{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ts.credential(t,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(i,e){return Au(i,"POST","/v1/accounts:signUp",Ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Cr._fromIdTokenResponse(e,s,o),f=a0(s);return new wa({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=a0(s);return new wa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function a0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends Ji{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Th(e,t,s,o)}}function ST(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(i,u,e,s):u})}async function D2(i,e,t=!1){const s=await hu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return wa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(i,e,t=!1){const{auth:s}=i;if(jn(s.app))return Promise.reject(Nr(s));const o="reauthenticate";try{const u=await hu(i,ST(s,o,e,i),t);we(u.idToken,s,"internal-error");const f=vp(u.idToken);we(f,s,"internal-error");const{sub:m}=f;return we(i.uid===m,s,"user-mismatch"),wa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&wi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(i,e,t=!1){if(jn(i.app))return Promise.reject(Nr(i));const s="signIn",o=await ST(i,s,e),u=await wa._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function N2(i,e){return RT(Ca(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(i){const e=Ca(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sV(i,e,t){if(jn(i.app))return Promise.reject(Nr(i));const s=Ca(i),f=await Lm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&IT(i),p}),m=await wa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function x2(i,e,t){return jn(i.app)?Promise.reject(Nr(i)):N2(yt(i),jo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&IT(i),s})}function k2(i,e,t,s){return yt(i).onIdTokenChanged(e,t,s)}function M2(i,e,t){return yt(i).beforeAuthStateChanged(e,t)}function V2(i,e,t,s){return yt(i).onAuthStateChanged(e,t,s)}function P2(i){return yt(i).signOut()}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=1e3,U2=10;class DT extends CT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);n2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,U2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}DT.type="LOCAL";const z2=DT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT extends CT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}OT.type="SESSION";const NT=OT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(t.origin,u)),p=await B2(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=wp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function H2(i){Qi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function q2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function G2(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firebaseLocalStorageDb",K2=1,wh="firebaseLocalStorage",MT="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qh(i,e){return i.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function $2(){const i=indexedDB.deleteDatabase(kT);return new Ru(i).toPromise()}function Um(){const i=indexedDB.open(kT,K2);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(wh,{keyPath:MT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(wh)?e(s):(s.close(),await $2(),e(await Um()))})})}async function o0(i,e,t){const s=qh(i,!0).put({[MT]:e,value:t});return new Ru(s).toPromise()}async function Q2(i,e){const t=qh(i,!1).get(e),s=await new Ru(t).toPromise();return s===void 0?null:s.value}function l0(i,e){const t=qh(i,!0).delete(e);return new Ru(t).toPromise()}const Y2=800,X2=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>X2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(G2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await q2(),!this.activeServiceWorker)return;this.sender=new j2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await o0(e,bh,"1"),await l0(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>o0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>Q2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>l0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new Ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const W2=VT;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(i,e){return e?Dr(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function J2(i){return RT(i.auth,new Ap(i),i.bypassAuthState)}function eD(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),O2(t,new Ap(i),i.bypassAuthState)}async function tD(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),D2(t,new Ap(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J2;case"linkViaPopup":case"linkViaRedirect":return tD;case"reauthViaPopup":case"reauthViaRedirect":return eD;default:wi(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new wu(2e3,1e4);class So extends PT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nD.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="pendingRedirect",lh=new Map;class rD extends PT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await sD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sD(i,e){const t=lD(e),s=oD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function aD(i,e){lh.set(i._key(),e)}function oD(i){return Dr(i._redirectPersistence)}function lD(i){return oh(iD,i.config.apiKey,i.name)}async function uD(i,e,t=!1){if(jn(i.app))return Promise.reject(Nr(i));const s=Ca(i),o=Z2(s,e),f=await new rD(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=10*60*1e3;class hD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!LT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError($i(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cD&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(e))}saveEventToCache(e){this.cachedEventUids.add(u0(e)),this.lastProcessedEventTime=Date.now()}}function u0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function LT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(i,e={}){return Ls(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pD=/^https?/;async function gD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await dD(i);for(const t of e)try{if(yD(t))return}catch{}wi(i,"unauthorized-domain")}function yD(i){const e=Vm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!pD.test(t))return!1;if(mD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new wu(3e4,6e4);function c0(){const i=Qi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function vD(i){return new Promise((e,t)=>{var s,o,u;function f(){c0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c0(),t($i(i,"network-request-failed"))},timeout:_D.get()})}if(!((o=(s=Qi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Qi().gapi)===null||u===void 0)&&u.load)f();else{const m=h2("iframefcb");return Qi()[m]=()=>{gapi.load?f():t($i(i,"network-request-failed"))},TT(`${c2()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw uh=null,e})}let uh=null;function ED(i){return uh=uh||vD(i),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new wu(5e3,15e3),bD="__/auth/iframe",wD="emulator/auth/iframe",AD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RD(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?_p(e,wD):`https://${i.config.authDomain}/${bD}`,s={apiKey:e.apiKey,appName:i.name,v:Ia},o=SD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${bu(s).slice(1)}`}async function ID(i){const e=await ED(i),t=Qi().gapi;return we(t,i,"internal-error"),e.open({where:document.body,url:RD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=$i(i,"network-request-failed"),m=Qi().setTimeout(()=>{u(f)},TD.get());function p(){Qi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DD=500,OD=600,ND="_blank",xD="http://localhost";class h0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kD(i,e,t,s=DD,o=OD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},CD),{width:s.toString(),height:o.toString(),top:u,left:f}),g=yn().toLowerCase();t&&(m=mT(g)?ND:t),fT(g)&&(e=e||xD,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[O,M])=>`${A}${O}=${M},`,"");if(t2(g)&&m!=="_self")return MD(e||"",m),new h0(null);const E=window.open(e||"",m,T);we(E,i,"popup-blocked");try{E.focus()}catch{}return new h0(E)}function MD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="__/auth/handler",PD="emulator/auth/handler",LD=encodeURIComponent("fac");async function f0(i,e,t,s,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ia,eventId:o};if(e instanceof AT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",AI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,E]of Object.entries({}))f[T]=E}if(e instanceof Su){const T=e.getScopes().filter(E=>E!=="");T.length>0&&(f.scopes=T.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${LD}=${encodeURIComponent(p)}`:"";return`${UD(i)}?${bu(m).slice(1)}${g}`}function UD({config:i}){return i.emulator?_p(i,PD):`https://${i.authDomain}/${VD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="webStorageSupport";class zD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=uD,this._overrideRedirectResult=aD}async _openPopup(e,t,s,o){var u;Vr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await f0(e,t,s,Vm(),o);return kD(e,f,wp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await f0(e,t,s,Vm(),o);return H2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Vr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await ID(e),s=new hD(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Em,{type:Em},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Em];f!==void 0&&t(!!f),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vT()||dT()||Ep()}}const BD=zD;var d0="@firebase/auth",m0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qD(i){Ta(new Cs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(i)},g=new o2(s,o,u,p);return y2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ta(new Cs("auth-internal",e=>{const t=Ca(e.getProvider("auth").getImmediate());return(s=>new jD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(d0,m0,HD(i)),Ki(d0,m0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=5*60,GD=XE("authIdTokenMaxAge")||FD;let p0=null;const KD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>GD)return;const o=t==null?void 0:t.token;p0!==o&&(p0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $D(i=pp()){const e=Bh(i,"auth");if(e.isInitialized())return e.getImmediate();const t=g2(i,{popupRedirectResolver:BD,persistence:[W2,z2,NT]}),s=XE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=KD(u.toString());M2(t,f,()=>f(t.currentUser)),k2(t,m=>f(m))}}const o=$E("auth");return o&&_2(t,`http://${o}`),t}function QD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}l2({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=$i("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",QD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qD("Browser");var YD="firebase",XD="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(YD,XD,"app");var g0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,UT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function S(){}S.prototype=R.prototype,k.D=R.prototype,k.prototype=new S,k.prototype.constructor=k,k.C=function(D,x,U){for(var C=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)C[dt-2]=arguments[dt];return R.prototype[x].apply(D,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,R,S){S||(S=0);var D=Array(16);if(typeof R=="string")for(var x=0;16>x;++x)D[x]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(x=0;16>x;++x)D[x]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=k.g[0],S=k.g[1],x=k.g[2];var U=k.g[3],C=R+(U^S&(x^U))+D[0]+3614090360&4294967295;R=S+(C<<7&4294967295|C>>>25),C=U+(x^R&(S^x))+D[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=x+(S^U&(R^S))+D[2]+606105819&4294967295,x=U+(C<<17&4294967295|C>>>15),C=S+(R^x&(U^R))+D[3]+3250441966&4294967295,S=x+(C<<22&4294967295|C>>>10),C=R+(U^S&(x^U))+D[4]+4118548399&4294967295,R=S+(C<<7&4294967295|C>>>25),C=U+(x^R&(S^x))+D[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=x+(S^U&(R^S))+D[6]+2821735955&4294967295,x=U+(C<<17&4294967295|C>>>15),C=S+(R^x&(U^R))+D[7]+4249261313&4294967295,S=x+(C<<22&4294967295|C>>>10),C=R+(U^S&(x^U))+D[8]+1770035416&4294967295,R=S+(C<<7&4294967295|C>>>25),C=U+(x^R&(S^x))+D[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=x+(S^U&(R^S))+D[10]+4294925233&4294967295,x=U+(C<<17&4294967295|C>>>15),C=S+(R^x&(U^R))+D[11]+2304563134&4294967295,S=x+(C<<22&4294967295|C>>>10),C=R+(U^S&(x^U))+D[12]+1804603682&4294967295,R=S+(C<<7&4294967295|C>>>25),C=U+(x^R&(S^x))+D[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=x+(S^U&(R^S))+D[14]+2792965006&4294967295,x=U+(C<<17&4294967295|C>>>15),C=S+(R^x&(U^R))+D[15]+1236535329&4294967295,S=x+(C<<22&4294967295|C>>>10),C=R+(x^U&(S^x))+D[1]+4129170786&4294967295,R=S+(C<<5&4294967295|C>>>27),C=U+(S^x&(R^S))+D[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=x+(R^S&(U^R))+D[11]+643717713&4294967295,x=U+(C<<14&4294967295|C>>>18),C=S+(U^R&(x^U))+D[0]+3921069994&4294967295,S=x+(C<<20&4294967295|C>>>12),C=R+(x^U&(S^x))+D[5]+3593408605&4294967295,R=S+(C<<5&4294967295|C>>>27),C=U+(S^x&(R^S))+D[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=x+(R^S&(U^R))+D[15]+3634488961&4294967295,x=U+(C<<14&4294967295|C>>>18),C=S+(U^R&(x^U))+D[4]+3889429448&4294967295,S=x+(C<<20&4294967295|C>>>12),C=R+(x^U&(S^x))+D[9]+568446438&4294967295,R=S+(C<<5&4294967295|C>>>27),C=U+(S^x&(R^S))+D[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=x+(R^S&(U^R))+D[3]+4107603335&4294967295,x=U+(C<<14&4294967295|C>>>18),C=S+(U^R&(x^U))+D[8]+1163531501&4294967295,S=x+(C<<20&4294967295|C>>>12),C=R+(x^U&(S^x))+D[13]+2850285829&4294967295,R=S+(C<<5&4294967295|C>>>27),C=U+(S^x&(R^S))+D[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=x+(R^S&(U^R))+D[7]+1735328473&4294967295,x=U+(C<<14&4294967295|C>>>18),C=S+(U^R&(x^U))+D[12]+2368359562&4294967295,S=x+(C<<20&4294967295|C>>>12),C=R+(S^x^U)+D[5]+4294588738&4294967295,R=S+(C<<4&4294967295|C>>>28),C=U+(R^S^x)+D[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=x+(U^R^S)+D[11]+1839030562&4294967295,x=U+(C<<16&4294967295|C>>>16),C=S+(x^U^R)+D[14]+4259657740&4294967295,S=x+(C<<23&4294967295|C>>>9),C=R+(S^x^U)+D[1]+2763975236&4294967295,R=S+(C<<4&4294967295|C>>>28),C=U+(R^S^x)+D[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=x+(U^R^S)+D[7]+4139469664&4294967295,x=U+(C<<16&4294967295|C>>>16),C=S+(x^U^R)+D[10]+3200236656&4294967295,S=x+(C<<23&4294967295|C>>>9),C=R+(S^x^U)+D[13]+681279174&4294967295,R=S+(C<<4&4294967295|C>>>28),C=U+(R^S^x)+D[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=x+(U^R^S)+D[3]+3572445317&4294967295,x=U+(C<<16&4294967295|C>>>16),C=S+(x^U^R)+D[6]+76029189&4294967295,S=x+(C<<23&4294967295|C>>>9),C=R+(S^x^U)+D[9]+3654602809&4294967295,R=S+(C<<4&4294967295|C>>>28),C=U+(R^S^x)+D[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=x+(U^R^S)+D[15]+530742520&4294967295,x=U+(C<<16&4294967295|C>>>16),C=S+(x^U^R)+D[2]+3299628645&4294967295,S=x+(C<<23&4294967295|C>>>9),C=R+(x^(S|~U))+D[0]+4096336452&4294967295,R=S+(C<<6&4294967295|C>>>26),C=U+(S^(R|~x))+D[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=x+(R^(U|~S))+D[14]+2878612391&4294967295,x=U+(C<<15&4294967295|C>>>17),C=S+(U^(x|~R))+D[5]+4237533241&4294967295,S=x+(C<<21&4294967295|C>>>11),C=R+(x^(S|~U))+D[12]+1700485571&4294967295,R=S+(C<<6&4294967295|C>>>26),C=U+(S^(R|~x))+D[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=x+(R^(U|~S))+D[10]+4293915773&4294967295,x=U+(C<<15&4294967295|C>>>17),C=S+(U^(x|~R))+D[1]+2240044497&4294967295,S=x+(C<<21&4294967295|C>>>11),C=R+(x^(S|~U))+D[8]+1873313359&4294967295,R=S+(C<<6&4294967295|C>>>26),C=U+(S^(R|~x))+D[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=x+(R^(U|~S))+D[6]+2734768916&4294967295,x=U+(C<<15&4294967295|C>>>17),C=S+(U^(x|~R))+D[13]+1309151649&4294967295,S=x+(C<<21&4294967295|C>>>11),C=R+(x^(S|~U))+D[4]+4149444226&4294967295,R=S+(C<<6&4294967295|C>>>26),C=U+(S^(R|~x))+D[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=x+(R^(U|~S))+D[2]+718787259&4294967295,x=U+(C<<15&4294967295|C>>>17),C=S+(U^(x|~R))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+x&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var S=R-this.blockSize,D=this.B,x=this.h,U=0;U<R;){if(x==0)for(;U<=S;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<R;)if(D[x++]=k.charCodeAt(U++),x==this.blockSize){o(this,D),x=0;break}}else for(;U<R;)if(D[x++]=k[U++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=R},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var S=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=S&255,S/=256;for(this.u(k),k=Array(16),R=S=0;4>R;++R)for(var D=0;32>D;D+=8)k[S++]=this.g[R]>>>D&255;return k};function u(k,R){var S=m;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=R(k)}function f(k,R){this.h=R;for(var S=[],D=!0,x=k.length-1;0<=x;x--){var U=k[x]|0;D&&U==R||(S[x]=U,D=!1)}this.g=S}var m={};function p(k){return-128<=k&&128>k?u(k,function(R){return new f([R|0],0>R?-1:0)}):new f([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return E;if(0>k)return L(g(-k));for(var R=[],S=1,D=0;k>=S;D++)R[D]=k/S|0,S*=4294967296;return new f(R,0)}function T(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return L(T(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(R,8)),D=E,x=0;x<k.length;x+=8){var U=Math.min(8,k.length-x),C=parseInt(k.substring(x,x+U),R);8>U?(U=g(Math.pow(R,U)),D=D.j(U).add(g(C))):(D=D.j(S),D=D.add(g(C)))}return D}var E=p(0),A=p(1),O=p(16777216);i=f.prototype,i.m=function(){if($(this))return-L(this).m();for(var k=0,R=1,S=0;S<this.g.length;S++){var D=this.i(S);k+=(0<=D?D:4294967296+D)*R,R*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if($(this))return"-"+L(this).toString(k);for(var R=g(Math.pow(k,6)),S=this,D="";;){var x=ce(S,R).g;S=K(S,x.j(R));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(k);if(S=x,M(S))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function $(k){return k.h==-1}i.l=function(k){return k=K(this,k),$(k)?-1:M(k)?0:1};function L(k){for(var R=k.g.length,S=[],D=0;D<R;D++)S[D]=~k.g[D];return new f(S,~k.h).add(A)}i.abs=function(){return $(this)?L(this):this},i.add=function(k){for(var R=Math.max(this.g.length,k.g.length),S=[],D=0,x=0;x<=R;x++){var U=D+(this.i(x)&65535)+(k.i(x)&65535),C=(U>>>16)+(this.i(x)>>>16)+(k.i(x)>>>16);D=C>>>16,U&=65535,C&=65535,S[x]=C<<16|U}return new f(S,S[S.length-1]&-2147483648?-1:0)};function K(k,R){return k.add(L(R))}i.j=function(k){if(M(this)||M(k))return E;if($(this))return $(k)?L(this).j(L(k)):L(L(this).j(k));if($(k))return L(this.j(L(k)));if(0>this.l(O)&&0>k.l(O))return g(this.m()*k.m());for(var R=this.g.length+k.g.length,S=[],D=0;D<2*R;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var x=0;x<k.g.length;x++){var U=this.i(D)>>>16,C=this.i(D)&65535,dt=k.i(x)>>>16,$e=k.i(x)&65535;S[2*D+2*x]+=C*$e,ie(S,2*D+2*x),S[2*D+2*x+1]+=U*$e,ie(S,2*D+2*x+1),S[2*D+2*x+1]+=C*dt,ie(S,2*D+2*x+1),S[2*D+2*x+2]+=U*dt,ie(S,2*D+2*x+2)}for(D=0;D<R;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=R;D<2*R;D++)S[D]=0;return new f(S,0)};function ie(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function W(k,R){this.g=k,this.h=R}function ce(k,R){if(M(R))throw Error("division by zero");if(M(k))return new W(E,E);if($(k))return R=ce(L(k),R),new W(L(R.g),L(R.h));if($(R))return R=ce(k,L(R)),new W(L(R.g),R.h);if(30<k.g.length){if($(k)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var S=A,D=R;0>=D.l(k);)S=ue(S),D=ue(D);var x=ve(S,1),U=ve(D,1);for(D=ve(D,2),S=ve(S,2);!M(D);){var C=U.add(D);0>=C.l(k)&&(x=x.add(S),U=C),D=ve(D,1),S=ve(S,1)}return R=K(k,x.j(R)),new W(x,R)}for(x=E;0<=k.l(R);){for(S=Math.max(1,Math.floor(k.m()/R.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=g(S),C=U.j(R);$(C)||0<C.l(k);)S-=D,U=g(S),C=U.j(R);M(U)&&(U=A),x=x.add(U),k=K(k,C)}return new W(x,k)}i.A=function(k){return ce(this,k).h},i.and=function(k){for(var R=Math.max(this.g.length,k.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)&k.i(D);return new f(S,this.h&k.h)},i.or=function(k){for(var R=Math.max(this.g.length,k.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)|k.i(D);return new f(S,this.h|k.h)},i.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)^k.i(D);return new f(S,this.h^k.h)};function ue(k){for(var R=k.g.length+1,S=[],D=0;D<R;D++)S[D]=k.i(D)<<1|k.i(D-1)>>>31;return new f(S,k.h)}function ve(k,R){var S=R>>5;R%=32;for(var D=k.g.length-S,x=[],U=0;U<D;U++)x[U]=0<R?k.i(U+S)>>>R|k.i(U+S+1)<<32-R:k.i(U+S);return new f(x,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,UT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,Rs=f}).apply(typeof g0<"u"?g0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zT,Jl,BT,ch,zm,jT,HT,qT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in _))break e;_=_[B]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,B={next:function(){if(!w&&_<c.length){var F=_++;return{value:y(F,c[F]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:E,A.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,B,F){for(var se=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)se[Be-2]=arguments[Be];return y.prototype[B].apply(w,se)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const B=c.length||0,F=w.length||0;c.length=B+F;for(let se=0;se<F;se++)c[B+se]=w[se]}else c.push(w)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ie(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var ue=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ve(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(_ in w)c[_]=w[_];for(let F=0;F<S.length;F++)_=S[F],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function x(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=De;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class dt{constructor(){this.h=this.g=null}add(y,_){const w=$e.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var $e=new K(()=>new te,c=>c.reset());class te{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,de=!1,De=new dt,N=()=>{const c=m.Promise.resolve(void 0);ye=()=>{c.then(Y)}};var Y=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=$e;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ae(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{ce(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ae.aa.h.call(this)}}M(Ae,re);var me={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Je(c,y,_,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=B,this.key=++Ne,this.da=this.fa=!1}function Ue(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Zt(c){this.src=c,this.g={},this.h=0}Zt.prototype.add=function(c,y,_,w,B){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var se=An(c,y,w,B);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new Je(y,this.src,F,!!w,B),y.fa=_,c.push(y)),y};function Fn(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],B=Array.prototype.indexOf.call(w,y,void 0),F;(F=0<=B)&&Array.prototype.splice.call(w,B,1),F&&(Ue(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function An(c,y,_,w){for(var B=0;B<c.length;++B){var F=c[B];if(!F.da&&F.listener==y&&F.capture==!!_&&F.ha==w)return B}return-1}var Gn="closure_lm_"+(1e6*Math.random()|0),Ri={};function Kn(c,y,_,w,B){if(Array.isArray(y)){for(var F=0;F<y.length;F++)Kn(c,y[F],_,w,B);return null}return _=xa(_),c&&c[it]?c.K(y,_,g(w)?!!w.capture:!1,B):di(c,y,_,!1,w,B)}function di(c,y,_,w,B,F){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Be=$n(c);if(Be||(c[Gn]=Be=new Zt(c)),_=Be.add(y,_,w,se,F),_.proxy)return _;if(w=er(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)oe||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(zr(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function er(){function c(_){return y.call(c.src,c.listener,_)}const y=un;return c}function ln(c,y,_,w,B){if(Array.isArray(y))for(var F=0;F<y.length;F++)ln(c,y[F],_,w,B);else w=g(w)?!!w.capture:!!w,_=xa(_),c&&c[it]?(c=c.i,y=String(y).toString(),y in c.g&&(F=c.g[y],_=An(F,_,w,B),-1<_&&(Ue(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[y],c.h--)))):c&&(c=$n(c))&&(y=c.g[y.toString()],c=-1,y&&(c=An(y,_,w,B)),(_=-1<c?y[c]:null)&&tr(_))}function tr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[it])Fn(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(zr(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=$n(y))?(Fn(_,c),_.h==0&&(_.src=null,y[Gn]=null)):Ue(c)}}}function zr(c){return c in Ri?Ri[c]:Ri[c]="on"+c}function un(c,y){if(c.da)c=!0;else{y=new Ae(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&tr(c),c=_.call(w,y)}return c}function $n(c){return c=c[Gn],c instanceof Zt?c:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xa(c){return typeof c=="function"?c:(c[cn]||(c[cn]=function(y){return c.handleEvent(y)}),c[cn])}function ht(){ae.call(this),this.i=new Zt(this),this.M=this,this.F=null}M(ht,ae),ht.prototype[it]=!0,ht.prototype.removeEventListener=function(c,y,_,w){ln(this,c,y,_,w)};function It(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var B=y;y=new re(w,c),D(y,B)}if(B=!0,_)for(var F=_.length-1;0<=F;F--){var se=y.g=_[F];B=Qn(se,w,!0,y)&&B}if(se=y.g=c,B=Qn(se,w,!0,y)&&B,B=Qn(se,w,!1,y)&&B,_)for(F=0;F<_.length;F++)se=y.g=_[F],B=Qn(se,w,!1,y)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)Ue(_[w]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ht.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function Qn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,F=0;F<y.length;++F){var se=y[F];if(se&&!se.da&&se.capture==_){var Be=se.listener,Ut=se.ha||se.src;se.fa&&Fn(c.i,se),B=Be.call(Ut,w)!==!1&&B}}return B&&!w.defaultPrevented}function Br(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Yn(c){c.g=Br(()=>{c.g=null,c.i&&(c.i=!1,Yn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ka extends ae{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(c){ae.call(this),this.h=c,this.g={}}M(Sn,ae);var Ii=[];function Ft(c){ve(c.g,function(y,_){this.g.hasOwnProperty(_)&&tr(y)},c),c.g={}}Sn.prototype.N=function(){Sn.aa.N.call(this),Ft(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jr=m.JSON.stringify,Nn=m.JSON.parse,Jt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function nr(){}nr.prototype.h=null;function xn(c){return c.h||(c.h=c.i())}function Ma(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){re.call(this,"d")}M(mi,re);function Te(){re.call(this,"c")}M(Te,re);var Qe={},ut=null;function Ct(){return ut=ut||new ht}Qe.La="serverreachability";function Ci(c){re.call(this,Qe.La,c)}M(Ci,re);function rt(c){const y=Ct();It(y,new Ci(y))}Qe.STAT_EVENT="statevent";function Pt(c,y){re.call(this,Qe.STAT_EVENT,c),this.stat=y}M(Pt,re);function st(c){const y=Ct();It(y,new Pt(y,c))}Qe.Ma="timingevent";function hn(c,y){re.call(this,Qe.Ma,c),this.size=y}M(hn,re);function Dt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function Xn(c,y,_,w,B,F){c.info(function(){if(c.g)if(F)for(var se="",Be=F.split("&"),Ut=0;Ut<Be.length;Ut++){var je=Be[Ut].split("=");if(1<je.length){var $t=je[0];je=je[1];var zt=$t.split("_");se=2<=zt.length&&zt[1]=="type"?se+($t+"="+je+"&"):se+($t+"=redacted&")}}else se=null;else se=F;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function Ko(c,y,_,w,B,F,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+_+`
`+F+" "+se})}function Hr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Gt(c,_)+(w?" "+w:"")})}function Di(c,y){c.info(function(){return"TIMEOUT: "+y})}pi.prototype.info=function(){};function Gt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var F=B[0];if(F!="noop"&&F!="stop"&&F!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return jr(_)}catch{return y}}var Lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bs;function Va(){}M(Va,nr),Va.prototype.g=function(){return new XMLHttpRequest},Va.prototype.i=function(){return{}},Bs=new Va;function Oi(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new Sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $o}function $o(){this.i=null,this.g="",this.h=!1}var qr={},js={};function gi(c,y,_){c.L=1,c.v=Fs(vt(y)),c.m=_,c.P=!0,rr(c,null)}function rr(c,y){c.F=Date.now(),mt(c),c.A=vt(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),or(_.i,"t",w),c.C=0,_=c.j.J,c.h=new $o,c.g=Ku(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ka(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ii[0]=B.toString()),B=Ii);for(var F=0;F<B.length;F++){var se=Kn(_,B[F],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),rt(),Xn(c.i,c.u,c.A,c.l,c.R,c.m)}Oi.prototype.ca=function(c){c=c.target;const y=this.M;y&&ti(c)==3?y.j():this.Y(c)},Oi.prototype.Y=function(c){try{if(c==this.g)e:{const zt=ti(this.g);var y=this.g.Ba();const hr=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||zt!=4||y==7||(y==8||0>=hr?rt(3):rt(2)),Pa(this);var _=this.g.Z();this.X=_;t:if(Fr(this)){var w=Uu(this.g);c="";var B=w.length,F=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Mn(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(F&&y==B-1)});w.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Ko(this.i,this.u,this.A,this.l,this.R,zt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ut=this.g;if((Be=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Be)){var je=Be;break t}}je=null}if(_=je)Hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vn(this,_);else{this.o=!1,this.s=3,st(12),Rn(this),Mn(this);break e}}if(this.P){_=!0;let en;for(;!this.J&&this.C<se.length;)if(en=Gr(this,se),en==js){zt==4&&(this.s=4,st(14),_=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(en==qr){this.s=4,st(15),Hr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else Hr(this.i,this.l,en,null),Vn(this,en);if(Fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||se.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)Hr(this.i,this.l,se,"[Invalid Chunked Response]"),Rn(this),Mn(this);else if(0<se.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ws($t),$t.M=!0,st(11))}}else Hr(this.i,this.l,se,null),Vn(this,se);zt==4&&Rn(this),this.o&&!this.J&&(zt==4?qu(this.j,this):(this.o=!1,mt(this)))}else pf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Rn(this),Mn(this)}}}catch{}finally{}};function Fr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gr(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?js:(_=Number(y.substring(_,w)),isNaN(_)?qr:(w+=1,w+_>y.length?js:(y=y.slice(w,w+_),c.C=w+_,y)))}Oi.prototype.cancel=function(){this.J=!0,Rn(this)};function mt(c){c.S=Date.now()+c.I,Qo(c,c.I)}function Qo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dt(A(c.ba,c),y)}function Pa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Oi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Di(this.i,this.A),this.L!=2&&(rt(),st(17)),Rn(this),this.s=2,Mn(this)):Qo(this,this.S-c)};function Mn(c){c.j.G==0||c.J||qu(c.j,c)}function Rn(c){Pa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ft(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Vn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Kr(_.h,c))){if(!c.K&&Kr(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ka(_),Fa(_);else break e;sl(_),st(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Dt(A(_.Za,_),6e3));if(1>=ku(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else cr(_,11)}else if((c.K||_.g==c)&&Ka(_),!ie(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let je=B[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const $t=je[3];$t!=null&&(_.la=$t,_.j.info("VER="+_.la));const zt=je[4];zt!=null&&(_.Aa=zt,_.j.info("SVER="+_.Aa));const hr=je[5];hr!=null&&typeof hr=="number"&&0<hr&&(w=1.5*hr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const en=c.g;if(en){const Li=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var F=w.h;F.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&($r(F,F.h),F.h=null))}if(w.D){const ol=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(w.ya=ol,Fe(w.I,w.D,ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var se=c;if(w.qa=Gu(w,w.J?w.ia:null,w.W),se.K){Wn(w.h,se);var Be=se,Ut=w.L;Ut&&(Be.I=Ut),Be.B&&(Pa(Be),mt(Be)),w.g=se}else ju(w);0<_.i.length&&Ga(_)}else je[0]!="stop"&&je[0]!="close"||cr(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?cr(_,7):il(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}rt(4)}catch{}}var cf=class{constructor(c,y){this.g=c,this.map=y}};function Yo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ku(c){return c.h?1:c.g?c.g.size:0}function Kr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $r(c,y){c.g?c.g.add(y):c.h=y}function Wn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yo.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _n(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function Mu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function hf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Hs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=hf(c),w=Mu(c),B=w.length,F=0;F<B;F++)y.call(void 0,w[F],_&&_[F],c)}var Wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),B=null;if(0<=w){var F=c[_].substring(0,w);B=c[_].substring(w+1)}else F=c[_];y(F,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function sr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof sr){this.h=c.h,Qr(this,c.j),this.o=c.o,this.g=c.g,qs(this,c.s),this.l=c.l;var y=c.i,_=new Ni;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ua(this,_),this.m=c.m}else c&&(y=String(c).match(Wo))?(this.h=!1,Qr(this,y[1]||"",!0),this.o=Yr(y[2]||""),this.g=Yr(y[3]||"",!0),qs(this,y[4]),this.l=Yr(y[5]||"",!0),Ua(this,y[6]||"",!0),this.m=Yr(y[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}sr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Zn(y,Zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Zn(y,Zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Zn(_,_.charAt(0)=="/"?Jo:Vu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Zn(_,mf)),c.join("")};function vt(c){return new sr(c)}function Qr(c,y,_){c.j=_?Yr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function qs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ua(c,y,_){y instanceof Ni?(c.i=y,el(c.i,c.h)):(_||(y=Zn(y,df)),c.i=new Ni(y,c.h))}function Fe(c,y,_){c.i.set(y,_)}function Fs(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Yr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ff),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ff(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zo=/[#\/\?@]/g,Vu=/[#\?:]/g,Jo=/[#\?]/g,df=/[#\?@]/g,mf=/#/g;function Ni(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&La(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Ni.prototype,i.add=function(c,y){Jn(this),this.i=null,c=lr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function za(c,y){Jn(c),y=lr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ar(c,y){return Jn(c),y=lr(c,y),c.g.has(y)}i.forEach=function(c,y){Jn(this),this.g.forEach(function(_,w){_.forEach(function(B){c.call(y,B,w,this)},this)},this)},i.na=function(){Jn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const B=c[w];for(let F=0;F<B.length;F++)_.push(y[w])}return _},i.V=function(c){Jn(this);let y=[];if(typeof c=="string")ar(this,c)&&(y=y.concat(this.g.get(lr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Jn(this),this.i=null,c=lr(this,c),ar(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function or(c,y,_){za(c,y),0<_.length&&(c.i=null,c.g.set(lr(c,y),$(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const F=encodeURIComponent(String(w)),se=this.V(w);for(w=0;w<se.length;w++){var B=F;se[w]!==""&&(B+="="+encodeURIComponent(String(se[w]))),c.push(B)}}return this.i=c.join("&")};function lr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function el(c,y){y&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(_,w){var B=w.toLowerCase();w!=B&&(za(this,w),or(this,B,_))},c)),c.j=y}function Pu(c,y){const _=new pi;if(m.Image){const w=new Image;w.onload=O(ei,_,"TestLoadImage: loaded",!0,y,w),w.onerror=O(ei,_,"TestLoadImage: error",!1,y,w),w.onabort=O(ei,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=O(ei,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Gs(c,y){const _=new pi,w=new AbortController,B=setTimeout(()=>{w.abort(),ei(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(F=>{clearTimeout(B),F.ok?ei(_,"TestPingServer: ok",!0,y):ei(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),ei(_,"TestPingServer: error",!1,y)})}function ei(c,y,_,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(_)}catch{}}function Ks(){this.g=new Jt}function xi(c,y,_){const w=_||"";try{Hs(c,function(B,F){let se=B;g(B)&&(se=jr(B)),y.push(w+F+"="+encodeURIComponent(se))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function Xr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Xr,nr),Xr.prototype.g=function(){return new ur(this.l,this.j)},Xr.prototype.i=function(c){return function(){return c}}({});function ur(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ur,ht),i=ur.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ki(this):Mi(this),this.readyState==3&&tl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ki(this))},i.Qa=function(c){this.g&&(this.response=c,ki(this))},i.ga=function(){this.g&&ki(this)};function ki(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nl(c){let y="";return ve(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Kt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=nl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Fe(c,y,_))}function Xe(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Xe,ht);var Ba=/^https?$/i,$s=["POST","PUT"];i=Xe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bs.g(),this.v=this.o?xn(this.o):xn(Bs),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Lu(this,F);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)_.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())_.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call($s,y,void 0))||w||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of _)this.g.setRequestHeader(F,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Lu(this,F)}};function Lu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ja(c),Vi(c)}function ja(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Vi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Xe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},i.bb=function(){Ha(this)};function Ha(c){if(c.h&&typeof f<"u"&&(!c.v[1]||ti(c)!=4||c.Z()!=2)){if(c.u&&ti(c)==4)Br(c.Ea,0,c);else if(It(c,"readystatechange"),ti(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=se===0){var B=String(c.D).match(Wo)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),w=!Ba.test(B?B.toLowerCase():"")}_=w}if(_)It(c,"complete"),It(c,"success");else{c.m=6;try{var F=2<ti(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",ja(c)}}finally{Vi(c)}}}}function Vi(c,y){if(c.g){Qs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||It(c,"ready");try{_.onreadystatechange=w}catch{}}}function Qs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function ti(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Nn(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pf(c){const y={};c=(c.g&&2<=ti(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ie(c[w]))continue;var _=x(c[w]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=y[B]||[];y[B]=F,F.push(_)}k(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function qa(c){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,c),this.cb=Ys("retryDelaySeedMs",1e4,c),this.Wa=Ys("forwardChannelMaxRetries",2,c),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Da=new Ks,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=qa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){st(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Gu(this,null,this.W),Ga(this)};function il(c){if(zu(c),c.G==3){var y=c.U++,_=vt(c.I);if(Fe(_,"SID",c.K),Fe(_,"RID",y),Fe(_,"TYPE","terminate"),Xs(c,_),y=new Oi(c,c.j,y),y.L=2,y.v=Fs(vt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),mt(y)}Fu(c)}function Fa(c){c.g&&(Ws(c),c.g.cancel(),c.g=null)}function zu(c){Fa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ga(c){if(!Xo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||N(),de||(ye(),de=!0),De.add(y,c),c.B=0}}function gf(c,y){return ku(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dt(A(c.Ga,c,y),al(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Oi(this,this.j,c);let F=this.o;if(this.S&&(F?(F=R(F),D(F,this.S)):F=this.S),this.m!==null||this.O||(B.H=F,F=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Bu(this,B,y),_=vt(this.I),Fe(_,"RID",c),Fe(_,"CVER",22),this.D&&Fe(_,"X-HTTP-Session-Id",this.D),Xs(this,_),F&&(this.O?y="headers="+encodeURIComponent(String(nl(F)))+"&"+y:this.m&&Kt(_,this.m,F)),$r(this.h,B),this.Ua&&Fe(_,"TYPE","init"),this.P?(Fe(_,"$req",y),Fe(_,"SID","null"),B.T=!0,gi(B,_,null)):gi(B,_,y),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||Xo(this.h)||rl(this))};function rl(c,y){var _;y?_=y.l:_=c.U++;const w=vt(c.I);Fe(w,"SID",c.K),Fe(w,"RID",_),Fe(w,"AID",c.T),Xs(c,w),c.m&&c.o&&Kt(w,c.m,c.o),_=new Oi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$r(c.h,_),gi(_,w,y)}function Xs(c,y){c.H&&ve(c.H,function(_,w){Fe(y,w,_)}),c.l&&Hs({},function(_,w){Fe(y,w,_)})}function Bu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;e:{var B=c.i;let F=-1;for(;;){const se=["count="+_];F==-1?0<_?(F=B[0].g,se.push("ofs="+F)):F=0:se.push("ofs="+F);let Be=!0;for(let Ut=0;Ut<_;Ut++){let je=B[Ut].g;const $t=B[Ut].map;if(je-=F,0>je)F=Math.max(0,B[Ut].g-100),Be=!1;else try{xi($t,se,"req"+je+"_")}catch{w&&w($t)}}if(Be){w=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||N(),de||(ye(),de=!0),De.add(y,c),c.v=0}}function sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dt(A(c.Fa,c),al(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Fa(this),Hu(this))};function Ws(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new Oi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=vt(c.qa);Fe(y,"RID","rpc"),Fe(y,"SID",c.K),Fe(y,"AID",c.T),Fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(y,"TO",c.ja),Fe(y,"TYPE","xmlhttp"),Xs(c,y),c.m&&c.o&&Kt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Fs(vt(y)),_.m=null,_.P=!0,rr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Fa(this),sl(this),st(19))};function Ka(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,y){var _=null;if(c.g==y){Ka(c),Ws(c),c.g=null;var w=2}else if(Kr(c.h,y))_=y.D,Wn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;w=Ct(),It(w,new hn(w,_)),Ga(c)}else ju(c);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&gf(c,y)||w==2&&sl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:cr(c,5);break;case 4:cr(c,10);break;case 3:cr(c,6);break;default:cr(c,2)}}}function al(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function cr(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),w=c.Xa;const B=!w;w=new sr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Qr(w,"https"),Fs(w),B?Pu(w.toString(),_):Gs(w.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(y),Fu(c),zu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=_n(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Gu(c,y,_){var w=_ instanceof sr?vt(_):new sr(_);if(w.g!="")y&&(w.g=y+"."+w.g),qs(w,w.s);else{var B=m.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var F=new sr(null);w&&Qr(F,w),y&&(F.g=y),B&&qs(F,B),_&&(F.l=_),w=F}return _=c.D,y=c.ya,_&&y&&Fe(w,_,y),Fe(w,"VER",c.la),Xs(c,w),w}function Ku(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xe(new Xr({eb:_})):new Xe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}i=$u.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function $a(){}$a.prototype.g=function(c,y){return new vn(c,y)};function vn(c,y){ht.call(this),this.g=new qa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ie(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ie(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Pi(this)}M(vn,ht),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){il(this.g)},vn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jr(c),c=_);y.i.push(new cf(y.Ya++,c)),y.G==3&&Ga(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,vn.aa.N.call(this)};function Qu(c){mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Qu,mi);function Yu(){Te.call(this),this.status=1}M(Yu,Te);function Pi(c){this.g=c}M(Pi,$u),Pi.prototype.ua=function(){It(this.g,"a")},Pi.prototype.ta=function(c){It(this.g,new Qu(c))},Pi.prototype.sa=function(c){It(this.g,new Yu)},Pi.prototype.ra=function(){It(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,qT=function(){return new $a},HT=function(){return Ct()},jT=Qe,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,ch=Lt,ir.COMPLETE="complete",BT=ir,Ma.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Jl=Ma,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,zT=Xe}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const y0="@firebase/firestore",_0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new dp("@firebase/firestore");function To(){return Aa.logLevel}function he(i,...e){if(Aa.logLevel<=Pe.DEBUG){const t=e.map(Sp);Aa.debug(`Firestore (${Ho}): ${i}`,...t)}}function Pr(i,...e){if(Aa.logLevel<=Pe.ERROR){const t=e.map(Sp);Aa.error(`Firestore (${Ho}): ${i}`,...t)}}function No(i,...e){if(Aa.logLevel<=Pe.WARN){const t=e.map(Sp);Aa.warn(`Firestore (${Ho}): ${i}`,...t)}}function Sp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+i;throw Pr(e),new Error(e)}function We(i,e){i||Se()}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pn.UNAUTHENTICATED))}shutdown(){}}class ZD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JD{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string"),new FT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new pn(e)}}class eO{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class tO{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new eO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){We(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new v0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new v0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Bm(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return ke(s,o);{const u=GT(),f=rO(u.encode(E0(i,t)),u.encode(E0(e,t)));return f!==0?f:ke(s,o)}}t+=s>65535?2:1}return ke(i.length,e.length)}function E0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function rO(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return ke(i[t],e[t]);return ke(i.length,e.length)}function xo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=-62135596800,b0=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*b0);return new Ht(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<T0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-T0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Ht(0,0))}static max(){return new Re(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="__name__";class Fi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(),s===void 0?s=e.length-t:s>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Fi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return ke(e.length,t.length)}static compareSegments(e,t){const s=Fi.isNumericId(e),o=Fi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Fi.extractNumericId(e).compare(Fi.extractNumericId(t)):Bm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class ct extends Fi{construct(e,t,s){return new ct(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Fi{construct(e,t,s){return new an(e,t,s)}static isValidIdentifier(e){return sO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new an([w0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ct.fromString(e))}static fromName(e){return new Ee(ct.fromString(e).popFirst(5))}static empty(){return new Ee(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function aO(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Ht(t+1,0):new Ht(t,s));return new Ds(o,Ee.empty(),e)}function oO(i){return new Ds(i.readTime,i.key,du)}class Ds{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ds(Re.min(),Ee.empty(),du)}static max(){return new Ds(Re.max(),Ee.empty(),du)}}function lO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(i.documentKey,e.documentKey),t!==0?t:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==uO)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,s)=>{t(e)})}static reject(e){return new J((t,s)=>{s(e)})}static waitFor(e){return new J((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next(o=>o?J.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(T=>{f[g]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,t){return new J((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function hO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Fh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=-1;function Gh(i){return i==null}function Ah(i){return i===0&&1/i==-1/0}function fO(i){return typeof i=="number"&&Number.isInteger(i)&&!Ah(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="";function dO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=A0(e)),e=mO(i.get(t),e);return A0(e)}function mO(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case $T:t+="";break;default:t+=u}}return t}function A0(i){return i+$T+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Us(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function QT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new sn(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,s,o,u){return this}insert(e,t,s){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R0(this.data.getIterator())}getIteratorFrom(e){return new R0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class R0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Hn([])}unionWith(e){let t=new qt(an.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new YT("Invalid base64 string: "+u):u}}(e);return new on(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const pO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(i){if(We(!!i),typeof i=="string"){let e=0;const t=pO.exec(i);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(i.seconds),nanos:Rt(i.nanos)}}function Rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ns(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="server_timestamp",WT="__type__",ZT="__previous_value__",JT="__local_write_time__";function Ip(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[WT])===null||t===void 0?void 0:t.stringValue)===XT}function Kh(i){const e=i.mapValue.fields[ZT];return Ip(e)?Kh(e):e}function mu(i){const e=Os(i.mapValue.fields[JT].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t,s,o,u,f,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Sh="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||Sh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__type__",yO="__max__",Jc={mapValue:{}},tb="__vector__",Rh="value";function xs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ip(i)?4:vO(i)?9007199254740991:_O(i)?10:11:Se()}function Wi(i,e){if(i===e)return!0;const t=xs(i);if(t!==xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return mu(i).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Os(o.timestampValue),m=Os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Ns(o.bytesValue).isEqual(Ns(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Rt(o.geoPointValue.latitude)===Rt(u.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Rt(o.integerValue)===Rt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Rt(o.doubleValue),m=Rt(u.doubleValue);return f===m?Ah(f)===Ah(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return xo(i.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(S0(f)!==S0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Wi(f[p],m[p])))return!1;return!0}(i,e);default:return Se()}}function gu(i,e){return(i.values||[]).find(t=>Wi(t,e))!==void 0}function ko(i,e){if(i===e)return 0;const t=xs(i),s=xs(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Rt(u.integerValue||u.doubleValue),p=Rt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return I0(i.timestampValue,e.timestampValue);case 4:return I0(mu(i),mu(e));case 5:return Bm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Ns(u),p=Ns(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=ke(m[g],p[g]);if(T!==0)return T}return ke(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=ke(Rt(u.latitude),Rt(f.latitude));return m!==0?m:ke(Rt(u.longitude),Rt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return C0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,T;const E=u.fields||{},A=f.fields||{},O=(m=E[Rh])===null||m===void 0?void 0:m.arrayValue,M=(p=A[Rh])===null||p===void 0?void 0:p.arrayValue,$=ke(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((T=M==null?void 0:M.values)===null||T===void 0?void 0:T.length)||0);return $!==0?$:C0(O,M)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let E=0;E<p.length&&E<T.length;++E){const A=Bm(p[E],T[E]);if(A!==0)return A;const O=ko(m[p[E]],g[T[E]]);if(O!==0)return O}return ke(p.length,T.length)}(i.mapValue,e.mapValue);default:throw Se()}}function I0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const t=Os(i),s=Os(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function C0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=ko(t[o],s[o]);if(u)return u}return ke(t.length,s.length)}function Mo(i){return jm(i)}function jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Os(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Ns(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Ee.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=jm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${jm(t.fields[f])}`;return o+"}"}(i.mapValue):Se()}function hh(i){switch(xs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(i);return e?16+hh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ns(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+hh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Us(s.fields,(u,f)=>{o+=u.length+hh(f)}),o}(i.mapValue);default:throw Se()}}function D0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Hm(i){return!!i&&"integerValue"in i}function Cp(i){return!!i&&"arrayValue"in i}function O0(i){return!!i&&"nullValue"in i}function N0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fh(i){return!!i&&"mapValue"in i}function _O(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[eb])===null||t===void 0?void 0:t.stringValue)===tb}function ru(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Us(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ru(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(i.arrayValue.values[t]);return e}return Object.assign({},i)}function vO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===yO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=an.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=ru(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Us(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new On(ru(this.value))}}function nb(i){const e=[];return Us(i.fields,(t,s)=>{const o=new an([t]);if(fh(s)){const u=nb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new gn(e,0,Re.min(),Re.min(),Re.min(),On.empty(),0)}static newFoundDocument(e,t,s,o){return new gn(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new gn(e,2,t,Re.min(),Re.min(),On.empty(),0)}static newUnknownDocument(e,t){return new gn(e,3,t,Re.min(),Re.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){this.position=e,this.inclusive=t}}function x0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),t.key):s=ko(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function k0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Wi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t="asc"){this.field=e,this.dir=t}}function EO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{}class Mt extends ib{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new bO(e,t,s):t==="array-contains"?new SO(e,s):t==="in"?new RO(e,s):t==="not-in"?new IO(e,s):t==="array-contains-any"?new CO(e,s):new Mt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new wO(e,s):new AO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ko(t,this.value)):t!==null&&xs(this.value)===xs(t)&&this.matchesComparison(ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends ib{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ai(e,t)}matches(e){return rb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rb(i){return i.op==="and"}function sb(i){return TO(i)&&rb(i)}function TO(i){for(const e of i.filters)if(e instanceof Ai)return!1;return!0}function qm(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+Mo(i.value);if(sb(i))return i.filters.map(e=>qm(e)).join(",");{const e=i.filters.map(t=>qm(t)).join(",");return`${i.op}(${e})`}}function ab(i,e){return i instanceof Mt?function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Wi(s.value,o.value)}(i,e):i instanceof Ai?function(s,o){return o instanceof Ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&ab(f,o.filters[m]),!0):!1}(i,e):void Se()}function ob(i){return i instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`}(i):i instanceof Ai?function(t){return t.op.toString()+" {"+t.getFilters().map(ob).join(" ,")+"}"}(i):"Filter"}class bO extends Mt{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class wO extends Mt{constructor(e,t){super(e,"in",t),this.keys=lb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AO extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=lb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lb(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class SO extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cp(t)&&gu(t.arrayValue,this.value)}}class RO extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class IO extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gu(this.value.arrayValue,t)}}class CO extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function M0(i,e=null,t=[],s=[],o=null,u=null,f=null){return new DO(i,e,t,s,o,u,f)}function Dp(i){const e=Ce(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>qm(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Mo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Mo(s)).join(",")),e.le=t}return e.le}function Op(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!EO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!ab(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!k0(i.startAt,e.startAt)&&k0(i.endAt,e.endAt)}function Fm(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function OO(i,e,t,s,o,u,f,m){return new Iu(i,e,t,s,o,u,f,m)}function $h(i){return new Iu(i)}function V0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ub(i){return i.collectionGroup!==null}function su(i){const e=Ce(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new qt(an.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ch(u,s))}),t.has(an.keyField().canonicalString())||e.he.push(new Ch(an.keyField(),s))}return e.he}function Yi(i){const e=Ce(i);return e.Pe||(e.Pe=NO(e,su(i))),e.Pe}function NO(i,e){if(i.limitType==="F")return M0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ch(o.field,u)});const t=i.endAt?new Ih(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ih(i.startAt.position,i.startAt.inclusive):null;return M0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Gm(i,e){const t=i.filters.concat([e]);return new Iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Km(i,e,t){return new Iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Qh(i,e){return Op(Yi(i),Yi(e))&&i.limitType===e.limitType}function cb(i){return`${Dp(Yi(i))}|lt:${i.limitType}`}function bo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>ob(o)).join(", ")}]`),Gh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Mo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Mo(o)).join(",")),`Target(${s})`}(Yi(i))}; limitType=${i.limitType})`}function Yh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=x0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,su(s),o)||s.endAt&&!function(f,m,p){const g=x0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,su(s),o))}(i,e)}function xO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hb(i){return(e,t)=>{let s=!1;for(const o of su(i)){const u=kO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function kO(i,e,t){const s=i.field.isKeyField()?Ee.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ko(p,g):Se()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return QT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new _t(Ee.comparator);function Lr(){return MO}const fb=new _t(Ee.comparator);function eu(...i){let e=fb;for(const t of i)e=e.insert(t.key,t);return e}function db(i){let e=fb;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function _a(){return au()}function mb(){return au()}function au(){return new Da(i=>i.toString(),(i,e)=>i.isEqual(e))}const VO=new _t(Ee.comparator),PO=new qt(Ee.comparator);function Le(...i){let e=PO;for(const t of i)e=e.add(t);return e}const LO=new qt(ke);function UO(){return LO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function pb(i){return{integerValue:""+i}}function zO(i,e){return fO(e)?pb(e):Np(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function BO(i,e,t){return i instanceof Dh?function(o,u){const f={fields:{[WT]:{stringValue:XT},[JT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ip(u)&&(u=Kh(u)),u&&(f.fields[ZT]=u),{mapValue:f}}(t,e):i instanceof yu?yb(i,e):i instanceof _u?_b(i,e):function(o,u){const f=gb(o,u),m=P0(f)+P0(o.Ie);return Hm(f)&&Hm(o.Ie)?pb(m):Np(o.serializer,m)}(i,e)}function jO(i,e,t){return i instanceof yu?yb(i,e):i instanceof _u?_b(i,e):t}function gb(i,e){return i instanceof Oh?function(s){return Hm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Dh extends Xh{}class yu extends Xh{constructor(e){super(),this.elements=e}}function yb(i,e){const t=vb(e);for(const s of i.elements)t.some(o=>Wi(o,s))||t.push(s);return{arrayValue:{values:t}}}class _u extends Xh{constructor(e){super(),this.elements=e}}function _b(i,e){let t=vb(e);for(const s of i.elements)t=t.filter(o=>!Wi(o,s));return{arrayValue:{values:t}}}class Oh extends Xh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function P0(i){return Rt(i.integerValue||i.doubleValue)}function vb(i){return Cp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function HO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof yu&&o instanceof yu||s instanceof _u&&o instanceof _u?xo(s.elements,o.elements,Wi):s instanceof Oh&&o instanceof Oh?Wi(s.Ie,o.Ie):s instanceof Dh&&o instanceof Dh}(i.transform,e.transform)}class qO{constructor(e,t){this.version=e,this.transformResults=t}}class Ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Wh{}function Eb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new xp(i.key,Ti.none()):new Cu(i.key,i.data,Ti.none());{const t=i.data,s=On.empty();let o=new qt(an.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new zs(i.key,s,new Hn(o.toArray()),Ti.none())}}function FO(i,e,t){i instanceof Cu?function(o,u,f){const m=o.value.clone(),p=U0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,t):i instanceof zs?function(o,u,f){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=U0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Tb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function ou(i,e,t,s){return i instanceof Cu?function(u,f,m,p){if(!dh(u.precondition,f))return m;const g=u.value.clone(),T=z0(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof zs?function(u,f,m,p){if(!dh(u.precondition,f))return m;const g=z0(u.fieldTransforms,p,f),T=f.data;return T.setAll(Tb(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(i,e,t,s):function(u,f,m){return dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,t)}function GO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=gb(s.transform,o||null);u!=null&&(t===null&&(t=On.empty()),t.set(s.field,u))}return t||null}function L0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xo(s,o,(u,f)=>HO(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Cu extends Wh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends Wh{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Tb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function U0(i,e,t){const s=new Map;We(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,jO(f,m,t[o]))}return s}function z0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,f=t.data.field(o.field);s.set(o.field,BO(u,f,e))}return s}class xp extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KO extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&FO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=mb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=Eb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(t,s)=>L0(t,s))&&xo(this.baseMutations,e.baseMutations,(t,s)=>L0(t,s))}}class kp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length);let o=function(){return VO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new kp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,qe;function XO(i){switch(i){case ee.OK:return Se();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Se()}}function bb(i){if(i===void 0)return Pr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case kt.OK:return ee.OK;case kt.CANCELLED:return ee.CANCELLED;case kt.UNKNOWN:return ee.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ee.INTERNAL;case kt.UNAVAILABLE:return ee.UNAVAILABLE;case kt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case kt.NOT_FOUND:return ee.NOT_FOUND;case kt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case kt.ABORTED:return ee.ABORTED;case kt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case kt.DATA_LOSS:return ee.DATA_LOSS;default:return Se()}}(qe=kt||(kt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Rs([4294967295,4294967295],0);function B0(i){const e=GT().encode(i),t=new UT;return t.update(e),new Uint8Array(t.digest())}function j0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Rs([t,s],0),new Rs([o,u],0)]}class Mp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new tu(`Invalid padding: ${t}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new tu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Rs.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Rs.fromNumber(s)));return o.compare(WO)===1&&(o=new Rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=B0(e),[s,o]=j0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Mp(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const t=B0(e),[s,o]=j0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Zh(Re.min(),o,new _t(ke),Lr(),Le())}}class Du{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Du(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class wb{constructor(e,t){this.targetId=e,this.ge=t}}class Ab{constructor(e,t,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class H0{constructor(){this.pe=0,this.ye=q0(),this.we=on.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),t=Le(),s=Le();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new Du(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=q0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ZO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Lr(),this.$e=eh(),this.Ue=eh(),this.Ke=new _t(ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(Fm(u))if(s===0){const f=new Ee(u.path);this.ze(t,f,gn.newNoDocument(f,Re.min()))}else We(s===1);else{const f=this.et(t);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=Ns(s).toUint8Array()}catch(p){if(p instanceof YT)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Mp(f,o,u)}catch(p){return No(p instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Fm(m.target)){const p=new Ee(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,gn.newNoDocument(p,e))}u.ve&&(t.set(f,u.Fe()),u.Me())}});let s=Le();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Zh(e,t,this.Ke,this.Qe,s);return this.Qe=Lr(),this.$e=eh(),this.Ue=eh(),this.Ke=new _t(ke),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new H0,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new qt(ke),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new qt(ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new H0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function eh(){return new _t(Ee.comparator)}function q0(){return new _t(Ee.comparator)}const JO={asc:"ASCENDING",desc:"DESCENDING"},eN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tN={and:"AND",or:"OR"};class nN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $m(i,e){return i.useProto3Json||Gh(e)?e:{value:e}}function Nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function iN(i,e){return Nh(i,e.toTimestamp())}function Xi(i){return We(!!i),Re.fromTimestamp(function(t){const s=Os(t);return new Ht(s.seconds,s.nanos)}(i))}function Vp(i,e){return Qm(i,e).canonicalString()}function Qm(i,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Rb(i){const e=ct.fromString(i);return We(Nb(e)),e}function Ym(i,e){return Vp(i.databaseId,e.path)}function Tm(i,e){const t=Rb(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ee(Cb(t))}function Ib(i,e){return Vp(i.databaseId,e)}function rN(i){const e=Rb(i);return e.length===4?ct.emptyPath():Cb(e)}function Xm(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Cb(i){return We(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function F0(i,e,t){return{name:Ym(i,e),fields:t.value.mapValue.fields}}function sN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(We(T===void 0||typeof T=="string"),on.fromBase64String(T||"")):(We(T===void 0||T instanceof Buffer||T instanceof Uint8Array),on.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?ee.UNKNOWN:bb(g.code);return new fe(T,g.message||"")}(f);t=new Ab(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Tm(i,s.document.name),u=Xi(s.document.updateTime),f=s.document.createTime?Xi(s.document.createTime):Re.min(),m=new On({mapValue:{fields:s.document.fields}}),p=gn.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];t=new mh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Tm(i,s.document),u=s.readTime?Xi(s.readTime):Re.min(),f=gn.newNoDocument(o,u),m=s.removedTargetIds||[];t=new mh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Tm(i,s.document),u=s.removedTargetIds||[];t=new mh([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new YO(o,u),m=s.targetId;t=new wb(m,f)}}return t}function aN(i,e){let t;if(e instanceof Cu)t={update:F0(i,e.key,e.value)};else if(e instanceof xp)t={delete:Ym(i,e.key)};else if(e instanceof zs)t={update:F0(i,e.key,e.data),updateMask:pN(e.fieldMask)};else{if(!(e instanceof KO))return Se();t={verify:Ym(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Dh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _u)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Se()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:iN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(i,e.precondition)),t}function oN(i,e){return i&&i.length>0?(We(e!==void 0),i.map(t=>function(o,u){let f=o.updateTime?Xi(o.updateTime):Xi(u);return f.isEqual(Re.min())&&(f=Xi(u)),new qO(f,o.transformResults||[])}(t,e))):[]}function lN(i,e){return{documents:[Ib(i,e.path)]}}function uN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Ib(i,o);const u=function(g){if(g.length!==0)return Ob(Ai.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(A){return{field:wo(A.field),direction:fN(A.dir)}}(T))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=$m(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function cN(i){let e=rN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(E){const A=Db(E);return A instanceof Ai&&sb(A)?A.getFilters():[A]}(t.where));let f=[];t.orderBy&&(f=function(E){return E.map(A=>function(M){return new Ch(Ao(M.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(A))}(t.orderBy));let m=null;t.limit&&(m=function(E){let A;return A=typeof E=="object"?E.value:E,Gh(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(E){const A=!!E.before,O=E.values||[];return new Ih(O,A)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const A=!E.before,O=E.values||[];return new Ih(O,A)}(t.endAt)),OO(e,o,f,u,m,"F",p,g)}function hN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Db(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ao(t.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(t.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ao(t.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ao(t.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(i):i.fieldFilter!==void 0?function(t){return Mt.create(Ao(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Ai.create(t.compositeFilter.filters.map(s=>Db(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(i):Se()}function fN(i){return JO[i]}function dN(i){return eN[i]}function mN(i){return tN[i]}function wo(i){return{fieldPath:i.canonicalString()}}function Ao(i){return an.fromServerFormat(i.fieldPath)}function Ob(i){return i instanceof Mt?function(t){if(t.op==="=="){if(N0(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(O0(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(N0(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(O0(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:dN(t.op),value:t.value}}}(i):i instanceof Ai?function(t){const s=t.getFilters().map(o=>Ob(o));return s.length===1?s[0]:{compositeFilter:{op:mN(t.op),filters:s}}}(i):Se()}function pN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Nb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,s,o,u=Re.min(),f=Re.min(),m=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.Tt=e}}function yN(i){const e=cN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.Tn=new vN}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Ds.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class vN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new qt(ct.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new qt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xb=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(xb,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Vo(0)}static Kn(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="LruGarbageCollector",EN=1048576;function $0([i,e],[t,s]){const o=ke(i,t);return o===0?ke(e,s):o}class TN{constructor(e){this.Hn=e,this.buffer=new qt($0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();$0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(K0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fo(t)?he(K0,"Ignoring IndexedDB error during garbage collection: ",t):await qo(t)}await this.er(3e5)})}}class wN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Fh.ae);const s=new TN(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(G0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(s=E,m=Date.now(),this.removeTargets(e,s,t))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(g=Date.now(),To()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function AN(i,e){return new wN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.changes=new Da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ou(s.mutation,o,Hn.empty(),Ht.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=_a();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=eu();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=_a();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=Lr();const f=au(),m=function(){return au()}();return t.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof zs)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),ou(T.mutation,g,T.mutation.getFieldMask(),Ht.now())):f.set(g.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),t.forEach((g,T)=>{var E;return m.set(g,new RN(T,(E=f.get(g))!==null&&E!==void 0?E:null))}),m))}recalculateAndSaveOverlays(e,t){const s=au();let o=new _t((f,m)=>f-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let T=s.get(p)||Hn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const E=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,E)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,E=mb();T.forEach(A=>{if(!u.has(A)){const O=Eb(t.get(A),s.get(A));O!==null&&E.set(A,O),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,E))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ub(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):J.resolve(_a());let m=du,p=u;return f.next(g=>J.forEach(g,(T,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next(A=>{p=p.insert(T,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(T=>({batchId:m,changes:db(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(s=>{let o=eu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=eu();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(E,A){return new Iu(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((E,A)=>{f=f.insert(E,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,gn.newInvalidDocument(T)))});let m=eu();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&ou(T.mutation,g,Hn.empty(),Ht.now()),Yh(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Xi(o.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:yN(o.bundledQuery),readTime:Xi(o.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.overlays=new _t(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=_a();return J.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=_a(),u=t.length+1,f=new Ee(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new _t((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=_a(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=_a(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return J.resolve(m)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new QO(t,s));let u=this.Rr.get(t);u===void 0&&(u=Le(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.Vr=new qt(Wt.mr),this.gr=new qt(Wt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Wt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Wt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new Ee(new ct([])),s=new Wt(t,e),o=new Wt(t,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new ct([])),s=new Wt(t,e),o=new Wt(t,e+1);let u=Le();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Wt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||ke(e.Cr,t.Cr)}static pr(e,t){return ke(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new qt(Wt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new $O(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Rp:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Wt(t,0),o=new Wt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(ke);return t.forEach(o=>{const u=new Wt(o,0),f=new Wt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Wt(new Ee(u),0);let m=new qt(ke);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(t.mutations,o=>{const u=new Wt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Wt(t,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.kr=e,this.docs=function(){return new _t(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let s=Lr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():gn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Lr();const f=t.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||lO(oO(T),s)<=0||(o.has(T.key)||Yh(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se()}qr(e,t){return J.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new kN(this)}getSize(e){return J.resolve(this.size)}}class kN extends SN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.persistence=e,this.Qr=new Da(t=>Dp(t),Op),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Pp,this.targetCount=0,this.Kr=Vo.Un()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Vo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Fh(0),this.zr=!1,this.zr=!0,this.jr=new ON,this.referenceDelegate=e(this),this.Hr=new MN(this),this.indexManager=new _N,this.remoteDocumentCache=function(o){return new xN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new gN(t),this.Yr=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new NN(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new VN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class VN extends cO{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.ti=new Pp,this.ni=null}static ri(e){return new Lp(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=Ee.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class xh{constructor(e,t){this.persistence=e,this.oi=new Da(s=>dO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=AN(this,t)}static ri(e,t){return new xh(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,t).next(m=>{m||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hh(e.data.value)),t}ar(e,t,s){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Up(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _I()?8:hO(yn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new PN;return this._s(e,t,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,t,f,m.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(To()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(To()<=Pe.DEBUG&&he("QueryEngine","Query:",bo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(To()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(t))):J.resolve())}rs(e,t){if(V0(t))return J.resolve(null);let s=Yi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Km(t,null,"F"),s=Yi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,m);return this.ls(t,g,f,p.readTime)?this.rs(e,Km(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return V0(t)||o.isEqual(Re.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(t,u);return this.ls(t,f,s,o)?J.resolve(null):(To()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bo(t)),this.hs(e,f,t,aO(o,du)).next(m=>m))})}cs(e,t){let s=new qt(hb(e));return t.forEach((o,u)=>{Yh(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return To()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",bo(t)),this.ns.getDocumentsMatchingQuery(e,t,Ds.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",UN=3e8;class zN{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new _t(ke),this.Is=new Da(u=>Dp(u),Op),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function BN(i,e,t,s){return new zN(i,e,t,s)}async function Mb(i,e){const t=Ce(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Le();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function jN(i,e){const t=Ce(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const E=g.batch,A=E.keys();let O=J.resolve();return A.forEach(M=>{O=O.next(()=>T.getEntry(p,M)).next($=>{const L=g.docVersions.get(M);We(L!==null),$.version.compareTo(L)<0&&(E.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),T.addEntry($)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,E))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Vb(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function HN(i,e){const t=Ce(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((T,E)=>{const A=o.get(E);if(!A)return;m.push(t.Hr.removeMatchingKeys(u,T.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(u,T.addedDocuments,E)));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(on.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,s)),o=o.insert(E,O),function($,L,K){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=UN?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(A,O,T)&&m.push(t.Hr.updateTargetData(u,O))});let p=Lr(),g=Le();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(qN(u,f,e.documentUpdates).next(T=>{p=T.Vs,g=T.fs})),!s.isEqual(Re.min())){const T=t.Hr.getLastRemoteSnapshotVersion(u).next(E=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function qN(i,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=Lr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function FN(i,e){const t=Ce(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Rp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function GN(i,e){const t=Ce(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):t.Hr.allocateTargetId(s).next(f=>(o=new ws(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Wm(i,e,t){const s=Ce(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Fo(f))throw f;he(zp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Q0(i,e,t){const s=Ce(i);let o=Re.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const E=Ce(p),A=E.Is.get(T);return A!==void 0?J.resolve(E.Ts.get(A)):E.Hr.getTargetData(g,T)}(s,f,Yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,t?o:Re.min(),t?u:Le())).next(m=>(KN(s,xO(e),m),{documents:m,gs:u})))}function KN(i,e,t){let s=i.Es.get(e)||Re.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class Y0{constructor(){this.activeTargetIds=UO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $N{constructor(){this.ho=new Y0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Y0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="ConnectivityMonitor";class W0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(X0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(X0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function Zm(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="RestConnection",YN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const f=Zm(),m=this.bo(e,t.toUriEncodedString());he(bm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(he(bm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw No(bm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,t,s,o,u,f){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=YN[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class ZN extends XN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Zm();return new Promise((f,m)=>{const p=new zT;p.setWithCredentials(!0),p.listenOnce(BT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ch.NO_ERROR:const T=p.getResponseJson();he(mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case ch.TIMEOUT:he(mn,`RPC '${e}' ${u} timed out`),m(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const E=p.getStatus();if(he(mn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A==null?void 0:A.error;if(O&&O.status&&O.message){const M=function(L){const K=L.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN}(O.status);m(new fe(M,O.message))}else m(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(mn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(mn,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Zm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=qT(),m=HT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const T=u.join("");he(mn,`Creating RPC '${e}' stream ${o}: ${T}`,p);const E=f.createWebChannel(T,p);let A=!1,O=!1;const M=new WN({Fo:L=>{O?he(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(he(mn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),he(mn,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Mo:()=>E.close()}),$=(L,K,ie)=>{L.listen(K,W=>{try{ie(W)}catch(ce){setTimeout(()=>{throw ce},0)}})};return $(E,Jl.EventType.OPEN,()=>{O||(he(mn,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),$(E,Jl.EventType.CLOSE,()=>{O||(O=!0,he(mn,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),$(E,Jl.EventType.ERROR,L=>{O||(O=!0,No(mn,`RPC '${e}' stream ${o} transport errored:`,L),M.Uo(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),$(E,Jl.EventType.MESSAGE,L=>{var K;if(!O){const ie=L.data[0];We(!!ie);const W=ie,ce=(W==null?void 0:W.error)||((K=W[0])===null||K===void 0?void 0:K.error);if(ce){he(mn,`RPC '${e}' stream ${o} received error:`,ce);const ue=ce.status;let ve=function(S){const D=kt[S];if(D!==void 0)return bb(D)}(ue),k=ce.message;ve===void 0&&(ve=ee.INTERNAL,k="Unknown error status: "+ue+" with message "+ce.message),O=!0,M.Uo(new fe(ve,k)),E.close()}else he(mn,`RPC '${e}' stream ${o} received:`,ie),M.Ko(ie)}}),$(m,jT.STAT_EVENT,L=>{L.stat===zm.PROXY?he(mn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===zm.NOPROXY&&he(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(i){return new nN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="PersistentStream";class Lb{constructor(e,t,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Pb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new fe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Z0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(Z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JN extends Lb{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=sN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Xi(f.readTime):Re.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Xm(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=Fm(p)?{documents:lN(u,p)}:{query:uN(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Sb(u,f.resumeToken);const g=$m(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const g=$m(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=hN(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Xm(this.serializer),t.removeTarget=e,this.I_(t)}}class ex extends Lb{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=oN(e.writeResults,e.commitTime),s=Xi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Xm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>aN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{}class nx extends tx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Qm(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ee.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Qm(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ix{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Pr(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class rx{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Oa(this)&&(he(Sa,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.W_.add(4),await Ou(g),g.j_.set("Unknown"),g.W_.delete(4),await ef(g)}(this))})}),this.j_=new ix(s,o)}}async function ef(i){if(Oa(i))for(const e of i.G_)await e(!0)}async function Ou(i){for(const e of i.G_)await e(!1)}function Ub(i,e){const t=Ce(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),qp(t)?Hp(t):Go(t).c_()&&jp(t,e))}function Bp(i,e){const t=Ce(i),s=Go(t);t.K_.delete(e),s.c_()&&zb(t,e),t.K_.size===0&&(s.c_()?s.P_():Oa(t)&&t.j_.set("Unknown"))}function jp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Go(i).y_(e)}function zb(i,e){i.H_.Ne(e),Go(i).w_(e)}function Hp(i){i.H_=new ZO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Go(i).start(),i.j_.B_()}function qp(i){return Oa(i)&&!Go(i).u_()&&i.K_.size>0}function Oa(i){return Ce(i).W_.size===0}function Bb(i){i.H_=void 0}async function sx(i){i.j_.set("Online")}async function ax(i){i.K_.forEach((e,t)=>{jp(i,e)})}async function ox(i,e){Bb(i),qp(i)?(i.j_.q_(e),Hp(i)):i.j_.set("Unknown")}async function lx(i,e,t){if(i.j_.set("Online"),e instanceof Ab&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){he(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(i,s)}else if(e instanceof mh?i.H_.We(e):e instanceof wb?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Re.min()))try{const s=await Vb(i.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.K_.get(g);T&&u.K_.set(g,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const T=u.K_.get(p);if(!T)return;u.K_.set(p,T.withResumeToken(on.EMPTY_BYTE_STRING,T.snapshotVersion)),zb(u,p);const E=new ws(T.target,p,g,T.sequenceNumber);jp(u,E)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){he(Sa,"Failed to raise snapshot:",s),await kh(i,s)}}async function kh(i,e,t){if(!Fo(e))throw e;i.W_.add(1),await Ou(i),i.j_.set("Offline"),t||(t=()=>Vb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Sa,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await ef(i)})}function jb(i,e){return e().catch(t=>kh(i,t,e))}async function tf(i){const e=Ce(i),t=ks(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Rp;for(;ux(e);)try{const o=await FN(e.localStore,s);if(o===null){e.U_.length===0&&t.P_();break}s=o.batchId,cx(e,o)}catch(o){await kh(e,o)}Hb(e)&&qb(e)}function ux(i){return Oa(i)&&i.U_.length<10}function cx(i,e){i.U_.push(e);const t=ks(i);t.c_()&&t.S_&&t.b_(e.mutations)}function Hb(i){return Oa(i)&&!ks(i).u_()&&i.U_.length>0}function qb(i){ks(i).start()}async function hx(i){ks(i).C_()}async function fx(i){const e=ks(i);for(const t of i.U_)e.b_(t.mutations)}async function dx(i,e,t){const s=i.U_.shift(),o=kp.from(s,e,t);await jb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await tf(i)}async function mx(i,e){e&&ks(i).S_&&await async function(s,o){if(function(f){return XO(f)&&f!==ee.ABORTED}(o.code)){const u=s.U_.shift();ks(s).h_(),await jb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await tf(s)}}(i,e),Hb(i)&&qb(i)}async function J0(i,e){const t=Ce(i);t.asyncQueue.verifyOperationInProgress(),he(Sa,"RemoteStore received new credentials");const s=Oa(t);t.W_.add(3),await Ou(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ef(t)}async function px(i,e){const t=Ce(i);e?(t.W_.delete(2),await ef(t)):e||(t.W_.add(2),await Ou(t),t.j_.set("Unknown"))}function Go(i){return i.J_||(i.J_=function(t,s,o){const u=Ce(t);return u.M_(),new JN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:sx.bind(null,i),No:ax.bind(null,i),Lo:ox.bind(null,i),p_:lx.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),qp(i)?Hp(i):i.j_.set("Unknown")):(await i.J_.stop(),Bb(i))})),i.J_}function ks(i){return i.Y_||(i.Y_=function(t,s,o){const u=Ce(t);return u.M_(),new ex(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:hx.bind(null,i),Lo:mx.bind(null,i),D_:fx.bind(null,i),v_:dx.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await tf(i)):(await i.Y_.stop(),i.U_.length>0&&(he(Sa,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new Fp(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(i,e){if(Pr("AsyncQueue",`${e}: ${i}`),Fo(i))return new fe(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=eu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.Z_=new _t(Ee.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Po{constructor(e,t,s,o,u,f,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new Po(e,t,Oo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class yx{constructor(){this.queries=tE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ce(t),u=o.queries;o.queries=tE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function tE(){return new Da(i=>cb(i),Qh)}async function Kp(i,e){const t=Ce(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new gx,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=Gp(f,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Qp(t)}async function $p(i,e){const t=Ce(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function _x(i,e){const t=Ce(i);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Qp(t)}function vx(i,e,t){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Qp(i){i.ia.forEach(e=>{e.next()})}var Jm,nE;(nE=Jm||(Jm={}))._a="default",nE.Cache="cache";class Yp{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.key=e}}class Gb{constructor(e){this.key=e}}class Ex{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=hb(e),this.wa=new Oo(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new eE,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,E)=>{const A=o.get(T),O=Yh(this.query,E)?E:null,M=!!A&&this.mutatedKeys.has(A.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;A&&O?A.data.isEqual(O.data)?M!==$&&(s.track({type:3,doc:O}),L=!0):this.va(A,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),L=!0):A&&!O&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(O?(f=f.add(O),u=$?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,E)=>function(O,M){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return $(O)-$(M)}(T.type,E.type)||this.ya(T.doc,E.doc)),this.Ca(s),o=o!=null&&o;const m=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new Po(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new eE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Gb(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Fb(s))}),t}Oa(e){this.fa=e.gs,this.pa=Le();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Po.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Xp="SyncEngine";class Tx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class bx{constructor(e){this.key=e,this.Ba=!1}}class wx{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Da(m=>cb(m),Qh),this.qa=new Map,this.Qa=new Set,this.$a=new _t(Ee.comparator),this.Ua=new Map,this.Ka=new Pp,this.Wa={},this.Ga=new Map,this.za=Vo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Ax(i,e,t=!0){const s=Wb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Kb(s,e,t,!0),o}async function Sx(i,e){const t=Wb(i);await Kb(t,e,!0,!1)}async function Kb(i,e,t,s){const o=await GN(i.localStore,Yi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await Rx(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&Ub(i.remoteStore,o),m}async function Rx(i,e,t,s,o){i.Ha=(E,A,O)=>async function($,L,K,ie){let W=L.view.ba(K);W.ls&&(W=await Q0($.localStore,L.query,!1).then(({documents:k})=>L.view.ba(k,W)));const ce=ie&&ie.targetChanges.get(L.targetId),ue=ie&&ie.targetMismatches.get(L.targetId)!=null,ve=L.view.applyChanges(W,$.isPrimaryClient,ce,ue);return rE($,L.targetId,ve.Ma),ve.snapshot}(i,E,A,O);const u=await Q0(i.localStore,e,!0),f=new Ex(e,u.gs),m=f.ba(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);rE(i,t,g.Ma);const T=new Tx(e,t,f);return i.ka.set(e,T),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function Ix(i,e,t){const s=Ce(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Qh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Bp(s.remoteStore,o.targetId),ep(s,o.targetId)}).catch(qo)):(ep(s,o.targetId),await Wm(s.localStore,o.targetId,!0))}async function Cx(i,e){const t=Ce(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Bp(t.remoteStore,s.targetId))}async function Dx(i,e,t){const s=Px(i);try{const o=await function(f,m){const p=Ce(f),g=Ht.now(),T=m.reduce((O,M)=>O.add(M.key),Le());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=Lr(),$=Le();return p.ds.getEntries(O,T).next(L=>{M=L,M.forEach((K,ie)=>{ie.isValidDocument()||($=$.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,M)).next(L=>{E=L;const K=[];for(const ie of m){const W=GO(ie,E.get(ie.key).overlayedDocument);W!=null&&K.push(new zs(ie.key,W,nb(W.value.mapValue),Ti.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,K,m)}).next(L=>{A=L;const K=L.applyToLocalDocumentSet(E,$);return p.documentOverlayCache.saveOverlays(O,L.batchId,K)})}).then(()=>({batchId:A.batchId,changes:db(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new _t(ke)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,t),await Nu(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Gp(o,"Failed to persist write");t.reject(u)}}async function $b(i,e){const t=Ce(i);try{const s=await HN(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Ua.get(u);f&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?We(f.Ba):o.removedDocuments.size>0&&(We(f.Ba),f.Ba=!1))}),await Nu(t,s,e)}catch(s){await qo(s)}}function iE(i,e,t){const s=Ce(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach((T,E)=>{for(const A of E.ta)A.sa(m)&&(g=!0)}),g&&Qp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ox(i,e,t){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new _t(Ee.comparator);f=f.insert(u,gn.newNoDocument(u,Re.min()));const m=Le().add(u),p=new Zh(Re.min(),new Map,new _t(ke),f,m);await $b(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Wp(s)}else await Wm(s.localStore,e,!1).then(()=>ep(s,e,t)).catch(qo)}async function Nx(i,e){const t=Ce(i),s=e.batch.batchId;try{const o=await jN(t.localStore,e);Yb(t,s,null),Qb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(t,o)}catch(o){await qo(o)}}async function xx(i,e,t){const s=Ce(i);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(E=>(We(E!==null),T=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);Yb(s,e,t),Qb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Nu(s,o)}catch(o){await qo(o)}}function Qb(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Yb(i,e,t){const s=Ce(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function ep(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||Xb(i,s)})}function Xb(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Bp(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),Wp(i))}function rE(i,e,t){for(const s of t)s instanceof Fb?(i.Ka.addReference(s.key,e),kx(i,s)):s instanceof Gb?(he(Xp,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||Xb(i,s.key)):Se()}function kx(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(he(Xp,"New document in limbo: "+t),i.Qa.add(s),Wp(i))}function Wp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Ee(ct.fromString(e)),s=i.za.next();i.Ua.set(s,new bx(t)),i.$a=i.$a.insert(t,s),Ub(i.remoteStore,new ws(Yi($h(t.path)),s,"TargetPurposeLimboResolution",Fh.ae))}}async function Nu(i,e,t){const s=Ce(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,t).then(g=>{var T;if((g||t)&&s.isPrimaryClient){const E=g?!g.fromCache:(T=t==null?void 0:t.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Up.Yi(p.targetId,g);u.push(E)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const T=Ce(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>J.forEach(g,A=>J.forEach(A.Hi,O=>T.persistence.referenceDelegate.addReference(E,A.targetId,O)).next(()=>J.forEach(A.Ji,O=>T.persistence.referenceDelegate.removeReference(E,A.targetId,O)))))}catch(E){if(!Fo(E))throw E;he(zp,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const O=T.Ts.get(A),M=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(M);T.Ts=T.Ts.insert(A,$)}}}(s.localStore,u))}async function Mx(i,e){const t=Ce(i);if(!t.currentUser.isEqual(e)){he(Xp,"User change. New user:",e.toKey());const s=await Mb(t.localStore,e);t.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new fe(ee.CANCELLED,f))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(t,s.Rs)}}function Vx(i,e){const t=Ce(i),s=t.Ua.get(e);if(s&&s.Ba)return Le().add(s.key);{let o=Le();const u=t.qa.get(e);if(!u)return o;for(const f of u){const m=t.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function Wb(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ox.bind(null,e),e.La.p_=_x.bind(null,e.eventManager),e.La.Ja=vx.bind(null,e.eventManager),e}function Px(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xx.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return BN(this.persistence,new LN,e.initialUser,this.serializer)}Xa(e){return new kb(Lp.ri,this.serializer)}Za(e){return new $N}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class Lx extends Mh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){We(this.persistence.referenceDelegate instanceof xh);const s=this.persistence.referenceDelegate.garbageCollector;return new bN(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new kb(s=>xh.ri(s,t),this.serializer)}}class tp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>iE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mx.bind(null,this.syncEngine),await px(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yx}()}createDatastore(e){const t=Jh(e.databaseInfo.databaseId),s=function(u){return new ZN(u)}(e.databaseInfo);return function(u,f,m,p){return new nx(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new rx(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>iE(this.syncEngine,t,0),function(){return W0.D()?new W0:new QN}())}createSyncEngine(e,t){return function(o,u,f,m,p,g,T){const E=new wx(o,u,f,m,p,g);return T&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ce(o);he(Sa,"RemoteStore shutting down."),u.W_.add(5),await Ou(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}tp.provider={build:()=>new tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class Ux{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=KT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(Ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(Ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Gp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Am(i,e){i.asyncQueue.verifyOperationInProgress(),he(Ms,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Mb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function sE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await zx(i);he(Ms,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>J0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>J0(e.remoteStore,o)),i._onlineComponents=e}async function zx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Ms,"Using user provided OfflineComponentProvider");try{await Am(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await Am(i,new Mh)}}else he(Ms,"Using default OfflineComponentProvider"),await Am(i,new Lx(void 0));return i._offlineComponents}async function Zb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Ms,"Using user provided OnlineComponentProvider"),await sE(i,i._uninitializedComponentsProvider._online)):(he(Ms,"Using default OnlineComponentProvider"),await sE(i,new tp))),i._onlineComponents}function Bx(i){return Zb(i).then(e=>e.syncEngine)}async function Vh(i){const e=await Zb(i),t=e.eventManager;return t.onListen=Ax.bind(null,e.syncEngine),t.onUnlisten=Ix.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Sx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Cx.bind(null,e.syncEngine),t}function jx(i,e,t={}){const s=new xr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new Zp({next:A=>{T.su(),f.enqueueAndForget(()=>$p(u,E));const O=A.docs.has(m);!O&&A.fromCache?g.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?g.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new Yp($h(m.path),T,{includeMetadataChanges:!0,Ta:!0});return Kp(u,E)}(await Vh(i),i.asyncQueue,e,t,s)),s.promise}function Hx(i,e,t={}){const s=new xr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new Zp({next:A=>{T.su(),f.enqueueAndForget(()=>$p(u,E)),A.fromCache&&p.source==="server"?g.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new Yp(m,T,{includeMetadataChanges:!0,Ta:!0});return Kp(u,E)}(await Vh(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(i,e,t){if(!t)throw new fe(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qx(i,e,t,s){if(e===!0&&s===!0)throw new fe(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function oE(i){if(!Ee.isDocumentKey(i))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function lE(i){if(Ee.isDocumentKey(i))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function fi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nf(i);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firestore.googleapis.com",uE=!0;class cE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tw,this.ssl=uE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:uE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EN)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new WD;switch(s.type){case"firstParty":return new tO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=aE.get(t);s&&(he("ComponentProvider","Removing Datastore"),aE.delete(t),s.terminate())}(this),Promise.resolve()}}function Fx(i,e,t,s={}){var o;const u=(i=fi(i,rf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;u.host!==tw&&u.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ea(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=pn.MOCK_USER;else{g=WE(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new pn(E)}i._authCredentials=new ZD(new FT(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class wn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Is extends Na{constructor(e,t,s){super(e,t,$h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new Ee(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function nw(i,e,...t){if(i=yt(i),ew("collection","path",e),i instanceof rf){const s=ct.fromString(e,...t);return lE(s),new Is(i,null,s)}{if(!(i instanceof wn||i instanceof Is))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...t));return lE(s),new Is(i.firestore,null,s)}}function iw(i,e,...t){if(i=yt(i),arguments.length===1&&(e=KT.newId()),ew("doc","path",e),i instanceof rf){const s=ct.fromString(e,...t);return oE(s),new wn(i,null,new Ee(s))}{if(!(i instanceof wn||i instanceof Is))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...t));return oE(s),new wn(i.firestore,i instanceof Is?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="AsyncQueue";class fE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Pb(this,"async_queue_retry"),this.Su=()=>{const s=wm();s&&he(hE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=wm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=wm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new xr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fo(e))throw e;he(hE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Pr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Fp.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function dE(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Vs extends rf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new fE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fE(e),this._firestoreClient=void 0,await e}}}function Gx(i,e){const t=typeof i=="object"?i:pp(),s=typeof i=="string"?i:Sh,o=Bh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=QE("firestore");u&&Fx(o,...u)}return o}function sf(i){if(i._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Kx(i),i._firestoreClient}function Kx(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,T){return new gO(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Jb(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Ux(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(on.fromBase64String(e))}catch(t){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lo(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=/^__.*__$/;class Qx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cu(e,this.data,t,this.fieldTransforms)}}class rw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class ng{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ph(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(sw(this.Lu)&&$x.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Yx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Jh(e)}ju(e,t,s,o=!1){return new ng({Lu:e,methodName:t,zu:s,path:an.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ig(i){const e=i._freezeSettings(),t=Jh(i._databaseId);return new Yx(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Xx(i,e,t,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,t,o);rg("Data must be an object, but it was:",f,s);const m=aw(s,f);let p,g;if(u.merge)p=new Hn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const E of u.mergeFields){const A=np(e,E,t);if(!f.contains(A))throw new fe(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);lw(T,A)||T.push(A)}p=new Hn(T),g=f.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=f.fieldTransforms;return new Qx(new On(m),p,g)}class of extends Jp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function Wx(i,e,t,s){const o=i.ju(1,e,t);rg("Data must be an object, but it was:",o,s);const u=[],f=On.empty();Us(s,(p,g)=>{const T=sg(e,p,t);g=yt(g);const E=o.Uu(T);if(g instanceof of)u.push(T);else{const A=xu(g,E);A!=null&&(u.push(T),f.set(T,A))}});const m=new Hn(u);return new rw(f,m,o.fieldTransforms)}function Zx(i,e,t,s,o,u){const f=i.ju(1,e,t),m=[np(e,s,t)],p=[o];if(u.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(np(e,u[A])),p.push(u[A+1]);const g=[],T=On.empty();for(let A=m.length-1;A>=0;--A)if(!lw(g,m[A])){const O=m[A];let M=p[A];M=yt(M);const $=f.Uu(O);if(M instanceof of)g.push(O);else{const L=xu(M,$);L!=null&&(g.push(O),T.set(O,L))}}const E=new Hn(g);return new rw(T,E,f.fieldTransforms)}function Jx(i,e,t,s=!1){return xu(t,i.ju(s?4:3,e))}function xu(i,e){if(ow(i=yt(i)))return rg("Unsupported field value:",e,i),aw(i,e);if(i instanceof Jp)return function(s,o){if(!sw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=xu(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ht.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Ht){const u=new Ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof eg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Lo)return{bytesValue:Sb(o.serializer,s._byteString)};if(s instanceof wn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof tg)return function(f,m){return{mapValue:{fields:{[eb]:{stringValue:tb},[Rh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Np(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${nf(s)}`)}(i,e)}function aw(i,e){const t={};return QT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(i,(s,o)=>{const u=xu(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function ow(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ht||i instanceof eg||i instanceof Lo||i instanceof wn||i instanceof Jp||i instanceof tg)}function rg(i,e,t){if(!ow(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=nf(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function np(i,e,t){if((e=yt(e))instanceof af)return e._internalPath;if(typeof e=="string")return sg(i,e);throw Ph("Field path arguments must be of type string or ",i,!1,void 0,t)}const ek=new RegExp("[~\\*/\\[\\]]");function sg(i,e,t){if(e.search(ek)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new af(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ph(i,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(ee.INVALID_ARGUMENT,m+i+p)}function lw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ag("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tk extends uw{data(){return super.data()}}function ag(i,e){return typeof e=="string"?sg(i,e):e instanceof af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class nk extends og{}function ik(i,e,...t){let s=[];e instanceof og&&s.push(e),s=s.concat(t),function(u){const f=u.filter(p=>p instanceof lg).length,m=u.filter(p=>p instanceof lf).length;if(f>1||f>0&&m>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class lf extends nk{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new lf(e,t,s)}_apply(e){const t=this._parse(e);return hw(e._query,t),new Na(e.firestore,e.converter,Gm(e._query,t))}_parse(e){const t=ig(e.firestore);return function(u,f,m,p,g,T,E){let A;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){pE(E,T);const M=[];for(const $ of E)M.push(mE(p,u,$));A={arrayValue:{values:M}}}else A=mE(p,u,E)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||pE(E,T),A=Jx(m,f,E,T==="in"||T==="not-in");return Mt.create(g,T,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rk(i,e,t){const s=e,o=ag("where",i);return lf._create(o,s,t)}class lg extends og{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)hw(f,p),f=Gm(f,p)}(e._query,t),new Na(e.firestore,e.converter,Gm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mE(i,e,t){if(typeof(t=yt(t))=="string"){if(t==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ub(e)&&t.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ct.fromString(t));if(!Ee.isDocumentKey(s))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return D0(i,new Ee(s))}if(t instanceof wn)return D0(i,t._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(t)}.`)}function pE(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hw(i,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sk{convertValue(e,t="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Us(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Rh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Rt(f.doubleValue));return new tg(u)}convertGeoPoint(e){return new eg(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const t=Os(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ct.fromString(e);We(Nb(s));const o=new pu(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(t)||Pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fw extends uw{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ag("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class ph extends fw{data(e={}){return super.data(e)}}class dw{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new ph(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:ok(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ok(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(i){i=fi(i,wn);const e=fi(i.firestore,Vs);return jx(sf(e),i._key).then(t=>mw(e,i,t))}class ug extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function gE(i){i=fi(i,Na);const e=fi(i.firestore,Vs),t=sf(e),s=new ug(e);return cw(i._query),Hx(t,i._query).then(o=>new dw(e,s,i,o))}function lk(i,e,t,...s){i=fi(i,wn);const o=fi(i.firestore,Vs),u=ig(o);let f;return f=typeof(e=yt(e))=="string"||e instanceof af?Zx(u,"updateDoc",i._key,e,t,s):Wx(u,"updateDoc",i._key,e),cg(o,[f.toMutation(i._key,Ti.exists(!0))])}function lV(i){return cg(fi(i.firestore,Vs),[new xp(i._key,Ti.none())])}function uV(i,e){const t=fi(i.firestore,Vs),s=iw(i),o=ak(i.converter,e);return cg(t,[Xx(ig(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ti.exists(!1))]).then(()=>s)}function cV(i,...e){var t,s,o;i=yt(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||dE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(dE(e[f])){const E=e[f];e[f]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[f+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),e[f+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let p,g,T;if(i instanceof wn)g=fi(i.firestore,Vs),T=$h(i._key.path),p={next:E=>{e[f]&&e[f](mw(g,i,E))},error:e[f+1],complete:e[f+2]};else{const E=fi(i,Na);g=fi(E.firestore,Vs),T=E._query;const A=new ug(g);p={next:O=>{e[f]&&e[f](new dw(g,A,E,O))},error:e[f+1],complete:e[f+2]},cw(i._query)}return function(A,O,M,$){const L=new Zp($),K=new Yp(O,L,M);return A.asyncQueue.enqueueAndForget(async()=>Kp(await Vh(A),K)),()=>{L.su(),A.asyncQueue.enqueueAndForget(async()=>$p(await Vh(A),K))}}(sf(g),T,m,p)}function cg(i,e){return function(s,o){const u=new xr;return s.asyncQueue.enqueueAndForget(async()=>Dx(await Bx(s),o,u)),u.promise}(sf(i),e)}function mw(i,e,t){const s=t.docs.get(e._key),o=new ug(i);return new fw(i,o,e._key,s,new nu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ho=o})(Ia),Ta(new Cs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Vs(new JD(s.getProvider("auth-internal")),new nO(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ki(y0,_0,e),Ki(y0,_0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firebasestorage.googleapis.com",gw="storageBucket",uk=2*60*1e3,ck=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At extends Ji{constructor(e,t,s=0){super(Sm(e),`Firebase Storage: ${t} (${Sm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Sm(i){return"storage/"+i}function hg(){const i="An unknown error occurred, please check the error payload for server response.";return new At(wt.UNKNOWN,i)}function hk(i){return new At(wt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function fk(i){return new At(wt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dk(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(wt.UNAUTHENTICATED,i)}function mk(){return new At(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pk(i){return new At(wt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function gk(){return new At(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yk(){return new At(wt.CANCELED,"User canceled the upload/download.")}function _k(i){return new At(wt.INVALID_URL,"Invalid URL '"+i+"'.")}function vk(i){return new At(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function Ek(){return new At(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gw+"' property when initializing the app?")}function Tk(){return new At(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bk(){return new At(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wk(i){return new At(wt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ip(i){return new At(wt.INVALID_ARGUMENT,i)}function yw(){return new At(wt.APP_DELETED,"The Firebase app was deleted.")}function Ak(i){return new At(wt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lu(i,e){return new At(wt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Xl(i){throw new At(wt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=qn.makeFromUrl(e,t)}catch{return new qn(e,"")}if(s.path==="")return s;throw vk(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(ce){ce.path_=decodeURIComponent(ce.path)}const T="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${E}/${T}/b/${o}/o${A}`,"i"),M={bucket:1,path:3},$=t===pw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",K=new RegExp(`^https?://${$}/${o}/${L}`,"i"),W=[{regex:m,indices:p,postModify:u},{regex:O,indices:M,postModify:g},{regex:K,indices:{bucket:1,path:2},postModify:g}];for(let ce=0;ce<W.length;ce++){const ue=W[ce],ve=ue.regex.exec(e);if(ve){const k=ve[ue.indices.bucket];let R=ve[ue.indices.path];R||(R=""),s=new qn(k,R),ue.postModify(s);break}}if(s==null)throw _k(e);return s}}class Sk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(i,e,t){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function T(...L){g||(g=!0,e.apply(null,L))}function E(L){o=setTimeout(()=>{o=null,i(O,p())},L)}function A(){u&&clearTimeout(u)}function O(L,...K){if(g){A();return}if(L){A(),T.call(null,L,...K);return}if(p()||f){A(),T.call(null,L,...K);return}s<64&&(s*=2);let W;m===1?(m=2,W=0):W=(s+Math.random())*1e3,E(W)}let M=!1;function $(L){M||(M=!0,A(),!g&&(o!==null?(L||(m=2),clearTimeout(o),E(0)):L||(m=1)))}return E(0),u=setTimeout(()=>{f=!0,$(!0)},t),$}function Ik(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(i){return i!==void 0}function Dk(i){return typeof i=="object"&&!Array.isArray(i)}function fg(i){return typeof i=="string"||i instanceof String}function yE(i){return dg()&&i instanceof Blob}function dg(){return typeof Blob<"u"}function _E(i,e,t,s){if(s<e)throw ip(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw ip(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function _w(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var va;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(va||(va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t,s,o,u,f,m,p,g,T,E,A=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=E,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,M)=>{this.resolve_=O,this.reject_=M,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new nh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===va.NO_ERROR,p=u.getStatus();if(!m||Ok(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===va.ABORT;s(!1,new nh(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new nh(g,u))})},t=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Ck(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=hg();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?yw():yk();f(p)}else{const p=gk();f(p)}};this.canceled_?t(!1,new nh(!1,null,!0)):this.backoffId_=Rk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ik(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function xk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function kk(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Mk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Vk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Pk(i,e,t,s,o,u,f=!0){const m=_w(i.urlParams),p=i.url+m,g=Object.assign({},i.headers);return Mk(g,e),xk(g,t),kk(g,u),Vk(g,s),new Nk(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Uk(...i){const e=Lk();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(dg())return new Blob(i);throw new At(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zk(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(i){if(typeof atob>"u")throw wk("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rm{constructor(e,t){this.data=e,this.contentType=t||null}}function jk(i,e){switch(i){case Gi.RAW:return new Rm(vw(e));case Gi.BASE64:case Gi.BASE64URL:return new Rm(Ew(i,e));case Gi.DATA_URL:return new Rm(qk(e),Fk(e))}throw hg()}function vw(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++t);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Hk(i){let e;try{e=decodeURIComponent(i)}catch{throw lu(Gi.DATA_URL,"Malformed data URL.")}return vw(e)}function Ew(i,e){switch(i){case Gi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Gi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Bk(e)}catch(o){throw o.message.includes("polyfill")?o:lu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Tw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw lu(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=Gk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function qk(i){const e=new Tw(i);return e.base64?Ew(Gi.BASE64,e.rest):Hk(e.rest)}function Fk(i){return new Tw(i).contentType}function Gk(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t){let s=0,o="";yE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(yE(this.data_)){const s=this.data_,o=zk(s,e,t);return o===null?null:new bs(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new bs(s,!0)}}static getBlob(...e){if(dg()){const t=e.map(s=>s instanceof bs?s.data_:s);return new bs(Uk.apply(null,t))}else{const t=e.map(f=>fg(f)?jk(Gi.RAW,f).data:f.data_);let s=0;t.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new bs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(i){let e;try{e=JSON.parse(i)}catch{return null}return Dk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function $k(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function ww(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(i,e){return e}class bn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||Qk}}let ih=null;function Yk(i){return!fg(i)||i.length<2?i:ww(i)}function Aw(){if(ih)return ih;const i=[];i.push(new bn("bucket")),i.push(new bn("generation")),i.push(new bn("metageneration")),i.push(new bn("name","fullPath",!0));function e(u,f){return Yk(f)}const t=new bn("name");t.xform=e,i.push(t);function s(u,f){return f!==void 0?Number(f):f}const o=new bn("size");return o.xform=s,i.push(o),i.push(new bn("timeCreated")),i.push(new bn("updated")),i.push(new bn("md5Hash",null,!0)),i.push(new bn("cacheControl",null,!0)),i.push(new bn("contentDisposition",null,!0)),i.push(new bn("contentEncoding",null,!0)),i.push(new bn("contentLanguage",null,!0)),i.push(new bn("contentType",null,!0)),i.push(new bn("metadata","customMetadata",!0)),ih=i,ih}function Xk(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new qn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function Wk(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const f=t[u];s[f.local]=f.xform(s,e[f.server])}return Xk(s,i),s}function Sw(i,e,t){const s=bw(e);return s===null?null:Wk(i,s,t)}function Zk(i,e,t,s){const o=bw(e);if(o===null||!fg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const T=i.bucket,E=i.fullPath,A="/b/"+f(T)+"/o/"+f(E),O=mg(A,t,s),M=_w({alt:"media",token:g});return O+M})[0]}function Jk(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class Rw{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i){if(!i)throw hg()}function eM(i,e){function t(s,o){const u=Sw(i,o,e);return Iw(u!==null),u}return t}function tM(i,e){function t(s,o){const u=Sw(i,o,e);return Iw(u!==null),Zk(u,o,i.host,i._protocol)}return t}function Cw(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=mk():o=dk():t.getStatus()===402?o=fk(i.bucket):t.getStatus()===403?o=pk(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function nM(i){const e=Cw(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=hk(i.path)),u.serverResponse=o.serverResponse,u}return t}function iM(i,e,t){const s=e.fullServerUrl(),o=mg(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new Rw(o,u,tM(i,t),f);return m.errorHandler=nM(e),m}function rM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function sM(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=rM(null,e)),s}function aM(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let W="";for(let ce=0;ce<2;ce++)W=W+Math.random().toString().slice(2);return W}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const g=sM(e,s,o),T=Jk(g,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",O=bs.getBlob(E,s,A);if(O===null)throw Tk();const M={name:g.fullPath},$=mg(u,i.host,i._protocol),L="POST",K=i.maxUploadRetryTime,ie=new Rw($,L,eM(i,t),K);return ie.urlParams=M,ie.headers=f,ie.body=O.uploadData(),ie.errorHandler=Cw(e),ie}class oM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=va.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=va.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=va.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw Xl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lM extends oM{initXhr(){this.xhr_.responseType="text"}}function Dw(){return new lM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t){this._service=e,t instanceof qn?this._location=t:this._location=qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ra(e,t)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ww(this._location.path)}get storage(){return this._service}get parent(){const e=Kk(this._location.path);if(e===null)return null;const t=new qn(this._location.bucket,e);return new Ra(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Ak(e)}}function uM(i,e,t){i._throwIfRoot("uploadBytes");const s=aM(i.storage,i._location,Aw(),new bs(e,!0),t);return i.storage.makeRequestWithTokens(s,Dw).then(o=>({metadata:o,ref:i}))}function cM(i){i._throwIfRoot("getDownloadURL");const e=iM(i.storage,i._location,Aw());return i.storage.makeRequestWithTokens(e,Dw).then(t=>{if(t===null)throw bk();return t})}function hM(i,e){const t=$k(i._location.path,e),s=new qn(i._location.bucket,t);return new Ra(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(i){return/^[A-Za-z]+:\/\//.test(i)}function dM(i,e){return new Ra(i,e)}function Ow(i,e){if(i instanceof pg){const t=i;if(t._bucket==null)throw Ek();const s=new Ra(t,t._bucket);return e!=null?Ow(s,e):s}else return e!==void 0?hM(i,e):i}function mM(i,e){if(e&&fM(e)){if(i instanceof pg)return dM(i,e);throw ip("To use ref(service, url), the first argument must be a Storage instance.")}else return Ow(i,e)}function vE(i,e){const t=e==null?void 0:e[gw];return t==null?null:qn.makeFromBucketSpec(t,i)}function pM(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:WE(o,i.app.options.projectId))}class pg{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=pw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uk,this._maxUploadRetryTime=ck,this._requests=new Set,o!=null?this._bucket=qn.makeFromBucketSpec(o,this._host):this._bucket=vE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=vE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ra(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new Sk(yw());{const f=Pk(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const EE="@firebase/storage",TE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="storage";function hV(i,e,t){return i=yt(i),uM(i,e,t)}function fV(i){return i=yt(i),cM(i)}function dV(i,e){return i=yt(i),mM(i,e)}function gM(i=pp(),e){i=yt(i);const s=Bh(i,Nw).getImmediate({identifier:e}),o=QE("storage");return o&&yM(s,...o),s}function yM(i,e,t,s={}){pM(i,e,t,s)}function _M(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new pg(t,s,o,e,Ia)}function vM(){Ta(new Cs(Nw,_M,"PUBLIC").setMultipleInstances(!0)),Ki(EE,TE,""),Ki(EE,TE,"esm2017")}vM();const EM={apiKey:"AIzaSyC7X0-FNbdjpvriSxihbfyeLyTRNytu4vo",authDomain:"clubtoros-c8a29.firebaseapp.com",projectId:"clubtoros-c8a29",storageBucket:"clubtoros-c8a29.firebasestorage.app",messagingSenderId:"846887347766",appId:"1:846887347766:web:bff3f8f43645b6ac0c5a97",measurementId:"G-5S51N7ED37"},gg=eT(EM),yg=Gx(gg),rp=$D(gg),mV=gM(gg),TM=nw(yg,"usuarios"),bM=nw(yg,"roles"),wM=async i=>{try{const e=ik(TM,rk("uid","==",i)),t=await gE(e);if(t.empty)return console.log("No se encontró el usuario con UID:",i),null;const s=t.docs[0],o={id:s.id,...s.data()},m=(await gE(bM)).docs.reduce((p,g)=>{const{nombre:T,accesos:E,permisos:A}=g.data();return p[g.id]={nombre:T,accesos:(E==null?void 0:E.map(O=>O.value))||[],permisos:(A==null?void 0:A.map(O=>O.value))||[]},p},{})[o.rol_id];return{...o,rol:(m==null?void 0:m.nombre)||"Sin rol",accesos:(m==null?void 0:m.accesos)||[],permisos:(m==null?void 0:m.permisos)||[]}}catch{return null}},pV=async(i,e)=>{try{const t=iw(yg,"usuarios",i);await lk(t,e)}catch(t){console.error("Error al actualizar usuario:",t)}},ya=nI(i=>({user:null,isAuthenticated:null,setUser:async e=>{const t=await wM(e==null?void 0:e.uid);i({user:t,isAuthenticated:!!t})},login:async(e,t)=>{try{const s=await x2(rp,e,t);console.log(s);const o=s.user;await ya.getState().setUser(o),window.location.href="/"}catch(s){switch(console.log("Error al iniciar sesión:",s.code),s.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":$c.error("Correo o contraseña incorrectos.");break;case"auth/invalid-email":$c.error("El correo no es válido.");break;case"auth/too-many-requests":$c.error("Demasiados intentos fallidos. Intenta más tarde.");break;default:$c.error("Error al iniciar sesión. Intenta nuevamente.");break}}},logout:async()=>{try{await P2(rp),i({user:null,isAuthenticated:!1}),window.location.href="/login"}catch(e){console.error("Error al cerrar sesión:",e)}}}));V2(rp,i=>{ya.getState().setUser(i)});const uf=()=>{const i=ya(u=>u.user),e=ya(u=>u.setUser),t=ya(u=>u.isAuthenticated),s=ya(u=>u.login),o=ya(u=>u.logout);return{user:i,isAuthenticated:t,login:s,logout:o,setUser:e,accesos:i==null?void 0:i.accesos,permisos:i==null?void 0:i.permisos}},AM=({toggleSidebar:i,sidebarOpen:e})=>{const t=Ur(),[s,o]=H.useState({}),{accesos:u}=uf(),f=T=>{o(E=>({...E,[T]:!E[T]}))},m=T=>t.pathname===T?"bg-primary-dark":"hover:bg-primary-dark",p=T=>{if(T==="/")return!0;const E=T.replace("/","");return u==null?void 0:u.includes(E)},g=()=>{e&&i()};return G.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-56 bg-secondary text-white transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-auto lg:h-screen sidebar ${e?"translate-x-0":"-translate-x-full"}`,children:[G.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-primary-dark",children:[G.jsxs(Ro,{onClick:g,to:"/",className:"flex items-center",children:[G.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center mr-2",children:G.jsx("img",{src:W1,alt:"Logo de toros"})}),G.jsx("span",{className:"text-xl font-semibold",children:"Panel admin"})]}),G.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-primary-dark lg:hidden",children:G.jsx(X1,{size:20})})]}),G.jsx("nav",{className:"mt-5 px-2",children:G.jsx("div",{className:"space-y-1",children:Z1.map(T=>{if(T.path&&!p(T.path))return null;if(T.children){const E=T.children.filter(A=>p(A.path));return E.length===0?null:G.jsxs("div",{children:[G.jsxs("button",{onClick:()=>f(T.label),className:"cursor-pointer flex items-center w-full px-4 py-2 text-sm font-medium rounded-md text-white hover:bg-primary-dark transition-all",children:[T.Icon&&G.jsx(T.Icon,{className:"mr-3 h-5 w-5"}),T.label,s[T.label]?G.jsx(qE,{className:"ml-auto h-4 w-4"}):G.jsx(HE,{className:"ml-auto h-4 w-4"})]}),G.jsx("div",{className:`ml-6 mt-1 space-y-1 transition-all overflow-hidden ${s[T.label]?"max-h-60":"max-h-0"}`,children:E.map(A=>G.jsxs(Ro,{to:A.path,onClick:g,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md text-white text-shadow transition-all ${m(A.path)}`,children:[G.jsx(C1,{className:"h-5 w-5"}),A.label]},A.path))})]},T.label)}return G.jsxs(Ro,{to:T.path,onClick:g,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md text-white text-shadow transition-all ${m(T.path)}`,children:[T.Icon&&G.jsx(T.Icon,{className:"mr-3 h-5 w-5"}),T.label]},T.label)})})})]})},SM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAADFBMVEXFxcX////p6enW1tbAmiBwAAAFiElEQVR4AezAgQAAAACAoP2pF6kAAAAAAAAAAAAAAIDbu2MkvY0jiuMWWQoUmI50BB+BgRTpCAz4G6C8CJDrC3AEXGKPoMTlYA/gAJfwETawI8cuBs5Nk2KtvfiLW+gLfK9m+r3X82G653+JP/zjF8afP1S//y+An4/i51//AsB4aH+/QPD6EQAY/zwZwN8BAP50bh786KP4+VT+3fs4/noigEc+jnHeJrzxX+NWMDDh4g8+EXcnLcC9T8U5S/CdT8bcUeBEIrwBOiI8ki7Ba5+NrePgWUy89/nYyxQ8Iw3f+pWY4h1gb3eAW7sDTPEOsLc7wK1TIeDuDB+I/OA1QOUHv/dFsZQkhKkh4QlEfOULYz2nGj2/Nn1LmwR/86VxlCoAW6kCsHRGANx1RgCMo5Qh2EsZgrXNQZZShp5Liv7Il8eIc5C91EHY2hxk6bwYmNscZIReDBwtCdhbErC1JGBpScBcOgFMLQsZMQs5Whayd+UQsLYsZGlZyNyykKllISNmIUfAwifw8NXvTojAjGFrdYi11SGWVoeYWx1i6lmQCiEjFkKOVgjZ+xxIhZCtFULWHkCqxCw9gNQKmP9vNHzipdEPrRcxtVbAeDkAvve0iM2QozVD9hfjhp4YP/UrkJYDbD2AtBxgfSkAvvHEeNcDSAsilgtAWxIy91J8AXgZAJ5e33+4tuACcAG4AFwALgBXRXQB6AFcB5MXAuA6nl9/0Vx/011/1V5/1/dfTPJvRtdnu/zL6beeFO/7r+fXBYbrEkt/j+i6ytXfpuvvE/ZXOnsA/a3a/l5xf7O6v1t+Xe/vOyz6HpO8yyboM8o7rfJes77bru83THk48p7TvOs27zvOO6/73vO++z7l4cgnMPQzKPopHC0N9noSSz6LJp/Gk88jyicy5TOp6qlc+VyyfDJbPpuuns6XzyfMJzTmMyrrKZ35nNJ8Ums+q7af1tvPK+4nNodEnPKp3fnc8npyez67/qVP7+/fL8hfcMjfsOhf8cjfMclfcnn9+BkOnLECP8Q58OYeyJ40eoyF6Ee/En/JHlP6mIlRVXprF4BxtAvArV0AxtEuALd2ARhHuwDc2gVgHPX/hFv9fMBddjIGeKg/WCxlCsI46u+Ga5mCcJd+sIG9UkGAW32ZbApFAHhod4Bb3eo04h3god0BbiUHYApVCNjbHeBW+QDAXT4a7qg7r7e214057vg0QhkEHkoSwq0kIdydXw4/Q3H8hjYJ3vL0WConBJhCHQaOToeBrU0BljYFmEoVgHGUKgAPnREAt84IgLuqFgAYSUEOAHszDwuAtSkHAZhLGYIpdCLgKGUIHtocZG1zkLmUIRhxDnJU1RDA1uYga5uDzKUOwhTnIEfnxcDe5iBrcyQAYGlzkKkUYhhxDrKXQgxbSwLWUohhbknA1JKAEZOAvSUBW0sC1pYEzC0JmFoSMMJyCDhaFrK3JGDtyiFgaVnI3LKQqWUhI2YhR8tC9paFrC0LWVoWMrcsZGpZyIhZyNGykL2rSIGtlQHWVgZYWhlgbmWAqZUBRiwDHK0MsLcywNbKAGsOoNUhllaHmFsdYmp1iBHrEEerQ+w5gFYI2VodYm11iKXVIeYcQCuETK0QMmIh5MgBtELI3gohWyuErDmAVolZWiFkzgG0SszUKjGjfj6gVmKOVonZcwCtFbB9HQC+ozWDbz1bvGu9iKW1AuYcQOtFTLEX1GbIaFegN0OOHEBrhuw5gNYM2XIArRuz5gDacoB3bTnAEktxXQ4wfw0AvveM8b4tiJjSJOwLIsbXsAKeNeKCiOO3D+AVbUl0AfjGs8ZPbUnIdgFoa1LWC0BblfMuB9AeC1j6gqQE0J9LmC8AOYD2ZMb7i4bt2ZTpWoHfPoB7Tj2fXzT8N1X41vkq/QHOAAAAAElFTkSuQmCC",RM=({toggleSidebar:i})=>{const{user:e,logout:t}=uf(),[s,o]=H.useState(!1),u=()=>o(!s),f=()=>{u(),t()};return G.jsx("header",{className:"bg-white shadow-sm z-10",children:G.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[G.jsx("div",{className:"flex items-center",children:G.jsx("button",{onClick:i,className:"p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 lg:hidden",children:G.jsx(U1,{size:20})})}),G.jsxs("div",{className:"relative",children:[G.jsxs("button",{onClick:u,className:"flex items-center focus:outline-none cursor-pointer",children:[G.jsx("img",{className:"h-8 w-8 rounded-full object-cover",src:(e==null?void 0:e.file)||SM,alt:"Avatar"}),G.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900 hidden md:block",children:e?e.nombre_completo:"Usuario 1"}),s?G.jsx(qE,{className:"ml-1 h-4 w-4 text-gray-500"}):G.jsx(HE,{className:"ml-1 h-4 w-4 text-gray-500"})]}),s&&G.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg py-1 border z-50",children:[G.jsxs(Ro,{onClick:u,to:"/perfil",className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:[G.jsx(F1,{className:"h-4 w-4 mr-2"}),"Perfil"]}),G.jsxs("button",{onClick:f,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 cursor-pointer",children:[G.jsx(M1,{className:"h-4 w-4 mr-2"}),"Cerrar sesión"]})]})]})]})})};function bE(){return G.jsx("div",{className:"flex items-center justify-center overflow-hidden mt-10",children:G.jsx("div",{className:"loader"})})}const lt=({children:i,permiso:e})=>{const{accesos:t}=uf();return t!=null&&t.includes(e)?i:G.jsx(VE,{to:"/"})},IM=H.lazy(()=>Ze(()=>import("./UsersPage-akWlqJ5p.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),CM=H.lazy(()=>Ze(()=>import("./AdminPage-D6AjPtaG.js"),__vite__mapDeps([17,18,4,5,19,20,9,13,14,21,10,22,23]))),DM=H.lazy(()=>Ze(()=>import("./JugadoresPage-Bgi1Yz9x.js"),__vite__mapDeps([24,1,2,3,4,5,6,7,8,9,10,11,25,20,13,14,26,27,15,12,28,16,29,23]))),OM=H.lazy(()=>Ze(()=>import("./TemporadasPage-Dz0JeSL2.js"),__vite__mapDeps([30,1,2,3,4,5,6,7,8,9,10,11,12,27,16]))),NM=H.lazy(()=>Ze(()=>import("./CostosJugadorPage-BPa-f1Ar.js"),__vite__mapDeps([31,1,2,3,4,5,6,7,8,9,10,11,12,27,16]))),xM=H.lazy(()=>Ze(()=>import("./CostosPorristaPage-f9H2-6aZ.js"),__vite__mapDeps([32,1,2,3,4,5,6,7,8,9,10,11,12,27,16]))),kM=H.lazy(()=>Ze(()=>import("./CategoriasPage-BsA2SNlj.js"),__vite__mapDeps([33,1,2,3,4,5,6,7,8,9,10,11,12,27,16,28,34,19,35]))),MM=H.lazy(()=>Ze(()=>import("./PorristasPage-BvgEz85X.js"),__vite__mapDeps([36,1,2,3,4,5,6,7,8,9,10,11,12,25,18,13,14,26,15,27,28,16,29,23]))),VM=H.lazy(()=>Ze(()=>import("./PagosJugadoresPage-CitCfy5K.js"),__vite__mapDeps([37,1,2,3,4,5,6,7,8,9,10,11,12,38,39,40,20,27,41,28,16,42,22]))),PM=H.lazy(()=>Ze(()=>import("./PagosPorristasPage-BCwO0DyI.js"),__vite__mapDeps([43,1,2,3,4,5,6,7,8,9,10,11,12,28,16,39,40,18,27,42,22]))),LM=H.lazy(()=>Ze(()=>import("./RolesPage-Dekj87OC.js"),__vite__mapDeps([44,2,3,4,5,6,7,8,9,10,11,1,12,14,45,16]))),UM=H.lazy(()=>Ze(()=>import("./ModulosPage-BOwbs29X.js"),__vite__mapDeps([46,1,2,3,4,5,6,7,8,9,10,11,12,45,16]))),zM=H.lazy(()=>Ze(()=>import("./ProveedoresPage-C_vdUpYF.js"),__vite__mapDeps([47,2,3,4,5,6,35,15,28,1,16,7,8,9,10,11,12]))),BM=H.lazy(()=>Ze(()=>import("./CalendarioPagosPage-ChVEMfsD.js"),__vite__mapDeps([48,2,3,4,5,6,23,21,28,10,41,27,22,8,49]))),jM=H.lazy(()=>Ze(()=>import("./EquipamientoPage-BZew74i9.js"),__vite__mapDeps([50,1,2,3,4,5,6,7,8,9,10,11,12,25,51,38,39,40,28,16]))),HM=H.lazy(()=>Ze(()=>import("./ArticulosPage-BDpCr992.js"),__vite__mapDeps([52,2,3,4,5,6,7,8,9,10,11,1,12,15,16]))),qM=H.lazy(()=>Ze(()=>import("./OrdenCompraPage-6GG9slyI.js"),__vite__mapDeps([53,1,2,3,4,5,6,7,8,9,10,11,12,35,19,15,16,28,34,27]))),FM=H.lazy(()=>Ze(()=>import("./AlmacenPage-CsuBImEl.js"),__vite__mapDeps([54,1,2,3,4,5,6,7,8,9,10,11,12,51,15,16]))),GM=H.lazy(()=>Ze(()=>import("./CuentasPagarPage-DQdH3O7o.js"),__vite__mapDeps([55,7,4,8,2,3,5,6,9,10,11,51,56,1,16,28,34,19,27,35]))),KM=H.lazy(()=>Ze(()=>import("./ReportesPage-BCNPFnc3.js"),__vite__mapDeps([57,34,4,19,27,3,35]))),$M=H.lazy(()=>Ze(()=>import("./GastosPage-BaOSMXto.js"),__vite__mapDeps([58,1,2,3,4,5,6,7,8,9,10,11,12,35,19,15,16,28,34,27]))),QM=H.lazy(()=>Ze(()=>import("./ComprasPage-yGnOtNAP.js"),__vite__mapDeps([59,1,2,3,4,5,6,7,8,9,10,11,12,35,19,56,15,16,28,34,27]))),YM=H.lazy(()=>Ze(()=>import("./PerfilPage-BZ2E7Ulh.js"),__vite__mapDeps([60,26,11]))),XM=H.lazy(()=>Ze(()=>import("./BancosPage-Dripu6f2.js"),__vite__mapDeps([61,1,2,3,4,5,6,7,8,9,10,11,12,19,16,28,34,27,35]))),WM=H.lazy(()=>Ze(()=>import("./CajaPage-BMtCPDfY.js"),__vite__mapDeps([62,7,4,8,2,3,5,6,9,10,11,39,40,1]))),ZM=H.lazy(()=>Ze(()=>import("./HistorialPage-B8Ma-qO9.js"),__vite__mapDeps([63,7,4,8,2,3,5,6,9,10,11,40,12,28,34,19,27,35]))),JM=H.lazy(()=>Ze(()=>import("./AlertaPage-F1t0A-qg.js"),__vite__mapDeps([64,7,4,8,2,3,5,6,9,10,11,65,13,14,1,16,12]))),eV=H.lazy(()=>Ze(()=>import("./EnviarCorreoPage-jQHp-LBH.js"),__vite__mapDeps([66,28,2,3,4,5,6,65,13,14]))),tV=H.lazy(()=>Ze(()=>import("./LoginPage-Di57Kegk.js"),__vite__mapDeps([67,6])));function nV(){const{isAuthenticated:i}=uf(),[e,t]=H.useState(!1),s=()=>{t(!e)};return i===null?G.jsx(bE,{}):G.jsx(e1,{children:G.jsx(H.Suspense,{fallback:G.jsx(bE,{}),children:i?G.jsxs("div",{className:"flex h-screen bg-gray-100",children:[G.jsx(HS,{richColors:!0,position:"bottom-right"}),G.jsx(AM,{sidebarOpen:e,toggleSidebar:s}),G.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[G.jsx(RM,{toggleSidebar:s}),G.jsx("main",{className:"flex-1 overflow-auto p-4",children:G.jsxs(Lv,{children:[G.jsx(Ye,{index:!0,path:"/",element:G.jsx(CM,{})}),G.jsx(Ye,{path:"/jugadores",element:G.jsx(lt,{permiso:"jugadores",children:G.jsx(DM,{})})}),G.jsx(Ye,{path:"/porristas",element:G.jsx(lt,{permiso:"porristas",children:G.jsx(MM,{})})}),G.jsx(Ye,{path:"/proveedores",element:G.jsx(lt,{permiso:"proveedores",children:G.jsx(zM,{})})}),G.jsx(Ye,{path:"/bancos",element:G.jsx(lt,{permiso:"bancos",children:G.jsx(XM,{})})}),G.jsx(Ye,{path:"/utileria",element:G.jsx(lt,{permiso:"utileria",children:G.jsx(jM,{})})}),G.jsx(Ye,{path:"/temporadas",element:G.jsx(lt,{permiso:"temporadas",children:G.jsx(OM,{})})}),G.jsx(Ye,{path:"/categorias",element:G.jsx(lt,{permiso:"categorias",children:G.jsx(kM,{})})}),G.jsx(Ye,{path:"/costos-jugador",element:G.jsx(lt,{permiso:"costos-jugador",children:G.jsx(NM,{})})}),G.jsx(Ye,{path:"/costos-porrista",element:G.jsx(lt,{permiso:"costos-porrista",children:G.jsx(xM,{})})}),G.jsx(Ye,{path:"/pagos-jugadores",element:G.jsx(lt,{permiso:"pagos-jugadores",children:G.jsx(VM,{})})}),G.jsx(Ye,{path:"/pagos-porristas",element:G.jsx(lt,{permiso:"pagos-porristas",children:G.jsx(PM,{})})}),G.jsx(Ye,{path:"/calendario-pagos",element:G.jsx(lt,{permiso:"calendario-pagos",children:G.jsx(BM,{})})}),G.jsx(Ye,{path:"/caja",element:G.jsx(lt,{permiso:"caja",children:G.jsx(WM,{})})}),G.jsx(Ye,{path:"/historial",element:G.jsx(lt,{permiso:"historial",children:G.jsx(ZM,{})})}),G.jsx(Ye,{path:"/almacen",element:G.jsx(lt,{permiso:"almacen",children:G.jsx(FM,{})})}),G.jsx(Ye,{path:"/articulos",element:G.jsx(lt,{permiso:"articulos",children:G.jsx(HM,{})})}),G.jsx(Ye,{path:"/gastos",element:G.jsx(lt,{permiso:"gastos",children:G.jsx($M,{})})}),G.jsx(Ye,{path:"/compras",element:G.jsx(lt,{permiso:"compras",children:G.jsx(QM,{})})}),G.jsx(Ye,{path:"/orden-compras",element:G.jsx(lt,{permiso:"orden-compras",children:G.jsx(qM,{})})}),G.jsx(Ye,{path:"/cuentas-pagar",element:G.jsx(lt,{permiso:"cuentas-pagar",children:G.jsx(GM,{})})}),G.jsx(Ye,{path:"/correos",element:G.jsx(lt,{permiso:"correos",children:G.jsx(JM,{})})}),G.jsx(Ye,{path:"/enviar-correo",element:G.jsx(lt,{permiso:"enviar-correo",children:G.jsx(eV,{})})}),G.jsx(Ye,{path:"/usuarios",element:G.jsx(lt,{permiso:"usuarios",children:G.jsx(IM,{})})}),G.jsx(Ye,{path:"/roles",element:G.jsx(lt,{permiso:"roles",children:G.jsx(LM,{})})}),G.jsx(Ye,{path:"/modulos",element:G.jsx(lt,{permiso:"modulos",children:G.jsx(UM,{})})}),G.jsx(Ye,{path:"/reportes",element:G.jsx(lt,{permiso:"reportes",children:G.jsx(KM,{})})}),G.jsx(Ye,{path:"/perfil",element:G.jsx(YM,{})}),G.jsx(Ye,{path:"/login",element:G.jsx(VE,{to:"/"})})]})})]})]}):G.jsx(Lv,{children:G.jsx(Ye,{path:"*",element:G.jsx(tV,{})})})})})}hS.createRoot(document.getElementById("root")).render(G.jsx(nV,{}));export{hV as A,_1 as B,R1 as C,fV as D,wM as E,$D as F,Ur as G,bE as H,sV as I,rp as J,x2 as K,Ro as L,P1 as M,rV as N,mS as O,HS as P,W1 as Q,le as R,Ht as T,F1 as U,X1 as X,K1 as a,x1 as b,Vt as c,nw as d,yg as e,nI as f,wE as g,iw as h,lV as i,G as j,uV as k,pS as l,iV as m,oV as n,cV as o,gE as p,ik as q,H as r,uf as s,$c as t,lk as u,pV as v,rk as w,SM as x,dV as y,mV as z};
