import{f as g,t as d,j as s,r as j}from"./index-BBEn_SVL.js";import{B as C}from"./BaseTable-D3Icrcxb.js";import{u as l,a as u,I as y}from"./InputField-be6TBco1.js";import{l as f,r as h,c as b}from"./caja-CIBvB7Yt.js";import{B as x,a as S}from"./ButtonsModal-DTPgTePp.js";import"./dayjs.min-8lXlmZD7.js";import"./chevron-right-AWaKUqHA.js";import"./players-Ctxd4Kou.js";import"./es-CF7lCWqw.js";import"./square-pen-BhYtd8da.js";import"./eye-C0bU4jNc.js";import"./categorias-Dc-bfLah.js";import"./historial-BrbO5SRO.js";let m=null;const c=g((t,n)=>({caja:[],loading:!1,getDataCajas:async()=>(t({loading:!0}),new Promise((o,r)=>{try{m?o(n().caja):m=f(e=>{t({caja:e}),o(e)})}catch(e){console.error(e),r(e)}finally{t({loading:!1})}})),addCaja:async o=>{const r=async()=>{try{await b(o)}catch(e){console.error(e)}};d.promise(r(),{loading:"Creando registro...",success:"Registro creado correctamente",error:"Falló al crear el registro."})},deleteCaja:async o=>{const r=async()=>{try{await h(o)}catch(e){console.error(e)}};d.promise(r(),{loading:"Guardando pago...",success:"Pago guardado correctamente",error:"Falló al guardar."})}})),D=()=>{const t=l(a=>a.formData),n=l(a=>a.modalType),o=l(a=>a.closeModal),r=c(a=>a.loading),e=c(a=>a.caja),i=c(a=>a.getDataCajas),p=c(a=>a.deleteCaja);return{caja:e,loading:r,getDataCajas:i,handleSubmit:a=>{a.preventDefault(),n==="edit"&&p(t),o()}}},v=()=>{const{formData:t,handleInputChange:n}=u();return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:s.jsx(y,{type:"select",label:"¿La coordinadora entregó el pago?",name:"entregado",required:!0,value:t.entregado||"",opcSelect:[{label:"Selecciona una opción",value:""},{label:"SI",value:"SI"},{label:"NO",value:"NO"}],onChange:n,classInput:"md:col-span-6"})}),s.jsx(x,{})]})},F=[{key:"usuario",name:"Coordinadora"},{key:"nombre_seccion",name:"Jugador/Porrista"},{key:"concepto",name:"Concepto"},{key:"metodo_pago",name:"Método"},{key:"fecha",name:"Fecha recibido"},{key:"total",name:"Monto"}];function J(){const{modalType:t}=u(),{caja:n,loading:o,getDataCajas:r,handleSubmit:e}=D();return j.useEffect(()=>{(async()=>await r())()},[r]),s.jsxs("div",{className:"md:p-4 bg-gray-100",children:[s.jsx(C,{columns:F,data:n,title:"Caja",loading:o}),t==="edit"&&s.jsx(S,{handleSubmit:e,Inputs:s.jsx(v,{})})]})}export{J as default};
