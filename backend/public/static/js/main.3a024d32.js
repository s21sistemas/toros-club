(()=>{"use strict";var e={2103:(e,t,o)=>{e.exports=o.p+"static/media/TypoCollegeDemo.267ec2839c998d84b8cf.otf"},7119:(e,t,o)=>{var r=o(5862),a=o(374),n=o(3287),l=o(9915),s=o(7446),i=o(6109),c=o(7919),d=o(2777),u=o(5844),f=o(389),g=o(7641),m=o(7558),p=o(8567),x=o(4119),h=o(8378),j=o(2792),b=o(3567),y=o(422);j.preventAutoHideAsync();const C=f.default.create({container:{flex:1,backgroundColor:"#FFF",justifyContent:"center",alignItems:"center"},rectangle:{flexDirection:"row",width:"80%",height:400,borderRadius:10,overflow:"hidden"},leftColumn:{flex:1,backgroundColor:"#FBBE08",justifyContent:"center",alignItems:"center"},rightColumn:{flex:1,padding:20,justifyContent:"center"},welcomeText:{fontFamily:"MiFuente",fontSize:40,color:"#000",textAlign:"center",paddingBottom:20},input:{height:45,borderColor:"#DDD",borderWidth:1,borderRadius:22,marginBottom:20,paddingHorizontal:10},loginButton:{backgroundColor:"#FBBE08",padding:10,borderRadius:22,alignItems:"center",marginBottom:15,height:40},loginButtonText:{color:"#FFF",fontWeight:"bold",fontSize:18},linkText:{color:"#FBBE08",textAlign:"center",marginBottom:10},errorText:{color:"red",fontSize:12,marginBottom:10},image:{width:"80%",height:"80%"}}),T=({navigation:e})=>{const[t,r]=(0,a.useState)(""),[n,l]=(0,a.useState)(""),[s,f]=(0,a.useState)({correo:"",contrasena:""}),[T]=(0,h.useFonts)({MiFuente:o(2103)});if((0,a.useEffect)((()=>{T&&j.hideAsync()}),[T]),!T)return null;return(0,y.jsx)(g.default,{style:C.container,children:(0,y.jsxs)(i.default,{style:C.rectangle,children:[(0,y.jsx)(i.default,{style:C.leftColumn,children:(0,y.jsx)(p.default,{source:o(9718),style:C.image,resizeMode:"contain"})}),(0,y.jsxs)(i.default,{style:C.rightColumn,children:[(0,y.jsx)(c.default,{style:C.welcomeText,children:"Iniciar Sesi\xf3n"}),(0,y.jsx)(d.default,{style:C.input,placeholder:"Correo",placeholderTextColor:"#999",value:t,onChangeText:r,keyboardType:"email-address"}),s.correo?(0,y.jsx)(c.default,{style:C.errorText,children:s.correo}):null,(0,y.jsx)(d.default,{style:C.input,placeholder:"Contrase\xf1a",placeholderTextColor:"#999",value:n,onChangeText:l,secureTextEntry:!0}),s.contrasena?(0,y.jsx)(c.default,{style:C.errorText,children:s.contrasena}):null,(0,y.jsx)(u.default,{style:C.loginButton,onPress:async()=>{if((()=>{let e=!0;const o={correo:"",contrasena:""};return t.trim()?/\S+@\S+\.\S+/.test(t)||(o.correo="El correo no es v\xe1lido.",e=!1):(o.correo="El correo es obligatorio.",e=!1),n.trim()||(o.contrasena="La contrase\xf1a es obligatoria.",e=!1),f(o),e})())try{const o=await x.default.post("https://sistema.clubtoros.com/api/login",{correo:t,contrasena:n});if(o.data.token){await b.default.setItem("token",o.data.token);const{usuario:t}=o.data,{celular:r,correo:a,id:n,nombre_completo:l,ocupacion:s,rol:i}=t,c={celular:r,correo:a,id:n,nombre_completo:l,ocupacion:s,rol:i};await b.default.setItem("userData",JSON.stringify(c)),console.log("Datos del usuario guardados en AsyncStorage:",c),console.log("Rol del usuario que inicia sesi\xf3n: ",c.rol.permisos),console.log(o.data.token),e.replace("Home")}else m.default.alert("Error","No se recibi\xf3 un token v\xe1lido.")}catch(o){console.error("Error al iniciar sesi\xf3n:",o),m.default.alert("Error","Hubo un problema al iniciar sesi\xf3n. Por favor, intenta de nuevo.")}},children:(0,y.jsx)(c.default,{style:C.loginButtonText,children:"Iniciar Sesi\xf3n"})}),(0,y.jsx)(u.default,{onPress:()=>e.navigate("Register"),children:(0,y.jsx)(c.default,{style:C.linkText,children:"\xbfNo tienes una cuenta? Reg\xedstrate"})}),(0,y.jsx)(u.default,{onPress:()=>e.navigate("ForgotPassword"),children:(0,y.jsx)(c.default,{style:C.linkText,children:"\xbfOlvidaste tu contrase\xf1a?"})})]})]})})};var v=o(7496);const S=f.default.create({container:{flex:1,backgroundColor:"#FFF",justifyContent:"center",alignItems:"center"},rectangle:{flexDirection:"row",width:"80%",height:500,borderRadius:10,overflow:"hidden"},leftColumn:{flex:1,backgroundColor:"#FBBE08",justifyContent:"center",alignItems:"center"},rightColumn:{flex:1,padding:20,justifyContent:"center"},welcomeText:{fontFamily:"MiFuente",fontSize:40,color:"#000",textAlign:"center",paddingBottom:20},input:{height:40,borderColor:"#DDD",borderWidth:1,borderRadius:20,marginBottom:5,paddingHorizontal:10},loginButton:{backgroundColor:"#FBBE08",padding:10,borderRadius:20,alignItems:"center",marginBottom:15},loginButtonText:{color:"#FFF",fontWeight:"bold"},linkText:{color:"#FBBE08",textAlign:"center",marginBottom:10},errorText:{color:"red",fontSize:12,marginBottom:10},image:{width:"80%",height:"80%"}}),_=({navigation:e})=>{const[t,r]=(0,a.useState)(""),[n,l]=(0,a.useState)(""),[s,f]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[j,b]=(0,a.useState)({nombreCompleto:"",correo:"",telefono:"",ocupacion:""}),C=(e,t)=>{window.alert(`${e}\n${t}`)};return(0,y.jsx)(g.default,{style:S.container,children:(0,y.jsxs)(i.default,{style:S.rectangle,children:[(0,y.jsx)(i.default,{style:S.leftColumn,children:(0,y.jsx)(p.default,{source:o(9718),style:S.image,resizeMode:"contain"})}),(0,y.jsxs)(i.default,{style:S.rightColumn,children:[(0,y.jsx)(c.default,{style:S.welcomeText,children:"Registro"}),(0,y.jsx)(d.default,{style:S.input,placeholder:"Nombre Completo",placeholderTextColor:"#999",value:t,onChangeText:r}),j.nombreCompleto?(0,y.jsx)(c.default,{style:S.errorText,children:j.nombreCompleto}):null,(0,y.jsx)(d.default,{style:S.input,placeholder:"Correo",placeholderTextColor:"#999",value:n,onChangeText:l,keyboardType:"email-address"}),j.correo?(0,y.jsx)(c.default,{style:S.errorText,children:j.correo}):null,(0,y.jsx)(d.default,{style:S.input,placeholder:"Tel\xe9fono",placeholderTextColor:"#999",value:s,onChangeText:f,keyboardType:"phone-pad"}),j.telefono?(0,y.jsx)(c.default,{style:S.errorText,children:j.telefono}):null,(0,y.jsx)(d.default,{style:S.input,placeholder:"Ocupaci\xf3n",placeholderTextColor:"#999",value:m,onChangeText:h}),j.ocupacion?(0,y.jsx)(c.default,{style:S.errorText,children:j.ocupacion}):null,(0,y.jsx)(v.default,{style:S.loginButton,onPress:async()=>{if((()=>{let e=!0;const o={nombreCompleto:"",correo:"",telefono:"",ocupacion:""};return t.trim()||(o.nombreCompleto="El nombre completo es obligatorio.",e=!1),n.trim()?/\S+@\S+\.\S+/.test(n)||(o.correo="El correo no es v\xe1lido.",e=!1):(o.correo="El correo es obligatorio.",e=!1),s.trim()?/^\d{10}$/.test(s)||(o.telefono="El tel\xe9fono debe tener 10 d\xedgitos.",e=!1):(o.telefono="El tel\xe9fono es obligatorio.",e=!1),m.trim()||(o.ocupacion="La ocupaci\xf3n es obligatoria.",e=!1),b(o),e})())try{const o={nombre_completo:t,correo:n,celular:s,ocupacion:m},r=await x.default.post("https://sistema.clubtoros.com/api/registro",o);201===r.status?(C("\xc9xito","Usuario registrado correctamente."),e.navigate("Login")):C("Error",r.data.message||"Error al registrar el usuario.")}catch(o){if(console.error("Error al registrar el usuario:",o),o.response&&422===o.response.status){const e=o.response.data;C("Error de Validaci\xf3n",e.message||JSON.stringify(e))}else C("Error","Error al registrar el usuario. Por favor, int\xe9ntalo de nuevo.")}},children:(0,y.jsx)(c.default,{style:S.loginButtonText,children:"Registrarse"})}),(0,y.jsx)(u.default,{onPress:()=>e.navigate("Login"),children:(0,y.jsx)(c.default,{style:S.linkText,children:"\xbfYa tienes una cuenta? Inicia Sesi\xf3n"})})]})]})})},w=f.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#FFF"},text:{fontSize:24}}),k=()=>(0,y.jsx)(i.default,{style:w.container,children:(0,y.jsx)(c.default,{style:w.text,children:"Pantalla de olvide contrase\xf1a"})});var F=o(3777),P=o(9432),B=o(8644),D=o(1406),I=o(6428),E=(o(8339),o(5253));const R=({formData:e,setFormData:t,errors:o,onNext:r})=>(0,y.jsxs)(i.default,{style:L.formContainer,children:[(0,y.jsx)(c.default,{style:L.title,children:"\xbfRegistrar\xe1s a un hombre o mujer?"}),(0,y.jsxs)(D.Picker,{selectedValue:e.sexo,onValueChange:o=>t(Object.assign({},e,{sexo:o})),style:L.picker,children:[(0,y.jsx)(D.Picker.Item,{label:"Selecciona un g\xe9nero",value:""}),(0,y.jsx)(D.Picker.Item,{label:"Hombre",value:"hombre"}),(0,y.jsx)(D.Picker.Item,{label:"Mujer",value:"mujer"})]}),o.sexo&&(0,y.jsx)(c.default,{style:L.errorText,children:o.sexo}),(0,y.jsx)(u.default,{style:L.button,onPress:r,children:(0,y.jsx)(c.default,{style:L.buttonText,children:"Continuar"})})]}),O=({formData:e,setFormData:t,errors:o,onNext:r})=>(0,y.jsxs)(i.default,{style:L.formContainer,children:[(0,y.jsx)(c.default,{style:L.title,children:"Tipo de Inscripci\xf3n"}),(0,y.jsxs)(D.Picker,{selectedValue:e.tipo_inscripcion,onValueChange:o=>t(Object.assign({},e,{tipo_inscripcion:o})),style:L.picker,children:[(0,y.jsx)(D.Picker.Item,{label:"Selecciona un tipo de inscripci\xf3n",value:""}),(0,y.jsx)(D.Picker.Item,{label:"Novato",value:"novato"}),(0,y.jsx)(D.Picker.Item,{label:"Reinscripci\xf3n",value:"reinscripcion"}),(0,y.jsx)(D.Picker.Item,{label:"Transferencia",value:"transferencia"}),(0,y.jsx)(D.Picker.Item,{label:"Porrista",value:"porrista"})]}),o.tipo_inscripcion&&(0,y.jsx)(c.default,{style:L.errorText,children:o.tipo_inscripcion}),(0,y.jsx)(u.default,{style:L.button,onPress:r,children:(0,y.jsx)(c.default,{style:L.buttonText,children:"Continuar"})})]}),N=({formData:e,setFormData:t,errors:o,onNext:r})=>{const[n,l]=(0,a.useState)(new Date),[s,f]=(0,a.useState)(!1);return(0,y.jsxs)(i.default,{style:L.formContainer,children:[(0,y.jsx)(c.default,{style:L.title,children:"Datos Personales"}),(0,y.jsx)(d.default,{style:L.input,placeholder:"Nombre",value:e.nombre,onChangeText:o=>t(Object.assign({},e,{nombre:o}))}),o.nombre&&(0,y.jsx)(c.default,{style:L.errorText,children:o.nombre}),(0,y.jsx)(d.default,{style:L.input,placeholder:"Apellido Paterno",value:e.apellido_p,onChangeText:o=>t(Object.assign({},e,{apellido_p:o}))}),o.apellido_p&&(0,y.jsx)(c.default,{style:L.errorText,children:o.apellido_p}),(0,y.jsx)(d.default,{style:L.input,placeholder:"Apellido Materno",value:e.apellido_m,onChangeText:o=>t(Object.assign({},e,{apellido_m:o}))}),o.apellido_m&&(0,y.jsx)(c.default,{style:L.errorText,children:o.apellido_m}),(0,y.jsx)(c.default,{children:"Selecciona una fecha:"}),!1,(0,y.jsx)("input",{type:"date",value:n.toISOString().split("T")[0],onChange:o=>{l(new Date(o.target.value)),t(Object.assign({},e,{fecha_nacimiento:n}))},style:L.webInput}),(0,y.jsxs)(c.default,{style:L.selectedDate,children:["Fecha seleccionada: ",n.toLocaleDateString()]}),o.fecha_nacimiento&&(0,y.jsx)(c.default,{style:L.errorText,children:o.fecha_nacimiento}),(0,y.jsx)(d.default,{style:L.input,placeholder:"Lugar de Nacimiento",value:e.lugar_nacimiento,onChangeText:o=>t(Object.assign({},e,{lugar_nacimiento:o}))}),o.lugar_nacimiento&&(0,y.jsx)(c.default,{style:L.errorText,children:o.lugar_nacimiento}),(0,y.jsx)(d.default,{style:L.input,placeholder:"CURP (EN MAYUSCULAS)",value:e.curp,onChangeText:o=>t(Object.assign({},e,{curp:o}))}),o.curp&&(0,y.jsx)(c.default,{style:L.errorText,children:o.curp}),(0,y.jsx)(u.default,{onPress:()=>B.default.openURL("https://www.gob.mx/curp/"),style:L.linkContainer,children:(0,y.jsx)(c.default,{style:L.linkText,children:"\xbfNo sabes tu CURP? Cons\xfaltala aqu\xed"})}),(0,y.jsx)(u.default,{style:L.button,onPress:r,children:(0,y.jsx)(c.default,{style:L.buttonText,children:"Continuar"})})]})},z=({formData:e,setFormData:t,errors:o,onNext:r})=>(0,y.jsxs)(i.default,{style:L.formContainer,children:[(0,y.jsx)(c.default,{style:L.title,children:"Datos de Contacto"}),(0,y.jsx)(d.default,{style:L.input,placeholder:"Direcci\xf3n",value:e.direccion,onChangeText:o=>t(Object.assign({},e,{direccion:o}))}),o.direccion&&(0,y.jsx)(c.default,{style:L.errorText,children:o.direccion}),(0,y.jsx)(d.default,{style:L.input,placeholder:"Tel\xe9fono",value:e.telefono,onChangeText:o=>t(Object.assign({},e,{telefono:o})),keyboardType:"phone-pad"}),o.telefono&&(0,y.jsx)(c.default,{style:L.errorText,children:o.telefono}),(0,y.jsx)(u.default,{style:L.button,onPress:r,children:(0,y.jsx)(c.default,{style:L.buttonText,children:"Continuar"})})]}),A=({formData:e,setFormData:t,errors:o,onNext:r})=>(0,y.jsxs)(i.default,{style:L.formContainer,children:[(0,y.jsx)(c.default,{style:L.title,children:"Datos Escolares y M\xe9dicos"}),(0,y.jsxs)(D.Picker,{selectedValue:e.grado_escolar,onValueChange:o=>t(Object.assign({},e,{grado_escolar:o})),style:L.picker,children:[(0,y.jsx)(D.Picker.Item,{label:"Selecciona el grado escolar",value:""}),(0,y.jsx)(D.Picker.Item,{label:"Primaria",value:"primaria"}),(0,y.jsx)(D.Picker.Item,{label:"Secundaria",value:"secundaria"}),(0,y.jsx)(D.Picker.Item,{label:"Preparatoria",value:"preparatoria"})]}),o.grado_escolar&&(0,y.jsx)(c.default,{style:L.errorText,children:o.grado_escolar}),(0,y.jsx)(d.default,{style:L.input,placeholder:"Nombre de la Escuela",value:e.nombre_escuela,onChangeText:o=>t(Object.assign({},e,{nombre_escuela:o}))}),o.nombre_escuela&&(0,y.jsx)(c.default,{style:L.errorText,children:o.nombre_escuela}),(0,y.jsx)(d.default,{style:L.input,placeholder:"Alergias",value:e.alergias,onChangeText:o=>t(Object.assign({},e,{alergias:o}))}),o.alergias&&(0,y.jsx)(c.default,{style:L.errorText,children:o.alergias}),(0,y.jsx)(d.default,{style:L.input,placeholder:"Padecimientos",value:e.padecimientos,onChangeText:o=>t(Object.assign({},e,{padecimientos:o}))}),o.padecimientos&&(0,y.jsx)(c.default,{style:L.errorText,children:o.padecimientos}),(0,y.jsx)(d.default,{style:L.input,placeholder:"Peso (kg)",value:e.peso,onChangeText:o=>t(Object.assign({},e,{peso:o})),keyboardType:"numeric"}),o.peso&&(0,y.jsx)(c.default,{style:L.errorText,children:o.peso}),(0,y.jsx)(u.default,{style:L.button,onPress:r,children:(0,y.jsx)(c.default,{style:L.buttonText,children:"Continuar"})})]}),M=({formData:e,setFormData:t,errors:o,onSubmit:r})=>{const[n,l]=(0,a.useState)([]),[s,d]=(0,a.useState)([]),[f,g]=(0,a.useState)(!1),[x,h]=(0,a.useState)(null),[j,b]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{const e=await I.requestCameraPermissionsAsync(),t=await I.requestMediaLibraryPermissionsAsync();h("granted"===e.status),b("granted"===t.status)})()}),[]);const C=P.default.create({onStartShouldSetPanResponder:()=>!0,onMoveShouldSetPanResponder:()=>!0,onPanResponderGrant:(e,t)=>{const{locationX:o,locationY:r}=e.nativeEvent;g(!0),d([{x:o,y:r}])},onPanResponderMove:(e,t)=>{if(!f)return;const{locationX:o,locationY:r}=e.nativeEvent;d((e=>[...e,{x:o,y:r}]))},onPanResponderRelease:()=>{g(!1),l((e=>[...e,s])),d([])}}),T=e=>0===e.length?"":e.map(((e,t)=>`${0===t?"M":"L"} ${e.x} ${e.y}`)).join(" ");return(0,y.jsxs)(i.default,{style:L.formContainer,children:[(0,y.jsx)(c.default,{style:L.title,children:"Firma y Foto"}),(0,y.jsx)(i.default,Object.assign({style:L.signatureContainer},C.panHandlers,{children:(0,y.jsxs)(E.default,{style:L.canvas,children:[n.map(((e,t)=>(0,y.jsx)(E.Path,{d:T(e),stroke:"black",strokeWidth:3,fill:"none"},t))),(0,y.jsx)(E.Path,{d:T(s),stroke:"black",strokeWidth:3,fill:"none"})]})})),(0,y.jsx)(u.default,{style:L.button,onPress:()=>{l([]),d([])},children:(0,y.jsx)(c.default,{style:L.buttonText,children:"Limpiar"})}),(0,y.jsx)(u.default,{style:L.button,onPress:async()=>{t(Object.assign({},e,{firma:n})),m.default.alert("Firma guardada","La firma se ha guardado correctamente.")},children:(0,y.jsx)(c.default,{style:L.buttonText,children:"Guardar Firma"})}),o.firma&&(0,y.jsx)(c.default,{style:L.errorText,children:o.firma}),(0,y.jsx)(u.default,{style:L.button,onPress:async()=>{if(!x)return void m.default.alert("Permisos denegados","Necesitas permitir el acceso a la c\xe1mara para tomar una foto.");const o=await I.launchCameraAsync({allowsEditing:!0,aspect:[4,3],quality:.3});console.log("Resultado de la c\xe1mara:",o),o.canceled||t(Object.assign({},e,{foto_jugador:o.assets[0].uri}))},children:(0,y.jsx)(c.default,{style:L.buttonText,children:"Tomar Foto del jugador"})}),(0,y.jsx)(u.default,{style:L.button,onPress:async()=>{if(!j)return void m.default.alert("Permisos denegados","Necesitas permitir el acceso a la galer\xeda para seleccionar una imagen.");const o=await I.launchImageLibraryAsync({allowsEditing:!0,aspect:[4,3],quality:.2});console.log("Resultado de la galer\xeda:",o),o.canceled||t(Object.assign({},e,{foto_jugador:o.assets[0].uri}))},children:(0,y.jsx)(c.default,{style:L.buttonText,children:"Seleccionar Foto de la Galer\xeda"})}),e.foto_jugador&&(0,y.jsx)(p.default,{source:{uri:e.foto_jugador},style:L.imagePreview}),o.foto_jugador&&(0,y.jsx)(c.default,{style:L.errorText,children:o.foto_jugador}),e.foto_jugador&&(0,y.jsx)(p.default,{source:{uri:e.foto_jugador},style:L.imagePreview}),(0,y.jsx)(u.default,{style:L.button,onPress:r,children:(0,y.jsx)(c.default,{style:L.buttonText,children:"Terminar Registro"})})]})},L=f.default.create({container:{flex:1,backgroundColor:"#f5f5f5",padding:20},containerpicker:{flex:1,backgroundColor:"#fff",height:120},formContainer:{backgroundColor:"#fff",borderRadius:10,padding:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:5,elevation:3},title:{fontSize:18,fontWeight:"bold",marginBottom:20},input:{borderWidth:1,borderColor:"#ccc",borderRadius:5,padding:10,marginBottom:15,backgroundColor:"#f9f9f9",width:"100%"},picker:{borderWidth:1,borderColor:"#ccc",borderRadius:5,marginBottom:15,backgroundColor:"#f9f9f9",width:"100%"},button:{backgroundColor:"#FBBE08",padding:15,borderRadius:25,alignItems:"center",marginTop:20},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16},errorText:{color:"red",marginBottom:10},backButton:{position:"absolute",bottom:20,left:20,backgroundColor:"#ccc",padding:10,borderRadius:5},backButtonText:{color:"#fff",fontWeight:"bold"},signatureContainer:{height:200,borderWidth:1,borderColor:"#000",marginBottom:20},canvas:{flex:1},linkText:{color:"#007BFF",textDecorationLine:"underline",marginBottom:15},linkContainer:{alignSelf:"flex-start",flexWrap:"wrap"},selectedDate:{marginTop:20,fontSize:16,paddingBottom:20}}),W=({navigation:e})=>{const[t,o]=(0,a.useState)(0),[r,n]=(0,a.useState)({nombre:"",apellido_p:"",apellido_m:"",sexo:"",direccion:"",telefono:"",fecha_nacimiento:new Date,lugar_nacimiento:"",curp:"",grado_escolar:"",nombre_escuela:"",alergias:"",padecimientos:"",peso:"",tipo_inscripcion:"",foto_jugador:null,firma:null}),[l,s]=(0,a.useState)({}),d=(0,a.useRef)(new F.default.Value(1)).current,[f,g]=(0,a.useState)([]),p=((0,a.useRef)(null),["GeneroForm","TipoInscripcionForm","DatosPersonalesForm","DatosContactoForm","DatosEscolaresMedicosForm","FirmaFotoForm"]),h=()=>{const e={};switch(p[t]){case"GeneroForm":r.sexo||(e.sexo="Selecciona un g\xe9nero");break;case"TipoInscripcionForm":r.tipo_inscripcion||(e.tipo_inscripcion="Selecciona un tipo de inscripci\xf3n");break;case"DatosPersonalesForm":r.nombre||(e.nombre="Ingresa el nombre"),r.apellido_p||(e.apellido_p="Ingresa el apellido paterno"),r.apellido_m||(e.apellido_m="Ingresa el apellido materno"),r.fecha_nacimiento||(e.fecha_nacimiento="Ingresa la fecha de nacimiento"),r.lugar_nacimiento||(e.lugar_nacimiento="Ingresa el lugar de nacimiento"),r.curp?/^[A-Z]{4}\d{6}[HM][A-Z]{5}[A-Z\d]\d$/.test(r.curp)||(e.curp="La CURP no es v\xe1lida"):e.curp="Ingresa la CURP";break;case"DatosContactoForm":r.direccion||(e.direccion="Ingresa la direcci\xf3n"),r.telefono||(e.telefono="Ingresa el tel\xe9fono");break;case"DatosEscolaresMedicosForm":r.grado_escolar||(e.grado_escolar="Selecciona el grado escolar"),r.nombre_escuela||(e.nombre_escuela="Ingresa el nombre de la escuela"),r.peso||(e.peso="Ingresa el peso");break;case"FirmaFotoForm":r.foto_jugador||(e.foto_jugador="Sube la foto del jugador")}return s(e),0===Object.keys(e).length},j=()=>{h()&&F.default.timing(d,{toValue:0,duration:300,useNativeDriver:!0}).start((()=>{o((e=>e+1)),F.default.timing(d,{toValue:1,duration:300,useNativeDriver:!0}).start()}))},C=async()=>{if(h()){const o=await(async()=>{try{return await b.default.getItem("token")}catch(e){return console.error("Error al obtener el token:",e),null}})();try{const t=new FormData;t.append("nombre",r.nombre),t.append("apellido_p",r.apellido_p),t.append("apellido_m",r.apellido_m),t.append("sexo",r.sexo),t.append("direccion",r.direccion),t.append("telefono",r.telefono),t.append("fecha_nacimiento",r.fecha_nacimiento),t.append("lugar_nacimiento",r.lugar_nacimiento),t.append("curp",r.curp),t.append("grado_escolar",r.grado_escolar),t.append("nombre_escuela",r.nombre_escuela),t.append("alergias",r.alergias),t.append("padecimientos",r.padecimientos),t.append("peso",r.peso),t.append("tipo_inscripcion",r.tipo_inscripcion),t.append("foto_jugador",null);const a={nombre:r.nombre,apellido_p:r.apellido_p,apellido_m:r.apellido_m,sexo:r.sexo,direccion:r.direccion,telefono:r.telefono,fecha_nacimiento:r.fecha_nacimiento.toISOString(),lugar_nacimiento:r.lugar_nacimiento,curp:r.curp,grado_escolar:r.grado_escolar,nombre_escuela:r.nombre_escuela,alergias:r.alergias,padecimientos:r.padecimientos,peso:r.peso,tipo_inscripcion:r.tipo_inscripcion,foto_jugador:r.foto_jugador};if(console.log(t),await b.default.setItem("registro",JSON.stringify(a)),console.log("dedpues del ussr data"),r.foto_jugador){r.foto_jugador;console.log("sali del if"),console.log(t)}201===(await x.default.post("https://sistema.clubtoros.com/api/registro-jugadores",t,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${o}`}})).status&&(m.default.alert("\xc9xito","Registro completado correctamente"),e.navigate("MainTabs"))}catch(t){console.error("Error al enviar el formulario:",t),t.response?(console.error("Respuesta del servidor:",t.response.data),console.error("Mensaje de error:",t.response.data.message),m.default.alert("Error",t.response.data.message||"No se pudo completar el registro")):t.request?(console.error("No se recibi\xf3 respuesta del servidor:",t.request),m.default.alert("Error","No se recibi\xf3 respuesta del servidor")):(console.error("Error en la configuraci\xf3n de la solicitud:",t.message),m.default.alert("Error","Error en la configuraci\xf3n de la solicitud")),m.default.alert("Error","No se pudo completar el registro")}}};return(0,y.jsxs)(i.default,{style:L.container,children:[(0,y.jsx)(F.default.View,{style:{opacity:d,flex:1},children:(()=>{switch(p[t]){case"GeneroForm":return(0,y.jsx)(R,{formData:r,setFormData:n,errors:l,onNext:j});case"TipoInscripcionForm":return(0,y.jsx)(O,{formData:r,setFormData:n,errors:l,onNext:j});case"DatosPersonalesForm":return(0,y.jsx)(N,{formData:r,setFormData:n,errors:l,onNext:j});case"DatosContactoForm":return(0,y.jsx)(z,{formData:r,setFormData:n,errors:l,onNext:j});case"DatosEscolaresMedicosForm":return(0,y.jsx)(A,{formData:r,setFormData:n,errors:l,onNext:j});case"FirmaFotoForm":return(0,y.jsx)(M,{formData:r,setFormData:n,errors:l,onSubmit:C});default:return null}})()}),t>0&&(0,y.jsx)(u.default,{style:L.backButton,onPress:()=>{F.default.timing(d,{toValue:0,duration:300,useNativeDriver:!0}).start((()=>{o((e=>e-1)),F.default.timing(d,{toValue:1,duration:300,useNativeDriver:!0}).start()}))},children:(0,y.jsx)(c.default,{style:L.backButtonText,children:"Atr\xe1s"})})]})};var V=o(5662),q=o(8584),U=o(8966);const H=f.default.create({container:{flex:1,backgroundColor:"#f5f5f5",padding:20},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20},headerText:{fontSize:20,fontWeight:"bold",color:"#333"},menu:{position:"absolute",top:50,right:20,backgroundColor:"#fff",borderRadius:5,padding:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:5,elevation:3,zIndex:1},menuItem:{padding:10},menuText:{fontSize:16,color:"#333"},sectionTitle:{fontSize:18,fontWeight:"bold",marginBottom:10,color:"#333"},scrollView:{flex:1},card:{flexDirection:"row",backgroundColor:"#fff",borderRadius:10,padding:15,marginBottom:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:5,elevation:3},cardImage:{width:80,height:80,borderRadius:40,marginRight:15},cardContent:{justifyContent:"center"},cardText:{fontSize:16,color:"#555",marginBottom:5},addButton:{position:"absolute",bottom:20,right:20,backgroundColor:"#FBBE08",width:60,height:60,borderRadius:30,justifyContent:"center",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:5,elevation:3},errorText:{color:"red",fontSize:16,marginBottom:20},button:{backgroundColor:"#FBBE08",padding:15,borderRadius:25,alignItems:"center",marginTop:20,width:"100%"},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16}}),$=({navigation:e})=>{const[t,o]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[l,s]=(0,a.useState)(null),[d,f]=(0,a.useState)(!1),g=async()=>{try{const e=await(async()=>{try{const e=await b.default.getItem("registro");return console.log("Datos de registro desde AsyncStorage:",e),e}catch(l){return console.error("Error al obtener el token:",l),null}})();if(e){const t=JSON.parse(e);o(t),console.log("Datos de registro parseados:",t)}else s("No se encontraron datos en AsyncStorage.")}catch(l){console.error("Error al obtener la info del usuario:",l),s("Error al cargar los datos. Int\xe9ntalo de nuevo.")}finally{n(!1)}};return(0,a.useEffect)((()=>{g()}),[]),r?(0,y.jsxs)(i.default,{style:H.container,children:[(0,y.jsx)(V.default,{size:"large",color:"#FBBE08"}),(0,y.jsx)(c.default,{children:"Cargando datos del usuario..."})]}):l?(0,y.jsxs)(i.default,{style:H.container,children:[(0,y.jsx)(c.default,{style:H.errorText,children:l}),(0,y.jsx)(u.default,{style:H.button,onPress:g,children:(0,y.jsx)(c.default,{style:H.buttonText,children:"Reintentar"})})]}):t?(0,y.jsxs)(i.default,{style:H.container,children:[(0,y.jsxs)(i.default,{style:H.header,children:[(0,y.jsx)(c.default,{style:H.headerText,children:"Nombre de Usuario"}),(0,y.jsx)(u.default,{onPress:()=>f(!d),children:(0,y.jsx)(U.default,{name:"person-circle",size:32,color:"#333"})})]}),d&&(0,y.jsxs)(i.default,{style:H.menu,children:[(0,y.jsx)(u.default,{style:H.menuItem,onPress:()=>{f(!1),e.navigate("EditarPerfil")},children:(0,y.jsx)(c.default,{style:H.menuText,children:"Editar Perfil"})}),(0,y.jsx)(u.default,{style:H.menuItem,onPress:()=>{f(!1),e.navigate("Login")},children:(0,y.jsx)(c.default,{style:H.menuText,children:"Cerrar Sesi\xf3n"})})]}),(0,y.jsx)(c.default,{style:H.sectionTitle,children:"Jugadores Registrados"}),(0,y.jsx)(q.default,{style:H.scrollView,children:(0,y.jsxs)(i.default,{style:H.card,children:[(0,y.jsx)(p.default,{source:{uri:t.foto_jugador},style:H.cardImage}),(0,y.jsxs)(i.default,{style:H.cardContent,children:[(0,y.jsxs)(c.default,{style:H.cardText,children:[t.nombre," ",t.apellido_p," ",t.apellido_m]}),(0,y.jsxs)(c.default,{style:H.cardText,children:["CURP: ",t.curp]}),(0,y.jsxs)(c.default,{style:H.cardText,children:["Tel\xe9fono: ",t.telefono]})]})]})}),(0,y.jsx)(u.default,{style:H.addButton,onPress:()=>e.navigate("RegistrarJugador"),children:(0,y.jsx)(U.default,{name:"add",size:32,color:"#fff"})})]}):(0,y.jsx)(i.default,{style:H.container,children:(0,y.jsx)(c.default,{children:"No se encontraron datos del usuario."})})},G=f.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5"},title:{fontSize:24,fontWeight:"bold",marginBottom:20}}),J=()=>(0,y.jsxs)(i.default,{style:G.container,children:[(0,y.jsx)(c.default,{style:G.title,children:"Pagos"}),(0,y.jsx)(c.default,{children:"Aqu\xed puedes gestionar tus pagos."})]}),Y=f.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5"},title:{fontSize:24,fontWeight:"bold",marginBottom:20}}),Z=()=>(0,y.jsxs)(i.default,{style:Y.container,children:[(0,y.jsx)(c.default,{style:Y.title,children:"Equipamiento"}),(0,y.jsx)(c.default,{children:"Aqu\xed podr\xe1s gestionar tu equipamiento espera nuestras proximas actualizaciones."})]}),X=(0,l.createStackNavigator)(),K=(0,s.createBottomTabNavigator)(),Q=()=>(0,y.jsxs)(K.Navigator,{screenOptions:({route:e})=>({tabBarIcon:({focused:t,color:o,size:r})=>{let a;return"Perfil"===e.name?a=t?"person":"person-outline":"Pagos"===e.name?a=t?"wallet":"wallet-outline":"Equipamiento"===e.name&&(a=t?"shirt":"shirt-outline"),(0,y.jsx)(U.default,{name:a,size:r,color:o})},tabBarActiveTintColor:"#FBBE08",tabBarInactiveTintColor:"gray",tabBarStyle:{backgroundColor:"#fff"}}),children:[(0,y.jsx)(K.Screen,{name:"Perfil",component:$}),(0,y.jsx)(K.Screen,{name:"Pagos",component:J}),(0,y.jsx)(K.Screen,{name:"Equipamiento",component:Z})]}),ee=()=>(0,y.jsx)(n.NavigationContainer,{children:(0,y.jsxs)(X.Navigator,{initialRouteName:"Login",children:[(0,y.jsx)(X.Screen,{name:"Login",component:T,options:{headerShown:!1}}),(0,y.jsx)(X.Screen,{name:"Register",component:_,options:{headerShown:!1}}),(0,y.jsx)(X.Screen,{name:"ForgotPassword",component:k,options:{headerShown:!1}}),(0,y.jsx)(X.Screen,{name:"Home",component:W,options:{headerShown:!1}}),(0,y.jsx)(X.Screen,{name:"MainTabs",component:Q,options:{headerShown:!1}})]})});(0,r.default)(ee)},9718:(e,t,o)=>{e.exports=o.p+"static/media/logo.e0e010e7276d24bd9dde.jpg"}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,o),n.exports}o.m=e,(()=>{var e=[];o.O=(t,r,a,n)=>{if(!r){var l=1/0;for(d=0;d<e.length;d++){for(var[r,a,n]=e[d],s=!0,i=0;i<r.length;i++)(!1&n||l>=n)&&Object.keys(o.O).every((e=>o.O[e](r[i])))?r.splice(i--,1):(s=!1,n<l&&(l=n));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,a,n]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/",(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var a,n,[l,s,i]=r,c=0;if(l.some((t=>0!==e[t]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(i)var d=i(o)}for(t&&t(r);c<l.length;c++)n=l[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=o.O(void 0,[478],(()=>o(7119)));r=o.O(r)})();
//# sourceMappingURL=main.3a024d32.js.map